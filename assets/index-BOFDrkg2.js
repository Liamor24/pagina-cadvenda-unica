function rx(r,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Dm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vc={exports:{}},Ro={},Wc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function nx(){if(xp)return Re;xp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function E(A,K,ye){this.props=A,this.context=K,this.refs=x,this.updater=ye||S}E.prototype.isReactComponent={},E.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=E.prototype;function R(A,K,ye){this.props=A,this.context=K,this.refs=x,this.updater=ye||S}var N=R.prototype=new C;N.constructor=R,k(N,E.prototype),N.isPureReactComponent=!0;var D=Array.isArray,U=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function W(A,K,ye){var we,be={},ge=null,oe=null;if(K!=null)for(we in K.ref!==void 0&&(oe=K.ref),K.key!==void 0&&(ge=""+K.key),K)U.call(K,we)&&!P.hasOwnProperty(we)&&(be[we]=K[we]);var fe=arguments.length-2;if(fe===1)be.children=ye;else if(1<fe){for(var Se=Array(fe),Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];be.children=Se}if(A&&A.defaultProps)for(we in fe=A.defaultProps,fe)be[we]===void 0&&(be[we]=fe[we]);return{$$typeof:r,type:A,key:ge,ref:oe,props:be,_owner:F.current}}function L(A,K){return{$$typeof:r,type:A.type,key:K,ref:A.ref,props:A.props,_owner:A._owner}}function I(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function H(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ye){return K[ye]})}var $=/\/+/g;function q(A,K){return typeof A=="object"&&A!==null&&A.key!=null?H(""+A.key):K.toString(36)}function re(A,K,ye,we,be){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ge){case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case r:case e:oe=!0}}if(oe)return oe=A,be=be(oe),A=we===""?"."+q(oe,0):we,D(be)?(ye="",A!=null&&(ye=A.replace($,"$&/")+"/"),re(be,K,ye,"",function(Ee){return Ee})):be!=null&&(I(be)&&(be=L(be,ye+(!be.key||oe&&oe.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+A)),K.push(be)),1;if(oe=0,we=we===""?".":we+":",D(A))for(var fe=0;fe<A.length;fe++){ge=A[fe];var Se=we+q(ge,fe);oe+=re(ge,K,ye,Se,be)}else if(Se=b(A),typeof Se=="function")for(A=Se.call(A),fe=0;!(ge=A.next()).done;)ge=ge.value,Se=we+q(ge,fe++),oe+=re(ge,K,ye,Se,be);else if(ge==="object")throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return oe}function se(A,K,ye){if(A==null)return A;var we=[],be=0;return re(A,we,"","",function(ge){return K.call(ye,ge,be++)}),we}function G(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(ye){(A._status===0||A._status===-1)&&(A._status=1,A._result=ye)},function(ye){(A._status===0||A._status===-1)&&(A._status=2,A._result=ye)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var Y={current:null},V={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:V,ReactCurrentOwner:F};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:se,forEach:function(A,K,ye){se(A,function(){K.apply(this,arguments)},ye)},count:function(A){var K=0;return se(A,function(){K++}),K},toArray:function(A){return se(A,function(K){return K})||[]},only:function(A){if(!I(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=E,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=R,Re.StrictMode=o,Re.Suspense=h,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Re.act=ee,Re.cloneElement=function(A,K,ye){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var we=k({},A.props),be=A.key,ge=A.ref,oe=A._owner;if(K!=null){if(K.ref!==void 0&&(ge=K.ref,oe=F.current),K.key!==void 0&&(be=""+K.key),A.type&&A.type.defaultProps)var fe=A.type.defaultProps;for(Se in K)U.call(K,Se)&&!P.hasOwnProperty(Se)&&(we[Se]=K[Se]===void 0&&fe!==void 0?fe[Se]:K[Se])}var Se=arguments.length-2;if(Se===1)we.children=ye;else if(1<Se){fe=Array(Se);for(var Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];we.children=fe}return{$$typeof:r,type:A.type,key:be,ref:ge,props:we,_owner:oe}},Re.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Re.createElement=W,Re.createFactory=function(A){var K=W.bind(null,A);return K.type=A,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:d,render:A}},Re.isValidElement=I,Re.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:G}},Re.memo=function(A,K){return{$$typeof:m,type:A,compare:K===void 0?null:K}},Re.startTransition=function(A){var K=V.transition;V.transition={};try{A()}finally{V.transition=K}},Re.unstable_act=ee,Re.useCallback=function(A,K){return Y.current.useCallback(A,K)},Re.useContext=function(A){return Y.current.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A){return Y.current.useDeferredValue(A)},Re.useEffect=function(A,K){return Y.current.useEffect(A,K)},Re.useId=function(){return Y.current.useId()},Re.useImperativeHandle=function(A,K,ye){return Y.current.useImperativeHandle(A,K,ye)},Re.useInsertionEffect=function(A,K){return Y.current.useInsertionEffect(A,K)},Re.useLayoutEffect=function(A,K){return Y.current.useLayoutEffect(A,K)},Re.useMemo=function(A,K){return Y.current.useMemo(A,K)},Re.useReducer=function(A,K,ye){return Y.current.useReducer(A,K,ye)},Re.useRef=function(A){return Y.current.useRef(A)},Re.useState=function(A){return Y.current.useState(A)},Re.useSyncExternalStore=function(A,K,ye){return Y.current.useSyncExternalStore(A,K,ye)},Re.useTransition=function(){return Y.current.useTransition()},Re.version="18.3.1",Re}var _p;function Hu(){return _p||(_p=1,Wc.exports=nx()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function sx(){if(bp)return Ro;bp=1;var r=Hu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var v,y={},b=null,S=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)o.call(h,v)&&!l.hasOwnProperty(v)&&(y[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:d,key:b,ref:S,props:y,_owner:a.current}}return Ro.Fragment=n,Ro.jsx=u,Ro.jsxs=u,Ro}var Sp;function ox(){return Sp||(Sp=1,Vc.exports=sx()),Vc.exports}var p=ox(),w=Hu();const Nr=Dm(w),qu=rx({__proto__:null,default:Nr},[w]);var aa={},Hc={exports:{}},Ot={},qc={exports:{}},Kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function ix(){return Ep||(Ep=1,(function(r){function e(V,Q){var ee=V.length;V.push(Q);e:for(;0<ee;){var A=ee-1>>>1,K=V[A];if(0<a(K,Q))V[A]=Q,V[ee]=K,ee=A;else break e}}function n(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var Q=V[0],ee=V.pop();if(ee!==Q){V[0]=ee;e:for(var A=0,K=V.length,ye=K>>>1;A<ye;){var we=2*(A+1)-1,be=V[we],ge=we+1,oe=V[ge];if(0>a(be,ee))ge<K&&0>a(oe,be)?(V[A]=oe,V[ge]=ee,A=ge):(V[A]=be,V[we]=ee,A=we);else if(ge<K&&0>a(oe,ee))V[A]=oe,V[ge]=ee,A=ge;else break e}}return Q}function a(V,Q){var ee=V.sortIndex-Q.sortIndex;return ee!==0?ee:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,y=null,b=3,S=!1,k=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(V){for(var Q=n(m);Q!==null;){if(Q.callback===null)o(m);else if(Q.startTime<=V)o(m),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=n(m)}}function D(V){if(x=!1,N(V),!k)if(n(h)!==null)k=!0,G(U);else{var Q=n(m);Q!==null&&Y(D,Q.startTime-V)}}function U(V,Q){k=!1,x&&(x=!1,C(W),W=-1),S=!0;var ee=b;try{for(N(Q),y=n(h);y!==null&&(!(y.expirationTime>Q)||V&&!H());){var A=y.callback;if(typeof A=="function"){y.callback=null,b=y.priorityLevel;var K=A(y.expirationTime<=Q);Q=r.unstable_now(),typeof K=="function"?y.callback=K:y===n(h)&&o(h),N(Q)}else o(h);y=n(h)}if(y!==null)var ye=!0;else{var we=n(m);we!==null&&Y(D,we.startTime-Q),ye=!1}return ye}finally{y=null,b=ee,S=!1}}var F=!1,P=null,W=-1,L=5,I=-1;function H(){return!(r.unstable_now()-I<L)}function $(){if(P!==null){var V=r.unstable_now();I=V;var Q=!0;try{Q=P(!0,V)}finally{Q?q():(F=!1,P=null)}}else F=!1}var q;if(typeof R=="function")q=function(){R($)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,se=re.port2;re.port1.onmessage=$,q=function(){se.postMessage(null)}}else q=function(){E($,0)};function G(V){P=V,F||(F=!0,q())}function Y(V,Q){W=E(function(){V(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_continueExecution=function(){k||S||(k=!0,G(U))},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return n(h)},r.unstable_next=function(V){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var ee=b;b=Q;try{return V()}finally{b=ee}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=b;b=V;try{return Q()}finally{b=ee}},r.unstable_scheduleCallback=function(V,Q,ee){var A=r.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?A+ee:A):ee=A,V){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,V={id:v++,callback:Q,priorityLevel:V,startTime:ee,expirationTime:K,sortIndex:-1},ee>A?(V.sortIndex=ee,e(m,V),n(h)===null&&V===n(m)&&(x?(C(W),W=-1):x=!0,Y(D,ee-A))):(V.sortIndex=K,e(h,V),k||S||(k=!0,G(U))),V},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(V){var Q=b;return function(){var ee=b;b=Q;try{return V.apply(this,arguments)}finally{b=ee}}}})(Kc)),Kc}var kp;function ax(){return kp||(kp=1,qc.exports=ix()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function lx(){if(Cp)return Ot;Cp=1;var r=Hu(),e=ax();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)o.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function b(t){return h.call(y,t)?!0:h.call(v,t)?!1:m.test(t)?y[t]=!0:(v[t]=!0,!1)}function S(t,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,s,i,c){if(s===null||typeof s>"u"||S(t,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(t,s,i,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=t,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new x(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];E[s]=new x(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new x(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new x(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new x(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new x(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new x(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new x(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new x(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(C,R);E[s]=new x(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(C,R);E[s]=new x(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(C,R);E[s]=new x(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new x(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new x(t,1,!1,t.toLowerCase(),null,!0,!0)});function N(t,s,i,c){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,i,f,c)&&(i=null),c||f===null?b(s)&&(i===null?t.removeAttribute(s):t.setAttribute(s,""+i)):f.mustUseProperty?t[f.propertyName]=i===null?f.type===3?!1:"":i:(s=f.attributeName,c=f.attributeNamespace,i===null?t.removeAttribute(s):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,c?t.setAttributeNS(c,s,i):t.setAttribute(s,i))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),V=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,A;function K(t){if(A===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+t}var ye=!1;function we(t,s){if(!t||ye)return"";ye=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(t,[],s)}else{try{s.call()}catch(B){c=B}t.call(s.prototype)}else{try{throw Error()}catch(B){c=B}t()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,T=g.length-1;1<=_&&0<=T&&f[_]!==g[T];)T--;for(;1<=_&&0<=T;_--,T--)if(f[_]!==g[T]){if(_!==1||T!==1)do if(_--,T--,0>T||f[_]!==g[T]){var j=`
`+f[_].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=_&&0<=T);break}}}finally{ye=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?K(t):""}function be(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function ge(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case F:return"Portal";case L:return"Profiler";case W:return"StrictMode";case q:return"Suspense";case re:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Consumer";case I:return(t._context.displayName||"Context")+".Provider";case $:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case se:return s=t.displayName||null,s!==null?s:ge(t.type)||"Memo";case G:s=t._payload,t=t._init;try{return ge(t(s))}catch{}}return null}function oe(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Se(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ee(t){var s=Se(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ae(t){t._valueTracker||(t._valueTracker=Ee(t))}function ze(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return t&&(c=Se(t)?t.checked?"true":"false":t.value),t=c,t!==i?(s.setValue(t),!0):!1}function nt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function te(t,s){var i=s.checked;return ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function _e(t,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=fe(s.value!=null?s.value:i),t._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ce(t,s){s=s.checked,s!=null&&N(t,"checked",s,!1)}function Le(t,s){Ce(t,s);var i=fe(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ut(t,s.type,i):s.hasOwnProperty("defaultValue")&&ut(t,s.type,fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function st(t,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,i||s===t.value||(t.value=s),t.defaultValue=s}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ut(t,s,i){(s!=="number"||nt(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Qe=Array.isArray;function dt(t,s,i,c){if(t=t.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=s.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&c&&(t[i].defaultSelected=!0)}else{for(i=""+fe(i),s=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function gt(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function It(t,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(Qe(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}t._wrapperState={initialValue:fe(i)}}function mn(t,s){var i=fe(s.value),c=fe(s.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),s.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),c!=null&&(t.defaultValue=""+c)}function Bt(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Ad(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Ad(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zo,Od=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,f){MSApp.execUnsafeLocalFunction(function(){return t(s,i,c,f)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Bs(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iw=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(t){iw.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Vs[s]=Vs[t]})});function Id(t,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||Vs.hasOwnProperty(t)&&Vs[t]?(""+s).trim():s+"px"}function Dd(t,s){t=t.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,f=Id(i,s[i],c);i==="float"&&(i="cssFloat"),c?t.setProperty(i,f):t[i]=f}}var aw=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(t,s){if(s){if(aw[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function rl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ol=null,Vn=null,Wn=null;function $d(t){if(t=fo(t)){if(typeof ol!="function")throw Error(n(280));var s=t.stateNode;s&&(s=bi(s),ol(t.stateNode,t.type,s))}}function Ld(t){Vn?Wn?Wn.push(t):Wn=[t]:Vn=t}function Md(){if(Vn){var t=Vn,s=Wn;if(Wn=Vn=null,$d(t),s)for(t=0;t<s.length;t++)$d(s[t])}}function Fd(t,s){return t(s)}function Ud(){}var il=!1;function zd(t,s,i){if(il)return t(s,i);il=!0;try{return Fd(t,s,i)}finally{il=!1,(Vn!==null||Wn!==null)&&(Ud(),Md())}}function Ws(t,s){var i=t.stateNode;if(i===null)return null;var c=bi(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var al=!1;if(d)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){al=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{al=!1}function lw(t,s,i,c,f,g,_,T,j){var B=Array.prototype.slice.call(arguments,3);try{s.apply(i,B)}catch(X){this.onError(X)}}var qs=!1,ei=null,ti=!1,ll=null,cw={onError:function(t){qs=!0,ei=t}};function uw(t,s,i,c,f,g,_,T,j){qs=!1,ei=null,lw.apply(cw,arguments)}function dw(t,s,i,c,f,g,_,T,j){if(uw.apply(this,arguments),qs){if(qs){var B=ei;qs=!1,ei=null}else throw Error(n(198));ti||(ti=!0,ll=B)}}function gn(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function Bd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Vd(t){if(gn(t)!==t)throw Error(n(188))}function fw(t){var s=t.alternate;if(!s){if(s=gn(t),s===null)throw Error(n(188));return s!==t?null:t}for(var i=t,c=s;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return Vd(f),t;if(g===c)return Vd(f),s;g=g.sibling}throw Error(n(188))}if(i.return!==c.return)i=f,c=g;else{for(var _=!1,T=f.child;T;){if(T===i){_=!0,i=f,c=g;break}if(T===c){_=!0,c=f,i=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===i){_=!0,i=g,c=f;break}if(T===c){_=!0,c=g,i=f;break}T=T.sibling}if(!_)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?t:s}function Wd(t){return t=fw(t),t!==null?Hd(t):null}function Hd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Hd(t);if(s!==null)return s;t=t.sibling}return null}var qd=e.unstable_scheduleCallback,Kd=e.unstable_cancelCallback,hw=e.unstable_shouldYield,pw=e.unstable_requestPaint,Xe=e.unstable_now,mw=e.unstable_getCurrentPriorityLevel,cl=e.unstable_ImmediatePriority,Gd=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,gw=e.unstable_LowPriority,Jd=e.unstable_IdlePriority,ni=null,lr=null;function vw(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:xw,yw=Math.log,ww=Math.LN2;function xw(t){return t>>>=0,t===0?32:31-(yw(t)/ww|0)|0}var si=64,oi=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,s){var i=t.pendingLanes;if(i===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes,_=i&268435455;if(_!==0){var T=_&~f;T!==0?c=Ks(T):(g&=_,g!==0&&(c=Ks(g)))}else _=i&~f,_!==0?c=Ks(_):g!==0&&(c=Ks(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)i=31-Jt(s),f=1<<i,c|=t[i],s&=~f;return c}function _w(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bw(t,s){for(var i=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-Jt(g),T=1<<_,j=f[_];j===-1?((T&i)===0||(T&c)!==0)&&(f[_]=_w(T,s)):j<=s&&(t.expiredLanes|=T),g&=~T}}function ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yd(){var t=si;return si<<=1,(si&4194240)===0&&(si=64),t}function dl(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function Gs(t,s,i){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Jt(s),t[s]=i}function Sw(t,s){var i=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<i;){var f=31-Jt(i),g=1<<f;s[f]=0,c[f]=-1,t[f]=-1,i&=~g}}function fl(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var c=31-Jt(i),f=1<<c;f&s|t[c]&s&&(t[c]|=s),i&=~f}}var De=0;function Qd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Xd,hl,Zd,ef,tf,pl=!1,ai=[],$r=null,Lr=null,Mr=null,Js=new Map,Ys=new Map,Fr=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(t,s){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Js.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(s.pointerId)}}function Qs(t,s,i,c,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=fo(s),s!==null&&hl(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function kw(t,s,i,c,f){switch(s){case"focusin":return $r=Qs($r,t,s,i,c,f),!0;case"dragenter":return Lr=Qs(Lr,t,s,i,c,f),!0;case"mouseover":return Mr=Qs(Mr,t,s,i,c,f),!0;case"pointerover":var g=f.pointerId;return Js.set(g,Qs(Js.get(g)||null,t,s,i,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Ys.set(g,Qs(Ys.get(g)||null,t,s,i,c,f)),!0}return!1}function nf(t){var s=vn(t.target);if(s!==null){var i=gn(s);if(i!==null){if(s=i.tag,s===13){if(s=Bd(i),s!==null){t.blockedOn=s,tf(t.priority,function(){Zd(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function li(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=gl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);nl=c,i.target.dispatchEvent(c),nl=null}else return s=fo(i),s!==null&&hl(s),t.blockedOn=i,!1;s.shift()}return!0}function sf(t,s,i){li(t)&&i.delete(s)}function Cw(){pl=!1,$r!==null&&li($r)&&($r=null),Lr!==null&&li(Lr)&&(Lr=null),Mr!==null&&li(Mr)&&(Mr=null),Js.forEach(sf),Ys.forEach(sf)}function Xs(t,s){t.blockedOn===s&&(t.blockedOn=null,pl||(pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cw)))}function Zs(t){function s(f){return Xs(f,t)}if(0<ai.length){Xs(ai[0],t);for(var i=1;i<ai.length;i++){var c=ai[i];c.blockedOn===t&&(c.blockedOn=null)}}for($r!==null&&Xs($r,t),Lr!==null&&Xs(Lr,t),Mr!==null&&Xs(Mr,t),Js.forEach(s),Ys.forEach(s),i=0;i<Fr.length;i++)c=Fr[i],c.blockedOn===t&&(c.blockedOn=null);for(;0<Fr.length&&(i=Fr[0],i.blockedOn===null);)nf(i),i.blockedOn===null&&Fr.shift()}var Hn=D.ReactCurrentBatchConfig,ci=!0;function Rw(t,s,i,c){var f=De,g=Hn.transition;Hn.transition=null;try{De=1,ml(t,s,i,c)}finally{De=f,Hn.transition=g}}function Tw(t,s,i,c){var f=De,g=Hn.transition;Hn.transition=null;try{De=4,ml(t,s,i,c)}finally{De=f,Hn.transition=g}}function ml(t,s,i,c){if(ci){var f=gl(t,s,i,c);if(f===null)Ol(t,s,c,ui,i),rf(t,c);else if(kw(f,t,s,i,c))c.stopPropagation();else if(rf(t,c),s&4&&-1<Ew.indexOf(t)){for(;f!==null;){var g=fo(f);if(g!==null&&Xd(g),g=gl(t,s,i,c),g===null&&Ol(t,s,c,ui,i),g===f)break;f=g}f!==null&&c.stopPropagation()}else Ol(t,s,c,null,i)}}var ui=null;function gl(t,s,i,c){if(ui=null,t=sl(c),t=vn(t),t!==null)if(s=gn(t),s===null)t=null;else if(i=s.tag,i===13){if(t=Bd(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ui=t,null}function of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mw()){case cl:return 1;case Gd:return 4;case ri:case gw:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var Ur=null,vl=null,di=null;function af(){if(di)return di;var t,s=vl,i=s.length,c,f="value"in Ur?Ur.value:Ur.textContent,g=f.length;for(t=0;t<i&&s[t]===f[t];t++);var _=i-t;for(c=1;c<=_&&s[i-c]===f[g-c];c++);return di=f.slice(t,1<c?1-c:void 0)}function fi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function lf(){return!1}function Dt(t){function s(i,c,f,g,_){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:lf,this.isPropagationStopped=lf,this}return ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Dt(qn),eo=ee({},qn,{view:0,detail:0}),Nw=Dt(eo),wl,xl,to,pi=ee({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(wl=t.screenX-to.screenX,xl=t.screenY-to.screenY):xl=wl=0,to=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:xl}}),cf=Dt(pi),Pw=ee({},pi,{dataTransfer:0}),jw=Dt(Pw),Aw=ee({},eo,{relatedTarget:0}),_l=Dt(Aw),Ow=ee({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Iw=Dt(Ow),Dw=ee({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$w=Dt(Dw),Lw=ee({},qn,{data:0}),uf=Dt(Lw),Mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zw(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Uw[t])?!!s[t]:!1}function bl(){return zw}var Bw=ee({},eo,{key:function(t){if(t.key){var s=Mw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vw=Dt(Bw),Ww=ee({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=Dt(Ww),Hw=ee({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),qw=Dt(Hw),Kw=ee({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gw=Dt(Kw),Jw=ee({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yw=Dt(Jw),Qw=[9,13,27,32],Sl=d&&"CompositionEvent"in window,ro=null;d&&"documentMode"in document&&(ro=document.documentMode);var Xw=d&&"TextEvent"in window&&!ro,ff=d&&(!Sl||ro&&8<ro&&11>=ro),hf=" ",pf=!1;function mf(t,s){switch(t){case"keyup":return Qw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kn=!1;function Zw(t,s){switch(t){case"compositionend":return gf(s);case"keypress":return s.which!==32?null:(pf=!0,hf);case"textInput":return t=s.data,t===hf&&pf?null:t;default:return null}}function e0(t,s){if(Kn)return t==="compositionend"||!Sl&&mf(t,s)?(t=af(),di=vl=Ur=null,Kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ff&&s.locale!=="ko"?null:s.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!t0[t.type]:s==="textarea"}function yf(t,s,i,c){Ld(c),s=wi(s,"onChange"),0<s.length&&(i=new yl("onChange","change",null,i,c),t.push({event:i,listeners:s}))}var no=null,so=null;function r0(t){$f(t,0)}function mi(t){var s=Xn(t);if(ze(s))return t}function n0(t,s){if(t==="change")return s}var wf=!1;if(d){var El;if(d){var kl="oninput"in document;if(!kl){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),kl=typeof xf.oninput=="function"}El=kl}else El=!1;wf=El&&(!document.documentMode||9<document.documentMode)}function _f(){no&&(no.detachEvent("onpropertychange",bf),so=no=null)}function bf(t){if(t.propertyName==="value"&&mi(so)){var s=[];yf(s,so,t,sl(t)),zd(r0,s)}}function s0(t,s,i){t==="focusin"?(_f(),no=s,so=i,no.attachEvent("onpropertychange",bf)):t==="focusout"&&_f()}function o0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mi(so)}function i0(t,s){if(t==="click")return mi(s)}function a0(t,s){if(t==="input"||t==="change")return mi(s)}function l0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Yt=typeof Object.is=="function"?Object.is:l0;function oo(t,s){if(Yt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!h.call(s,f)||!Yt(t[f],s[f]))return!1}return!0}function Sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ef(t,s){var i=Sf(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=s&&c>=s)return{node:i,offset:s-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Sf(i)}}function kf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?kf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Cf(){for(var t=window,s=nt();s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=nt(t.document)}return s}function Cl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function c0(t){var s=Cf(),i=t.focusedElem,c=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&kf(i.ownerDocument.documentElement,i)){if(c!==null&&Cl(i)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(t,i.value.length);else if(t=(s=i.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var f=i.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!t.extend&&g>c&&(f=c,c=g,g=f),f=Ef(i,g);var _=Ef(i,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),t.removeAllRanges(),g>c?(t.addRange(s),t.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),t.addRange(s)))}}for(s=[],t=i;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)t=s[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u0=d&&"documentMode"in document&&11>=document.documentMode,Gn=null,Rl=null,io=null,Tl=!1;function Rf(t,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tl||Gn==null||Gn!==nt(c)||(c=Gn,"selectionStart"in c&&Cl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),io&&oo(io,c)||(io=c,c=wi(Rl,"onSelect"),0<c.length&&(s=new yl("onSelect","select",null,s,i),t.push({event:s,listeners:c}),s.target=Gn)))}function gi(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var Jn={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},Nl={},Tf={};d&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function vi(t){if(Nl[t])return Nl[t];if(!Jn[t])return t;var s=Jn[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in Tf)return Nl[t]=s[i];return t}var Nf=vi("animationend"),Pf=vi("animationiteration"),jf=vi("animationstart"),Af=vi("transitionend"),Of=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,s){Of.set(t,s),l(s,[t])}for(var Pl=0;Pl<If.length;Pl++){var jl=If[Pl],d0=jl.toLowerCase(),f0=jl[0].toUpperCase()+jl.slice(1);zr(d0,"on"+f0)}zr(Nf,"onAnimationEnd"),zr(Pf,"onAnimationIteration"),zr(jf,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Af,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Df(t,s,i){var c=t.type||"unknown-event";t.currentTarget=i,dw(c,s,void 0,t),t.currentTarget=null}function $f(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var T=c[_],j=T.instance,B=T.currentTarget;if(T=T.listener,j!==g&&f.isPropagationStopped())break e;Df(f,T,B),g=j}else for(_=0;_<c.length;_++){if(T=c[_],j=T.instance,B=T.currentTarget,T=T.listener,j!==g&&f.isPropagationStopped())break e;Df(f,T,B),g=j}}}if(ti)throw t=ll,ti=!1,ll=null,t}function Be(t,s){var i=s[Fl];i===void 0&&(i=s[Fl]=new Set);var c=t+"__bubble";i.has(c)||(Lf(s,t,2,!1),i.add(c))}function Al(t,s,i){var c=0;s&&(c|=4),Lf(i,t,c,s)}var yi="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[yi]){t[yi]=!0,o.forEach(function(i){i!=="selectionchange"&&(h0.has(i)||Al(i,!1,t),Al(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yi]||(s[yi]=!0,Al("selectionchange",!1,s))}}function Lf(t,s,i,c){switch(of(s)){case 1:var f=Rw;break;case 4:f=Tw;break;default:f=ml}i=f.bind(null,s,i,t),f=void 0,!al||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,i,{capture:!0,passive:f}):t.addEventListener(s,i,!0):f!==void 0?t.addEventListener(s,i,{passive:f}):t.addEventListener(s,i,!1)}function Ol(t,s,i,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var j=_.tag;if((j===3||j===4)&&(j=_.stateNode.containerInfo,j===f||j.nodeType===8&&j.parentNode===f))return;_=_.return}for(;T!==null;){if(_=vn(T),_===null)return;if(j=_.tag,j===5||j===6){c=g=_;continue e}T=T.parentNode}}c=c.return}zd(function(){var B=g,X=sl(i),Z=[];e:{var J=Of.get(t);if(J!==void 0){var ie=yl,le=t;switch(t){case"keypress":if(fi(i)===0)break e;case"keydown":case"keyup":ie=Vw;break;case"focusin":le="focus",ie=_l;break;case"focusout":le="blur",ie=_l;break;case"beforeblur":case"afterblur":ie=_l;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=qw;break;case Nf:case Pf:case jf:ie=Iw;break;case Af:ie=Gw;break;case"scroll":ie=Nw;break;case"wheel":ie=Yw;break;case"copy":case"cut":case"paste":ie=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=df}var ce=(s&4)!==0,Ze=!ce&&t==="scroll",M=ce?J!==null?J+"Capture":null:J;ce=[];for(var O=B,z;O!==null;){z=O;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,M!==null&&(ne=Ws(O,M),ne!=null&&ce.push(co(O,ne,z)))),Ze)break;O=O.return}0<ce.length&&(J=new ie(J,le,null,i,X),Z.push({event:J,listeners:ce}))}}if((s&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",J&&i!==nl&&(le=i.relatedTarget||i.fromElement)&&(vn(le)||le[xr]))break e;if((ie||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(le=i.relatedTarget||i.toElement,ie=B,le=le?vn(le):null,le!==null&&(Ze=gn(le),le!==Ze||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ce=cf,ne="onMouseLeave",M="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ce=df,ne="onPointerLeave",M="onPointerEnter",O="pointer"),Ze=ie==null?J:Xn(ie),z=le==null?J:Xn(le),J=new ce(ne,O+"leave",ie,i,X),J.target=Ze,J.relatedTarget=z,ne=null,vn(X)===B&&(ce=new ce(M,O+"enter",le,i,X),ce.target=z,ce.relatedTarget=Ze,ne=ce),Ze=ne,ie&&le)t:{for(ce=ie,M=le,O=0,z=ce;z;z=Yn(z))O++;for(z=0,ne=M;ne;ne=Yn(ne))z++;for(;0<O-z;)ce=Yn(ce),O--;for(;0<z-O;)M=Yn(M),z--;for(;O--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=Yn(ce),M=Yn(M)}ce=null}else ce=null;ie!==null&&Mf(Z,J,ie,ce,!1),le!==null&&Ze!==null&&Mf(Z,Ze,le,ce,!0)}}e:{if(J=B?Xn(B):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var ue=n0;else if(vf(J))if(wf)ue=a0;else{ue=o0;var he=s0}else(ie=J.nodeName)&&ie.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ue=i0);if(ue&&(ue=ue(t,B))){yf(Z,ue,i,X);break e}he&&he(t,J,B),t==="focusout"&&(he=J._wrapperState)&&he.controlled&&J.type==="number"&&ut(J,"number",J.value)}switch(he=B?Xn(B):window,t){case"focusin":(vf(he)||he.contentEditable==="true")&&(Gn=he,Rl=B,io=null);break;case"focusout":io=Rl=Gn=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,Rf(Z,i,X);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Rf(Z,i,X)}var pe;if(Sl)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Kn?mf(t,i)&&(xe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(ff&&i.locale!=="ko"&&(Kn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Kn&&(pe=af()):(Ur=X,vl="value"in Ur?Ur.value:Ur.textContent,Kn=!0)),he=wi(B,xe),0<he.length&&(xe=new uf(xe,t,null,i,X),Z.push({event:xe,listeners:he}),pe?xe.data=pe:(pe=gf(i),pe!==null&&(xe.data=pe)))),(pe=Xw?Zw(t,i):e0(t,i))&&(B=wi(B,"onBeforeInput"),0<B.length&&(X=new uf("onBeforeInput","beforeinput",null,i,X),Z.push({event:X,listeners:B}),X.data=pe))}$f(Z,s)})}function co(t,s,i){return{instance:t,listener:s,currentTarget:i}}function wi(t,s){for(var i=s+"Capture",c=[];t!==null;){var f=t,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ws(t,i),g!=null&&c.unshift(co(t,g,f)),g=Ws(t,s),g!=null&&c.push(co(t,g,f))),t=t.return}return c}function Yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mf(t,s,i,c,f){for(var g=s._reactName,_=[];i!==null&&i!==c;){var T=i,j=T.alternate,B=T.stateNode;if(j!==null&&j===c)break;T.tag===5&&B!==null&&(T=B,f?(j=Ws(i,g),j!=null&&_.unshift(co(i,j,T))):f||(j=Ws(i,g),j!=null&&_.push(co(i,j,T)))),i=i.return}_.length!==0&&t.push({event:s,listeners:_})}var p0=/\r\n?/g,m0=/\u0000|\uFFFD/g;function Ff(t){return(typeof t=="string"?t:""+t).replace(p0,`
`).replace(m0,"")}function xi(t,s,i){if(s=Ff(s),Ff(t)!==s&&i)throw Error(n(425))}function _i(){}var Il=null,Dl=null;function $l(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,g0=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(t){return Uf.resolve(null).then(t).catch(y0)}:Ll;function y0(t){setTimeout(function(){throw t})}function Ml(t,s){var i=s,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(c===0){t.removeChild(f),Zs(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=f}while(i);Zs(s)}function Br(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function zf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),cr="__reactFiber$"+Qn,uo="__reactProps$"+Qn,xr="__reactContainer$"+Qn,Fl="__reactEvents$"+Qn,w0="__reactListeners$"+Qn,x0="__reactHandles$"+Qn;function vn(t){var s=t[cr];if(s)return s;for(var i=t.parentNode;i;){if(s=i[xr]||i[cr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=zf(t);t!==null;){if(i=t[cr])return i;t=zf(t)}return s}t=i,i=t.parentNode}return null}function fo(t){return t=t[cr]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function bi(t){return t[uo]||null}var Ul=[],Zn=-1;function Vr(t){return{current:t}}function Ve(t){0>Zn||(t.current=Ul[Zn],Ul[Zn]=null,Zn--)}function Fe(t,s){Zn++,Ul[Zn]=t.current,t.current=s}var Wr={},bt=Vr(Wr),Tt=Vr(!1),yn=Wr;function es(t,s){var i=t.type.contextTypes;if(!i)return Wr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in i)f[g]=s[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=f),f}function Nt(t){return t=t.childContextTypes,t!=null}function Si(){Ve(Tt),Ve(bt)}function Bf(t,s,i){if(bt.current!==Wr)throw Error(n(168));Fe(bt,s),Fe(Tt,i)}function Vf(t,s,i){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,oe(t)||"Unknown",f));return ee({},i,c)}function Ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,yn=bt.current,Fe(bt,t),Fe(Tt,Tt.current),!0}function Wf(t,s,i){var c=t.stateNode;if(!c)throw Error(n(169));i?(t=Vf(t,s,yn),c.__reactInternalMemoizedMergedChildContext=t,Ve(Tt),Ve(bt),Fe(bt,t)):Ve(Tt),Fe(Tt,i)}var _r=null,ki=!1,zl=!1;function Hf(t){_r===null?_r=[t]:_r.push(t)}function _0(t){ki=!0,Hf(t)}function Hr(){if(!zl&&_r!==null){zl=!0;var t=0,s=De;try{var i=_r;for(De=1;t<i.length;t++){var c=i[t];do c=c(!0);while(c!==null)}_r=null,ki=!1}catch(f){throw _r!==null&&(_r=_r.slice(t+1)),qd(cl,Hr),f}finally{De=s,zl=!1}}return null}var ts=[],rs=0,Ci=null,Ri=0,Vt=[],Wt=0,wn=null,br=1,Sr="";function xn(t,s){ts[rs++]=Ri,ts[rs++]=Ci,Ci=t,Ri=s}function qf(t,s,i){Vt[Wt++]=br,Vt[Wt++]=Sr,Vt[Wt++]=wn,wn=t;var c=br;t=Sr;var f=32-Jt(c)-1;c&=~(1<<f),i+=1;var g=32-Jt(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,br=1<<32-Jt(s)+f|i<<f|c,Sr=g+t}else br=1<<g|i<<f|c,Sr=t}function Bl(t){t.return!==null&&(xn(t,1),qf(t,1,0))}function Vl(t){for(;t===Ci;)Ci=ts[--rs],ts[rs]=null,Ri=ts[--rs],ts[rs]=null;for(;t===wn;)wn=Vt[--Wt],Vt[Wt]=null,Sr=Vt[--Wt],Vt[Wt]=null,br=Vt[--Wt],Vt[Wt]=null}var $t=null,Lt=null,He=!1,Qt=null;function Kf(t,s){var i=Gt(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=t,s=t.deletions,s===null?(t.deletions=[i],t.flags|=16):s.push(i)}function Gf(t,s){switch(t.tag){case 5:var i=t.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,$t=t,Lt=Br(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,$t=t,Lt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=wn!==null?{id:br,overflow:Sr}:null,t.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Gt(18,null,null,0),i.stateNode=s,i.return=t,t.child=i,$t=t,Lt=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hl(t){if(He){var s=Lt;if(s){var i=s;if(!Gf(t,s)){if(Wl(t))throw Error(n(418));s=Br(i.nextSibling);var c=$t;s&&Gf(t,s)?Kf(c,i):(t.flags=t.flags&-4097|2,He=!1,$t=t)}}else{if(Wl(t))throw Error(n(418));t.flags=t.flags&-4097|2,He=!1,$t=t}}}function Jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ti(t){if(t!==$t)return!1;if(!He)return Jf(t),He=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!$l(t.type,t.memoizedProps)),s&&(s=Lt)){if(Wl(t))throw Yf(),Error(n(418));for(;s;)Kf(t,s),s=Br(s.nextSibling)}if(Jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(s===0){Lt=Br(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}t=t.nextSibling}Lt=null}}else Lt=$t?Br(t.stateNode.nextSibling):null;return!0}function Yf(){for(var t=Lt;t;)t=Br(t.nextSibling)}function ns(){Lt=$t=null,He=!1}function ql(t){Qt===null?Qt=[t]:Qt.push(t)}var b0=D.ReactCurrentBatchConfig;function ho(t,s,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,t));var f=c,g=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var T=f.refs;_===null?delete T[g]:T[g]=_},s._stringRef=g,s)}if(typeof t!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,t))}return t}function Ni(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Qf(t){var s=t._init;return s(t._payload)}function Xf(t){function s(M,O){if(t){var z=M.deletions;z===null?(M.deletions=[O],M.flags|=16):z.push(O)}}function i(M,O){if(!t)return null;for(;O!==null;)s(M,O),O=O.sibling;return null}function c(M,O){for(M=new Map;O!==null;)O.key!==null?M.set(O.key,O):M.set(O.index,O),O=O.sibling;return M}function f(M,O){return M=Zr(M,O),M.index=0,M.sibling=null,M}function g(M,O,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<O?(M.flags|=2,O):z):(M.flags|=2,O)):(M.flags|=1048576,O)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,O,z,ne){return O===null||O.tag!==6?(O=Lc(z,M.mode,ne),O.return=M,O):(O=f(O,z),O.return=M,O)}function j(M,O,z,ne){var ue=z.type;return ue===P?X(M,O,z.props.children,ne,z.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===G&&Qf(ue)===O.type)?(ne=f(O,z.props),ne.ref=ho(M,O,z),ne.return=M,ne):(ne=Zi(z.type,z.key,z.props,null,M.mode,ne),ne.ref=ho(M,O,z),ne.return=M,ne)}function B(M,O,z,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Mc(z,M.mode,ne),O.return=M,O):(O=f(O,z.children||[]),O.return=M,O)}function X(M,O,z,ne,ue){return O===null||O.tag!==7?(O=Tn(z,M.mode,ne,ue),O.return=M,O):(O=f(O,z),O.return=M,O)}function Z(M,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Lc(""+O,M.mode,z),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return z=Zi(O.type,O.key,O.props,null,M.mode,z),z.ref=ho(M,null,O),z.return=M,z;case F:return O=Mc(O,M.mode,z),O.return=M,O;case G:var ne=O._init;return Z(M,ne(O._payload),z)}if(Qe(O)||Q(O))return O=Tn(O,M.mode,z,null),O.return=M,O;Ni(M,O)}return null}function J(M,O,z,ne){var ue=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ue!==null?null:T(M,O,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===ue?j(M,O,z,ne):null;case F:return z.key===ue?B(M,O,z,ne):null;case G:return ue=z._init,J(M,O,ue(z._payload),ne)}if(Qe(z)||Q(z))return ue!==null?null:X(M,O,z,ne,null);Ni(M,z)}return null}function ie(M,O,z,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return M=M.get(z)||null,T(O,M,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case U:return M=M.get(ne.key===null?z:ne.key)||null,j(O,M,ne,ue);case F:return M=M.get(ne.key===null?z:ne.key)||null,B(O,M,ne,ue);case G:var he=ne._init;return ie(M,O,z,he(ne._payload),ue)}if(Qe(ne)||Q(ne))return M=M.get(z)||null,X(O,M,ne,ue,null);Ni(O,ne)}return null}function le(M,O,z,ne){for(var ue=null,he=null,pe=O,xe=O=0,pt=null;pe!==null&&xe<z.length;xe++){pe.index>xe?(pt=pe,pe=null):pt=pe.sibling;var je=J(M,pe,z[xe],ne);if(je===null){pe===null&&(pe=pt);break}t&&pe&&je.alternate===null&&s(M,pe),O=g(je,O,xe),he===null?ue=je:he.sibling=je,he=je,pe=pt}if(xe===z.length)return i(M,pe),He&&xn(M,xe),ue;if(pe===null){for(;xe<z.length;xe++)pe=Z(M,z[xe],ne),pe!==null&&(O=g(pe,O,xe),he===null?ue=pe:he.sibling=pe,he=pe);return He&&xn(M,xe),ue}for(pe=c(M,pe);xe<z.length;xe++)pt=ie(pe,M,xe,z[xe],ne),pt!==null&&(t&&pt.alternate!==null&&pe.delete(pt.key===null?xe:pt.key),O=g(pt,O,xe),he===null?ue=pt:he.sibling=pt,he=pt);return t&&pe.forEach(function(en){return s(M,en)}),He&&xn(M,xe),ue}function ce(M,O,z,ne){var ue=Q(z);if(typeof ue!="function")throw Error(n(150));if(z=ue.call(z),z==null)throw Error(n(151));for(var he=ue=null,pe=O,xe=O=0,pt=null,je=z.next();pe!==null&&!je.done;xe++,je=z.next()){pe.index>xe?(pt=pe,pe=null):pt=pe.sibling;var en=J(M,pe,je.value,ne);if(en===null){pe===null&&(pe=pt);break}t&&pe&&en.alternate===null&&s(M,pe),O=g(en,O,xe),he===null?ue=en:he.sibling=en,he=en,pe=pt}if(je.done)return i(M,pe),He&&xn(M,xe),ue;if(pe===null){for(;!je.done;xe++,je=z.next())je=Z(M,je.value,ne),je!==null&&(O=g(je,O,xe),he===null?ue=je:he.sibling=je,he=je);return He&&xn(M,xe),ue}for(pe=c(M,pe);!je.done;xe++,je=z.next())je=ie(pe,M,xe,je.value,ne),je!==null&&(t&&je.alternate!==null&&pe.delete(je.key===null?xe:je.key),O=g(je,O,xe),he===null?ue=je:he.sibling=je,he=je);return t&&pe.forEach(function(tx){return s(M,tx)}),He&&xn(M,xe),ue}function Ze(M,O,z,ne){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:e:{for(var ue=z.key,he=O;he!==null;){if(he.key===ue){if(ue=z.type,ue===P){if(he.tag===7){i(M,he.sibling),O=f(he,z.props.children),O.return=M,M=O;break e}}else if(he.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===G&&Qf(ue)===he.type){i(M,he.sibling),O=f(he,z.props),O.ref=ho(M,he,z),O.return=M,M=O;break e}i(M,he);break}else s(M,he);he=he.sibling}z.type===P?(O=Tn(z.props.children,M.mode,ne,z.key),O.return=M,M=O):(ne=Zi(z.type,z.key,z.props,null,M.mode,ne),ne.ref=ho(M,O,z),ne.return=M,M=ne)}return _(M);case F:e:{for(he=z.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){i(M,O.sibling),O=f(O,z.children||[]),O.return=M,M=O;break e}else{i(M,O);break}else s(M,O);O=O.sibling}O=Mc(z,M.mode,ne),O.return=M,M=O}return _(M);case G:return he=z._init,Ze(M,O,he(z._payload),ne)}if(Qe(z))return le(M,O,z,ne);if(Q(z))return ce(M,O,z,ne);Ni(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(i(M,O.sibling),O=f(O,z),O.return=M,M=O):(i(M,O),O=Lc(z,M.mode,ne),O.return=M,M=O),_(M)):i(M,O)}return Ze}var ss=Xf(!0),Zf=Xf(!1),Pi=Vr(null),ji=null,os=null,Kl=null;function Gl(){Kl=os=ji=null}function Jl(t){var s=Pi.current;Ve(Pi),t._currentValue=s}function Yl(t,s,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===i)break;t=t.return}}function is(t,s){ji=t,Kl=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Pt=!0),t.firstContext=null)}function Ht(t){var s=t._currentValue;if(Kl!==t)if(t={context:t,memoizedValue:s,next:null},os===null){if(ji===null)throw Error(n(308));os=t,ji.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return s}var _n=null;function Ql(t){_n===null?_n=[t]:_n.push(t)}function eh(t,s,i,c){var f=s.interleaved;return f===null?(i.next=i,Ql(s)):(i.next=f.next,f.next=i),s.interleaved=i,Er(t,c)}function Er(t,s){t.lanes|=s;var i=t.alternate;for(i!==null&&(i.lanes|=s),i=t,t=t.return;t!==null;)t.childLanes|=s,i=t.alternate,i!==null&&(i.childLanes|=s),i=t,t=t.return;return i.tag===3?i.stateNode:null}var qr=!1;function Xl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function th(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kr(t,s,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Er(t,i)}return f=c.interleaved,f===null?(s.next=s,Ql(c)):(s.next=f.next,f.next=s),c.interleaved=s,Er(t,i)}function Ai(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,fl(t,i)}}function rh(t,s){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var _={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?f=g=_:g=g.next=_,i=i.next}while(i!==null);g===null?f=g=s:g=g.next=s}else f=g=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}function Oi(t,s,i,c){var f=t.updateQueue;qr=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var j=T,B=j.next;j.next=null,_===null?g=B:_.next=B,_=j;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=j))}if(g!==null){var Z=f.baseState;_=0,X=B=j=null,T=g;do{var J=T.lane,ie=T.eventTime;if((c&J)===J){X!==null&&(X=X.next={eventTime:ie,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var le=t,ce=T;switch(J=s,ie=i,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){Z=le.call(ie,Z,J);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,J=typeof le=="function"?le.call(ie,Z,J):le,J==null)break e;Z=ee({},Z,J);break e;case 2:qr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,J=f.effects,J===null?f.effects=[T]:J.push(T))}else ie={eventTime:ie,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=ie,j=Z):X=X.next=ie,_|=J;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;J=T,T=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(X===null&&(j=Z),f.baseState=j,f.firstBaseUpdate=B,f.lastBaseUpdate=X,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);En|=_,t.lanes=_,t.memoizedState=Z}}function nh(t,s,i){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],f=c.callback;if(f!==null){if(c.callback=null,c=i,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var po={},ur=Vr(po),mo=Vr(po),go=Vr(po);function bn(t){if(t===po)throw Error(n(174));return t}function Zl(t,s){switch(Fe(go,s),Fe(mo,t),Fe(ur,po),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:el(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=el(s,t)}Ve(ur),Fe(ur,s)}function as(){Ve(ur),Ve(mo),Ve(go)}function sh(t){bn(go.current);var s=bn(ur.current),i=el(s,t.type);s!==i&&(Fe(mo,t),Fe(ur,i))}function ec(t){mo.current===t&&(Ve(ur),Ve(mo))}var Ke=Vr(0);function Ii(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tc=[];function rc(){for(var t=0;t<tc.length;t++)tc[t]._workInProgressVersionPrimary=null;tc.length=0}var Di=D.ReactCurrentDispatcher,nc=D.ReactCurrentBatchConfig,Sn=0,Ge=null,ot=null,ft=null,$i=!1,vo=!1,yo=0,S0=0;function St(){throw Error(n(321))}function sc(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!Yt(t[i],s[i]))return!1;return!0}function oc(t,s,i,c,f,g){if(Sn=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Di.current=t===null||t.memoizedState===null?R0:T0,t=i(c,f),vo){g=0;do{if(vo=!1,yo=0,25<=g)throw Error(n(301));g+=1,ft=ot=null,s.updateQueue=null,Di.current=N0,t=i(c,f)}while(vo)}if(Di.current=Fi,s=ot!==null&&ot.next!==null,Sn=0,ft=ot=Ge=null,$i=!1,s)throw Error(n(300));return t}function ic(){var t=yo!==0;return yo=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=t:ft=ft.next=t,ft}function qt(){if(ot===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var s=ft===null?Ge.memoizedState:ft.next;if(s!==null)ft=s,ot=t;else{if(t===null)throw Error(n(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ft===null?Ge.memoizedState=ft=t:ft=ft.next=t}return ft}function wo(t,s){return typeof s=="function"?s(t):s}function ac(t){var s=qt(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=ot,f=c.baseQueue,g=i.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,i.pending=null}if(f!==null){g=f.next,c=c.baseState;var T=_=null,j=null,B=g;do{var X=B.lane;if((Sn&X)===X)j!==null&&(j=j.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:t(c,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};j===null?(T=j=Z,_=c):j=j.next=Z,Ge.lanes|=X,En|=X}B=B.next}while(B!==null&&B!==g);j===null?_=c:j.next=T,Yt(c,s.memoizedState)||(Pt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=j,i.lastRenderedState=c}if(t=i.interleaved,t!==null){f=t;do g=f.lane,Ge.lanes|=g,En|=g,f=f.next;while(f!==t)}else f===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function lc(t){var s=qt(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=i.dispatch,f=i.pending,g=s.memoizedState;if(f!==null){i.pending=null;var _=f=f.next;do g=t(g,_.action),_=_.next;while(_!==f);Yt(g,s.memoizedState)||(Pt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,c]}function oh(){}function ih(t,s){var i=Ge,c=qt(),f=s(),g=!Yt(c.memoizedState,f);if(g&&(c.memoizedState=f,Pt=!0),c=c.queue,cc(ch.bind(null,i,c,t),[t]),c.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(i.flags|=2048,xo(9,lh.bind(null,i,c,f,s),void 0,null),ht===null)throw Error(n(349));(Sn&30)!==0||ah(i,s,f)}return f}function ah(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function lh(t,s,i,c){s.value=i,s.getSnapshot=c,uh(s)&&dh(t)}function ch(t,s,i){return i(function(){uh(s)&&dh(t)})}function uh(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!Yt(t,i)}catch{return!0}}function dh(t){var s=Er(t,1);s!==null&&tr(s,t,1,-1)}function fh(t){var s=dr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},s.queue=t,t=t.dispatch=C0.bind(null,Ge,t),[s.memoizedState,t]}function xo(t,s,i,c){return t={tag:t,create:s,destroy:i,deps:c,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=t.next=t):(i=s.lastEffect,i===null?s.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,s.lastEffect=t)),t}function hh(){return qt().memoizedState}function Li(t,s,i,c){var f=dr();Ge.flags|=t,f.memoizedState=xo(1|s,i,void 0,c===void 0?null:c)}function Mi(t,s,i,c){var f=qt();c=c===void 0?null:c;var g=void 0;if(ot!==null){var _=ot.memoizedState;if(g=_.destroy,c!==null&&sc(c,_.deps)){f.memoizedState=xo(s,i,g,c);return}}Ge.flags|=t,f.memoizedState=xo(1|s,i,g,c)}function ph(t,s){return Li(8390656,8,t,s)}function cc(t,s){return Mi(2048,8,t,s)}function mh(t,s){return Mi(4,2,t,s)}function gh(t,s){return Mi(4,4,t,s)}function vh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function yh(t,s,i){return i=i!=null?i.concat([t]):null,Mi(4,4,vh.bind(null,s,t),i)}function uc(){}function wh(t,s){var i=qt();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&sc(s,c[1])?c[0]:(i.memoizedState=[t,s],t)}function xh(t,s){var i=qt();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&sc(s,c[1])?c[0]:(t=t(),i.memoizedState=[t,s],t)}function _h(t,s,i){return(Sn&21)===0?(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=i):(Yt(i,s)||(i=Yd(),Ge.lanes|=i,En|=i,t.baseState=!0),s)}function E0(t,s){var i=De;De=i!==0&&4>i?i:4,t(!0);var c=nc.transition;nc.transition={};try{t(!1),s()}finally{De=i,nc.transition=c}}function bh(){return qt().memoizedState}function k0(t,s,i){var c=Qr(t);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},Sh(t))Eh(s,i);else if(i=eh(t,s,i,c),i!==null){var f=Rt();tr(i,t,c,f),kh(i,s,c)}}function C0(t,s,i){var c=Qr(t),f={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sh(t))Eh(s,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,T=g(_,i);if(f.hasEagerState=!0,f.eagerState=T,Yt(T,_)){var j=s.interleaved;j===null?(f.next=f,Ql(s)):(f.next=j.next,j.next=f),s.interleaved=f;return}}catch{}finally{}i=eh(t,s,f,c),i!==null&&(f=Rt(),tr(i,t,c,f),kh(i,s,c))}}function Sh(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function Eh(t,s){vo=$i=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function kh(t,s,i){if((i&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,fl(t,i)}}var Fi={readContext:Ht,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},R0={readContext:Ht,useCallback:function(t,s){return dr().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:ph,useImperativeHandle:function(t,s,i){return i=i!=null?i.concat([t]):null,Li(4194308,4,vh.bind(null,s,t),i)},useLayoutEffect:function(t,s){return Li(4194308,4,t,s)},useInsertionEffect:function(t,s){return Li(4,2,t,s)},useMemo:function(t,s){var i=dr();return s=s===void 0?null:s,t=t(),i.memoizedState=[t,s],t},useReducer:function(t,s,i){var c=dr();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=k0.bind(null,Ge,t),[c.memoizedState,t]},useRef:function(t){var s=dr();return t={current:t},s.memoizedState=t},useState:fh,useDebugValue:uc,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=fh(!1),s=t[0];return t=E0.bind(null,t[1]),dr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,i){var c=Ge,f=dr();if(He){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),ht===null)throw Error(n(349));(Sn&30)!==0||ah(c,s,i)}f.memoizedState=i;var g={value:i,getSnapshot:s};return f.queue=g,ph(ch.bind(null,c,g,t),[t]),c.flags|=2048,xo(9,lh.bind(null,c,g,i,s),void 0,null),i},useId:function(){var t=dr(),s=ht.identifierPrefix;if(He){var i=Sr,c=br;i=(c&~(1<<32-Jt(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=yo++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=S0++,s=":"+s+"r"+i.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},T0={readContext:Ht,useCallback:wh,useContext:Ht,useEffect:cc,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:xh,useReducer:ac,useRef:hh,useState:function(){return ac(wo)},useDebugValue:uc,useDeferredValue:function(t){var s=qt();return _h(s,ot.memoizedState,t)},useTransition:function(){var t=ac(wo)[0],s=qt().memoizedState;return[t,s]},useMutableSource:oh,useSyncExternalStore:ih,useId:bh,unstable_isNewReconciler:!1},N0={readContext:Ht,useCallback:wh,useContext:Ht,useEffect:cc,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:xh,useReducer:lc,useRef:hh,useState:function(){return lc(wo)},useDebugValue:uc,useDeferredValue:function(t){var s=qt();return ot===null?s.memoizedState=t:_h(s,ot.memoizedState,t)},useTransition:function(){var t=lc(wo)[0],s=qt().memoizedState;return[t,s]},useMutableSource:oh,useSyncExternalStore:ih,useId:bh,unstable_isNewReconciler:!1};function Xt(t,s){if(t&&t.defaultProps){s=ee({},s),t=t.defaultProps;for(var i in t)s[i]===void 0&&(s[i]=t[i]);return s}return s}function dc(t,s,i,c){s=t.memoizedState,i=i(c,s),i=i==null?s:ee({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ui={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,s,i){t=t._reactInternals;var c=Rt(),f=Qr(t),g=kr(c,f);g.payload=s,i!=null&&(g.callback=i),s=Kr(t,g,f),s!==null&&(tr(s,t,f,c),Ai(s,t,f))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var c=Rt(),f=Qr(t),g=kr(c,f);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=Kr(t,g,f),s!==null&&(tr(s,t,f,c),Ai(s,t,f))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=Rt(),c=Qr(t),f=kr(i,c);f.tag=2,s!=null&&(f.callback=s),s=Kr(t,f,c),s!==null&&(tr(s,t,c,i),Ai(s,t,c))}};function Ch(t,s,i,c,f,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!oo(i,c)||!oo(f,g):!0}function Rh(t,s,i){var c=!1,f=Wr,g=s.contextType;return typeof g=="object"&&g!==null?g=Ht(g):(f=Nt(s)?yn:bt.current,c=s.contextTypes,g=(c=c!=null)?es(t,f):Wr),s=new s(i,g),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ui,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=g),s}function Th(t,s,i,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==t&&Ui.enqueueReplaceState(s,s.state,null)}function fc(t,s,i,c){var f=t.stateNode;f.props=i,f.state=t.memoizedState,f.refs={},Xl(t);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Ht(g):(g=Nt(s)?yn:bt.current,f.context=es(t,g)),f.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dc(t,s,g,i),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ui.enqueueReplaceState(f,f.state,null),Oi(t,i,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,s){try{var i="",c=s;do i+=be(c),c=c.return;while(c);var f=i}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:s,stack:f,digest:null}}function hc(t,s,i){return{value:t,source:null,stack:i??null,digest:s??null}}function pc(t,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var P0=typeof WeakMap=="function"?WeakMap:Map;function Nh(t,s,i){i=kr(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){Ki||(Ki=!0,Nc=c),pc(t,s)},i}function Ph(t,s,i){i=kr(-1,i),i.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;i.payload=function(){return c(f)},i.callback=function(){pc(t,s)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){pc(t,s),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),i}function jh(t,s,i){var c=t.pingCache;if(c===null){c=t.pingCache=new P0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(f.add(i),t=W0.bind(null,t,s,i),s.then(t,t))}function Ah(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Oh(t,s,i,c,f){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=kr(-1,1),s.tag=2,Kr(i,s,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var j0=D.ReactCurrentOwner,Pt=!1;function Ct(t,s,i,c){s.child=t===null?Zf(s,null,i,c):ss(s,t.child,i,c)}function Ih(t,s,i,c,f){i=i.render;var g=s.ref;return is(s,f),c=oc(t,s,i,c,g,f),i=ic(),t!==null&&!Pt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,Cr(t,s,f)):(He&&i&&Bl(s),s.flags|=1,Ct(t,s,c,f),s.child)}function Dh(t,s,i,c,f){if(t===null){var g=i.type;return typeof g=="function"&&!$c(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,$h(t,s,g,c,f)):(t=Zi(i.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,(t.lanes&f)===0){var _=g.memoizedProps;if(i=i.compare,i=i!==null?i:oo,i(_,c)&&t.ref===s.ref)return Cr(t,s,f)}return s.flags|=1,t=Zr(g,c),t.ref=s.ref,t.return=s,s.child=t}function $h(t,s,i,c,f){if(t!==null){var g=t.memoizedProps;if(oo(g,c)&&t.ref===s.ref)if(Pt=!1,s.pendingProps=c=g,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Pt=!0);else return s.lanes=t.lanes,Cr(t,s,f)}return mc(t,s,i,c,f)}function Lh(t,s,i){var c=s.pendingProps,f=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(us,Mt),Mt|=i;else{if((i&1073741824)===0)return t=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Fe(us,Mt),Mt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:i,Fe(us,Mt),Mt|=c}else g!==null?(c=g.baseLanes|i,s.memoizedState=null):c=i,Fe(us,Mt),Mt|=c;return Ct(t,s,f,i),s.child}function Mh(t,s){var i=s.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function mc(t,s,i,c,f){var g=Nt(i)?yn:bt.current;return g=es(s,g),is(s,f),i=oc(t,s,i,c,g,f),c=ic(),t!==null&&!Pt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,Cr(t,s,f)):(He&&c&&Bl(s),s.flags|=1,Ct(t,s,i,f),s.child)}function Fh(t,s,i,c,f){if(Nt(i)){var g=!0;Ei(s)}else g=!1;if(is(s,f),s.stateNode===null)Bi(t,s),Rh(s,i,c),fc(s,i,c,f),c=!0;else if(t===null){var _=s.stateNode,T=s.memoizedProps;_.props=T;var j=_.context,B=i.contextType;typeof B=="object"&&B!==null?B=Ht(B):(B=Nt(i)?yn:bt.current,B=es(s,B));var X=i.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==c||j!==B)&&Th(s,_,c,B),qr=!1;var J=s.memoizedState;_.state=J,Oi(s,c,_,f),j=s.memoizedState,T!==c||J!==j||Tt.current||qr?(typeof X=="function"&&(dc(s,i,X,c),j=s.memoizedState),(T=qr||Ch(s,i,T,c,J,j,B))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=j),_.props=c,_.state=j,_.context=B,c=T):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,th(t,s),T=s.memoizedProps,B=s.type===s.elementType?T:Xt(s.type,T),_.props=B,Z=s.pendingProps,J=_.context,j=i.contextType,typeof j=="object"&&j!==null?j=Ht(j):(j=Nt(i)?yn:bt.current,j=es(s,j));var ie=i.getDerivedStateFromProps;(X=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==Z||J!==j)&&Th(s,_,c,j),qr=!1,J=s.memoizedState,_.state=J,Oi(s,c,_,f);var le=s.memoizedState;T!==Z||J!==le||Tt.current||qr?(typeof ie=="function"&&(dc(s,i,ie,c),le=s.memoizedState),(B=qr||Ch(s,i,B,c,J,le,j)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,j)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=le),_.props=c,_.state=le,_.context=j,c=B):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&J===t.memoizedState||(s.flags|=1024),c=!1)}return gc(t,s,i,c,g,f)}function gc(t,s,i,c,f,g){Mh(t,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&Wf(s,i,!1),Cr(t,s,g);c=s.stateNode,j0.current=s;var T=_&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&_?(s.child=ss(s,t.child,null,g),s.child=ss(s,null,T,g)):Ct(t,s,T,g),s.memoizedState=c.state,f&&Wf(s,i,!0),s.child}function Uh(t){var s=t.stateNode;s.pendingContext?Bf(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Bf(t,s.context,!1),Zl(t,s.containerInfo)}function zh(t,s,i,c,f){return ns(),ql(f),s.flags|=256,Ct(t,s,i,c),s.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bh(t,s,i){var c=s.pendingProps,f=Ke.current,g=!1,_=(s.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(f&2)!==0),T?(g=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Fe(Ke,f&1),t===null)return Hl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,t=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=ea(_,c,0,null),t=Tn(t,c,i,null),g.return=s,t.return=s,g.sibling=t,s.child=g,s.child.memoizedState=yc(i),s.memoizedState=vc,t):wc(s,_));if(f=t.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return A0(t,s,_,c,T,f,i);if(g){g=c.fallback,_=s.mode,f=t.child,T=f.sibling;var j={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=j,s.deletions=null):(c=Zr(f,j),c.subtreeFlags=f.subtreeFlags&14680064),T!==null?g=Zr(T,g):(g=Tn(g,_,i,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=t.child.memoizedState,_=_===null?yc(i):{baseLanes:_.baseLanes|i,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~i,s.memoizedState=vc,c}return g=t.child,t=g.sibling,c=Zr(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,t!==null&&(i=s.deletions,i===null?(s.deletions=[t],s.flags|=16):i.push(t)),s.child=c,s.memoizedState=null,c}function wc(t,s){return s=ea({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function zi(t,s,i,c){return c!==null&&ql(c),ss(s,t.child,null,i),t=wc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function A0(t,s,i,c,f,g,_){if(i)return s.flags&256?(s.flags&=-257,c=hc(Error(n(422))),zi(t,s,_,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=ea({mode:"visible",children:c.children},f,0,null),g=Tn(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&ss(s,t.child,null,_),s.child.memoizedState=yc(_),s.memoizedState=vc,g);if((s.mode&1)===0)return zi(t,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var T=c.dgst;return c=T,g=Error(n(419)),c=hc(g,c,void 0),zi(t,s,_,c)}if(T=(_&t.childLanes)!==0,Pt||T){if(c=ht,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Er(t,f),tr(c,t,f,-1))}return Dc(),c=hc(Error(n(421))),zi(t,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=t.child,s=H0.bind(null,t),f._reactRetry=s,null):(t=g.treeContext,Lt=Br(f.nextSibling),$t=s,He=!0,Qt=null,t!==null&&(Vt[Wt++]=br,Vt[Wt++]=Sr,Vt[Wt++]=wn,br=t.id,Sr=t.overflow,wn=s),s=wc(s,c.children),s.flags|=4096,s)}function Vh(t,s,i){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Yl(t.return,s,i)}function xc(t,s,i,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=f)}function Wh(t,s,i){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(Ct(t,s,c.children,i),c=Ke.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vh(t,i,s);else if(t.tag===19)Vh(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Fe(Ke,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(i=s.child,f=null;i!==null;)t=i.alternate,t!==null&&Ii(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),xc(s,!1,f,i,g);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Ii(t)===null){s.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}xc(s,!0,i,null,g);break;case"together":xc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bi(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Cr(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),En|=s.lanes,(i&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,i=Zr(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=Zr(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function O0(t,s,i){switch(s.tag){case 3:Uh(s),ns();break;case 5:sh(s);break;case 1:Nt(s.type)&&Ei(s);break;case 4:Zl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Fe(Pi,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Fe(Ke,Ke.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?Bh(t,s,i):(Fe(Ke,Ke.current&1),t=Cr(t,s,i),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Wh(t,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Fe(Ke,Ke.current),c)break;return null;case 22:case 23:return s.lanes=0,Lh(t,s,i)}return Cr(t,s,i)}var Hh,_c,qh,Kh;Hh=function(t,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},_c=function(){},qh=function(t,s,i,c){var f=t.memoizedProps;if(f!==c){t=s.stateNode,bn(ur.current);var g=null;switch(i){case"input":f=te(t,f),c=te(t,c),g=[];break;case"select":f=ee({},f,{value:void 0}),c=ee({},c,{value:void 0}),g=[];break;case"textarea":f=gt(t,f),c=gt(t,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=_i)}tl(i,c);var _;i=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var T=f[B];for(_ in T)T.hasOwnProperty(_)&&(i||(i={}),i[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var j=c[B];if(T=f?.[B],c.hasOwnProperty(B)&&j!==T&&(j!=null||T!=null))if(B==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||j&&j.hasOwnProperty(_)||(i||(i={}),i[_]="");for(_ in j)j.hasOwnProperty(_)&&T[_]!==j[_]&&(i||(i={}),i[_]=j[_])}else i||(g||(g=[]),g.push(B,i)),i=j;else B==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,T=T?T.__html:void 0,j!=null&&T!==j&&(g=g||[]).push(B,j)):B==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(B,""+j):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(j!=null&&B==="onScroll"&&Be("scroll",t),g||T===j||(g=[])):(g=g||[]).push(B,j))}i&&(g=g||[]).push("style",i);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Kh=function(t,s,i,c){i!==c&&(s.flags|=4)};function _o(t,s){if(!He)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Et(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(s)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=i,s}function I0(t,s,i){var c=s.pendingProps;switch(Vl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Nt(s.type)&&Si(),Et(s),null;case 3:return c=s.stateNode,as(),Ve(Tt),Ve(bt),rc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ti(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qt!==null&&(Ac(Qt),Qt=null))),_c(t,s),Et(s),null;case 5:ec(s);var f=bn(go.current);if(i=s.type,t!==null&&s.stateNode!=null)qh(t,s,i,c,f),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Et(s),null}if(t=bn(ur.current),Ti(s)){c=s.stateNode,i=s.type;var g=s.memoizedProps;switch(c[cr]=s,c[uo]=g,t=(s.mode&1)!==0,i){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(f=0;f<ao.length;f++)Be(ao[f],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":_e(c,g),Be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Be("invalid",c);break;case"textarea":It(c,g),Be("invalid",c)}tl(i,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var T=g[_];_==="children"?typeof T=="string"?c.textContent!==T&&(g.suppressHydrationWarning!==!0&&xi(c.textContent,T,t),f=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(g.suppressHydrationWarning!==!0&&xi(c.textContent,T,t),f=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Be("scroll",c)}switch(i){case"input":Ae(c),st(c,g,!0);break;case"textarea":Ae(c),Bt(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=_i)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ad(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(i,{is:c.is}):(t=_.createElement(i),i==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,i),t[cr]=s,t[uo]=c,Hh(t,s,!1,!1),s.stateNode=t;e:{switch(_=rl(i,c),i){case"dialog":Be("cancel",t),Be("close",t),f=c;break;case"iframe":case"object":case"embed":Be("load",t),f=c;break;case"video":case"audio":for(f=0;f<ao.length;f++)Be(ao[f],t);f=c;break;case"source":Be("error",t),f=c;break;case"img":case"image":case"link":Be("error",t),Be("load",t),f=c;break;case"details":Be("toggle",t),f=c;break;case"input":_e(t,c),f=te(t,c),Be("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=ee({},c,{value:void 0}),Be("invalid",t);break;case"textarea":It(t,c),f=gt(t,c),Be("invalid",t);break;default:f=c}tl(i,f),T=f;for(g in T)if(T.hasOwnProperty(g)){var j=T[g];g==="style"?Dd(t,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Od(t,j)):g==="children"?typeof j=="string"?(i!=="textarea"||j!=="")&&Bs(t,j):typeof j=="number"&&Bs(t,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Be("scroll",t):j!=null&&N(t,g,j,_))}switch(i){case"input":Ae(t),st(t,c,!1);break;case"textarea":Ae(t),Bt(t);break;case"option":c.value!=null&&t.setAttribute("value",""+fe(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?dt(t,!!c.multiple,g,!1):c.defaultValue!=null&&dt(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=_i)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Et(s),null;case 6:if(t&&s.stateNode!=null)Kh(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=bn(go.current),bn(ur.current),Ti(s)){if(c=s.stateNode,i=s.memoizedProps,c[cr]=s,(g=c.nodeValue!==i)&&(t=$t,t!==null))switch(t.tag){case 3:xi(c.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xi(c.nodeValue,i,(t.mode&1)!==0)}g&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[cr]=s,s.stateNode=c}return Et(s),null;case 13:if(Ve(Ke),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Lt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Yf(),ns(),s.flags|=98560,g=!1;else if(g=Ti(s),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[cr]=s}else ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),g=!1}else Qt!==null&&(Ac(Qt),Qt=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ke.current&1)!==0?it===0&&(it=3):Dc())),s.updateQueue!==null&&(s.flags|=4),Et(s),null);case 4:return as(),_c(t,s),t===null&&lo(s.stateNode.containerInfo),Et(s),null;case 10:return Jl(s.type._context),Et(s),null;case 17:return Nt(s.type)&&Si(),Et(s),null;case 19:if(Ve(Ke),g=s.memoizedState,g===null)return Et(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)_o(g,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(_=Ii(t),_!==null){for(s.flags|=128,_o(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)g=i,t=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Fe(Ke,Ke.current&1|2),s.child}t=t.sibling}g.tail!==null&&Xe()>ds&&(s.flags|=128,c=!0,_o(g,!1),s.lanes=4194304)}else{if(!c)if(t=Ii(_),t!==null){if(s.flags|=128,c=!0,i=t.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),_o(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!He)return Et(s),null}else 2*Xe()-g.renderingStartTime>ds&&i!==1073741824&&(s.flags|=128,c=!0,_o(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(i=g.last,i!==null?i.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,i=Ke.current,Fe(Ke,c?i&1|2:i&1),s):(Et(s),null);case 22:case 23:return Ic(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Mt&1073741824)!==0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function D0(t,s){switch(Vl(s),s.tag){case 1:return Nt(s.type)&&Si(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return as(),Ve(Tt),Ve(bt),rc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return ec(s),null;case 13:if(Ve(Ke),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ns()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ve(Ke),null;case 4:return as(),null;case 10:return Jl(s.type._context),null;case 22:case 23:return Ic(),null;case 24:return null;default:return null}}var Vi=!1,kt=!1,$0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function cs(t,s){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Je(t,s,c)}else i.current=null}function bc(t,s,i){try{i()}catch(c){Je(t,s,c)}}var Gh=!1;function L0(t,s){if(Il=ci,t=Cf(),Cl(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var _=0,T=-1,j=-1,B=0,X=0,Z=t,J=null;t:for(;;){for(var ie;Z!==i||f!==0&&Z.nodeType!==3||(T=_+f),Z!==g||c!==0&&Z.nodeType!==3||(j=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(ie=Z.firstChild)!==null;)J=Z,Z=ie;for(;;){if(Z===t)break t;if(J===i&&++B===f&&(T=_),J===g&&++X===c&&(j=_),(ie=Z.nextSibling)!==null)break;Z=J,J=Z.parentNode}Z=ie}i=T===-1||j===-1?null:{start:T,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(Dl={focusedElem:t,selectionRange:i},ci=!1,ae=s;ae!==null;)if(s=ae,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ae=t;else for(;ae!==null;){s=ae;try{var le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,Ze=le.memoizedState,M=s.stateNode,O=M.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Xt(s.type,ce),Ze);M.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){Je(s,s.return,ne)}if(t=s.sibling,t!==null){t.return=s.return,ae=t;break}ae=s.return}return le=Gh,Gh=!1,le}function bo(t,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var g=f.destroy;f.destroy=void 0,g!==void 0&&bc(s,i,g)}f=f.next}while(f!==c)}}function Wi(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function Sc(t){var s=t.ref;if(s!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof s=="function"?s(t):s.current=t}}function Jh(t){var s=t.alternate;s!==null&&(t.alternate=null,Jh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cr],delete s[uo],delete s[Fl],delete s[w0],delete s[x0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yh(t){return t.tag===5||t.tag===3||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(t,s):i.insertBefore(t,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(t,i)):(s=i,s.appendChild(t)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=_i));else if(c!==4&&(t=t.child,t!==null))for(Ec(t,s,i),t=t.sibling;t!==null;)Ec(t,s,i),t=t.sibling}function kc(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(kc(t,s,i),t=t.sibling;t!==null;)kc(t,s,i),t=t.sibling}var vt=null,Zt=!1;function Gr(t,s,i){for(i=i.child;i!==null;)Xh(t,s,i),i=i.sibling}function Xh(t,s,i){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ni,i)}catch{}switch(i.tag){case 5:kt||cs(i,s);case 6:var c=vt,f=Zt;vt=null,Gr(t,s,i),vt=c,Zt=f,vt!==null&&(Zt?(t=vt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):vt.removeChild(i.stateNode));break;case 18:vt!==null&&(Zt?(t=vt,i=i.stateNode,t.nodeType===8?Ml(t.parentNode,i):t.nodeType===1&&Ml(t,i),Zs(t)):Ml(vt,i.stateNode));break;case 4:c=vt,f=Zt,vt=i.stateNode.containerInfo,Zt=!0,Gr(t,s,i),vt=c,Zt=f;break;case 0:case 11:case 14:case 15:if(!kt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&bc(i,s,_),f=f.next}while(f!==c)}Gr(t,s,i);break;case 1:if(!kt&&(cs(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(T){Je(i,s,T)}Gr(t,s,i);break;case 21:Gr(t,s,i);break;case 22:i.mode&1?(kt=(c=kt)||i.memoizedState!==null,Gr(t,s,i),kt=c):Gr(t,s,i);break;default:Gr(t,s,i)}}function Zh(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new $0),s.forEach(function(c){var f=q0.bind(null,t,c);i.has(c)||(i.add(c),c.then(f,f))})}}function er(t,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];try{var g=t,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 5:vt=T.stateNode,Zt=!1;break e;case 3:vt=T.stateNode.containerInfo,Zt=!0;break e;case 4:vt=T.stateNode.containerInfo,Zt=!0;break e}T=T.return}if(vt===null)throw Error(n(160));Xh(g,_,f),vt=null,Zt=!1;var j=f.alternate;j!==null&&(j.return=null),f.return=null}catch(B){Je(f,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ep(s,t),s=s.sibling}function ep(t,s){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(s,t),fr(t),c&4){try{bo(3,t,t.return),Wi(3,t)}catch(ce){Je(t,t.return,ce)}try{bo(5,t,t.return)}catch(ce){Je(t,t.return,ce)}}break;case 1:er(s,t),fr(t),c&512&&i!==null&&cs(i,i.return);break;case 5:if(er(s,t),fr(t),c&512&&i!==null&&cs(i,i.return),t.flags&32){var f=t.stateNode;try{Bs(f,"")}catch(ce){Je(t,t.return,ce)}}if(c&4&&(f=t.stateNode,f!=null)){var g=t.memoizedProps,_=i!==null?i.memoizedProps:g,T=t.type,j=t.updateQueue;if(t.updateQueue=null,j!==null)try{T==="input"&&g.type==="radio"&&g.name!=null&&Ce(f,g),rl(T,_);var B=rl(T,g);for(_=0;_<j.length;_+=2){var X=j[_],Z=j[_+1];X==="style"?Dd(f,Z):X==="dangerouslySetInnerHTML"?Od(f,Z):X==="children"?Bs(f,Z):N(f,X,Z,B)}switch(T){case"input":Le(f,g);break;case"textarea":mn(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?dt(f,!!g.multiple,ie,!1):J!==!!g.multiple&&(g.defaultValue!=null?dt(f,!!g.multiple,g.defaultValue,!0):dt(f,!!g.multiple,g.multiple?[]:"",!1))}f[uo]=g}catch(ce){Je(t,t.return,ce)}}break;case 6:if(er(s,t),fr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,g=t.memoizedProps;try{f.nodeValue=g}catch(ce){Je(t,t.return,ce)}}break;case 3:if(er(s,t),fr(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Zs(s.containerInfo)}catch(ce){Je(t,t.return,ce)}break;case 4:er(s,t),fr(t);break;case 13:er(s,t),fr(t),f=t.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Tc=Xe())),c&4&&Zh(t);break;case 22:if(X=i!==null&&i.memoizedState!==null,t.mode&1?(kt=(B=kt)||X,er(s,t),kt=B):er(s,t),fr(t),c&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!X&&(t.mode&1)!==0)for(ae=t,X=t.child;X!==null;){for(Z=ae=X;ae!==null;){switch(J=ae,ie=J.child,J.tag){case 0:case 11:case 14:case 15:bo(4,J,J.return);break;case 1:cs(J,J.return);var le=J.stateNode;if(typeof le.componentWillUnmount=="function"){c=J,i=J.return;try{s=c,le.props=s.memoizedProps,le.state=s.memoizedState,le.componentWillUnmount()}catch(ce){Je(c,i,ce)}}break;case 5:cs(J,J.return);break;case 22:if(J.memoizedState!==null){np(Z);continue}}ie!==null?(ie.return=J,ae=ie):np(Z)}X=X.sibling}e:for(X=null,Z=t;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(T=Z.stateNode,j=Z.memoizedProps.style,_=j!=null&&j.hasOwnProperty("display")?j.display:null,T.style.display=Id("display",_))}catch(ce){Je(t,t.return,ce)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(ce){Je(t,t.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===t)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===t)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===t)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:er(s,t),fr(t),c&4&&Zh(t);break;case 21:break;default:er(s,t),fr(t)}}function fr(t){var s=t.flags;if(s&2){try{e:{for(var i=t.return;i!==null;){if(Yh(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Bs(f,""),c.flags&=-33);var g=Qh(t);kc(t,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,T=Qh(t);Ec(t,T,_);break;default:throw Error(n(161))}}catch(j){Je(t,t.return,j)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function M0(t,s,i){ae=t,tp(t)}function tp(t,s,i){for(var c=(t.mode&1)!==0;ae!==null;){var f=ae,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Vi;if(!_){var T=f.alternate,j=T!==null&&T.memoizedState!==null||kt;T=Vi;var B=kt;if(Vi=_,(kt=j)&&!B)for(ae=f;ae!==null;)_=ae,j=_.child,_.tag===22&&_.memoizedState!==null?sp(f):j!==null?(j.return=_,ae=j):sp(f);for(;g!==null;)ae=g,tp(g),g=g.sibling;ae=f,Vi=T,kt=B}rp(t)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ae=g):rp(t)}}function rp(t){for(;ae!==null;){var s=ae;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:kt||Wi(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!kt)if(i===null)c.componentDidMount();else{var f=s.elementType===s.type?i.memoizedProps:Xt(s.type,i.memoizedProps);c.componentDidUpdate(f,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&nh(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}nh(s,_,i)}break;case 5:var T=s.stateNode;if(i===null&&s.flags&4){i=T;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&i.focus();break;case"img":j.src&&(i.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Zs(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||s.flags&512&&Sc(s)}catch(J){Je(s,s.return,J)}}if(s===t){ae=null;break}if(i=s.sibling,i!==null){i.return=s.return,ae=i;break}ae=s.return}}function np(t){for(;ae!==null;){var s=ae;if(s===t){ae=null;break}var i=s.sibling;if(i!==null){i.return=s.return,ae=i;break}ae=s.return}}function sp(t){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Wi(4,s)}catch(j){Je(s,i,j)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(j){Je(s,f,j)}}var g=s.return;try{Sc(s)}catch(j){Je(s,g,j)}break;case 5:var _=s.return;try{Sc(s)}catch(j){Je(s,_,j)}}}catch(j){Je(s,s.return,j)}if(s===t){ae=null;break}var T=s.sibling;if(T!==null){T.return=s.return,ae=T;break}ae=s.return}}var F0=Math.ceil,Hi=D.ReactCurrentDispatcher,Cc=D.ReactCurrentOwner,Kt=D.ReactCurrentBatchConfig,Pe=0,ht=null,et=null,yt=0,Mt=0,us=Vr(0),it=0,So=null,En=0,qi=0,Rc=0,Eo=null,jt=null,Tc=0,ds=1/0,Rr=null,Ki=!1,Nc=null,Jr=null,Gi=!1,Yr=null,Ji=0,ko=0,Pc=null,Yi=-1,Qi=0;function Rt(){return(Pe&6)!==0?Xe():Yi!==-1?Yi:Yi=Xe()}function Qr(t){return(t.mode&1)===0?1:(Pe&2)!==0&&yt!==0?yt&-yt:b0.transition!==null?(Qi===0&&(Qi=Yd()),Qi):(t=De,t!==0||(t=window.event,t=t===void 0?16:of(t.type)),t)}function tr(t,s,i,c){if(50<ko)throw ko=0,Pc=null,Error(n(185));Gs(t,i,c),((Pe&2)===0||t!==ht)&&(t===ht&&((Pe&2)===0&&(qi|=i),it===4&&Xr(t,yt)),At(t,c),i===1&&Pe===0&&(s.mode&1)===0&&(ds=Xe()+500,ki&&Hr()))}function At(t,s){var i=t.callbackNode;bw(t,s);var c=ii(t,t===ht?yt:0);if(c===0)i!==null&&Kd(i),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(i!=null&&Kd(i),s===1)t.tag===0?_0(ip.bind(null,t)):Hf(ip.bind(null,t)),v0(function(){(Pe&6)===0&&Hr()}),i=null;else{switch(Qd(c)){case 1:i=cl;break;case 4:i=Gd;break;case 16:i=ri;break;case 536870912:i=Jd;break;default:i=ri}i=pp(i,op.bind(null,t))}t.callbackPriority=s,t.callbackNode=i}}function op(t,s){if(Yi=-1,Qi=0,(Pe&6)!==0)throw Error(n(327));var i=t.callbackNode;if(fs()&&t.callbackNode!==i)return null;var c=ii(t,t===ht?yt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Xi(t,c);else{s=c;var f=Pe;Pe|=2;var g=lp();(ht!==t||yt!==s)&&(Rr=null,ds=Xe()+500,Cn(t,s));do try{B0();break}catch(T){ap(t,T)}while(!0);Gl(),Hi.current=g,Pe=f,et!==null?s=0:(ht=null,yt=0,s=it)}if(s!==0){if(s===2&&(f=ul(t),f!==0&&(c=f,s=jc(t,f))),s===1)throw i=So,Cn(t,0),Xr(t,c),At(t,Xe()),i;if(s===6)Xr(t,c);else{if(f=t.current.alternate,(c&30)===0&&!U0(f)&&(s=Xi(t,c),s===2&&(g=ul(t),g!==0&&(c=g,s=jc(t,g))),s===1))throw i=So,Cn(t,0),Xr(t,c),At(t,Xe()),i;switch(t.finishedWork=f,t.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rn(t,jt,Rr);break;case 3:if(Xr(t,c),(c&130023424)===c&&(s=Tc+500-Xe(),10<s)){if(ii(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){Rt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Ll(Rn.bind(null,t,jt,Rr),s);break}Rn(t,jt,Rr);break;case 4:if(Xr(t,c),(c&4194240)===c)break;for(s=t.eventTimes,f=-1;0<c;){var _=31-Jt(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*F0(c/1960))-c,10<c){t.timeoutHandle=Ll(Rn.bind(null,t,jt,Rr),c);break}Rn(t,jt,Rr);break;case 5:Rn(t,jt,Rr);break;default:throw Error(n(329))}}}return At(t,Xe()),t.callbackNode===i?op.bind(null,t):null}function jc(t,s){var i=Eo;return t.current.memoizedState.isDehydrated&&(Cn(t,s).flags|=256),t=Xi(t,s),t!==2&&(s=jt,jt=i,s!==null&&Ac(s)),t}function Ac(t){jt===null?jt=t:jt.push.apply(jt,t)}function U0(t){for(var s=t;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var f=i[c],g=f.getSnapshot;f=f.value;try{if(!Yt(g(),f))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(t,s){for(s&=~Rc,s&=~qi,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var i=31-Jt(s),c=1<<i;t[i]=-1,s&=~c}}function ip(t){if((Pe&6)!==0)throw Error(n(327));fs();var s=ii(t,0);if((s&1)===0)return At(t,Xe()),null;var i=Xi(t,s);if(t.tag!==0&&i===2){var c=ul(t);c!==0&&(s=c,i=jc(t,c))}if(i===1)throw i=So,Cn(t,0),Xr(t,s),At(t,Xe()),i;if(i===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Rn(t,jt,Rr),At(t,Xe()),null}function Oc(t,s){var i=Pe;Pe|=1;try{return t(s)}finally{Pe=i,Pe===0&&(ds=Xe()+500,ki&&Hr())}}function kn(t){Yr!==null&&Yr.tag===0&&(Pe&6)===0&&fs();var s=Pe;Pe|=1;var i=Kt.transition,c=De;try{if(Kt.transition=null,De=1,t)return t()}finally{De=c,Kt.transition=i,Pe=s,(Pe&6)===0&&Hr()}}function Ic(){Mt=us.current,Ve(us)}function Cn(t,s){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,g0(i)),et!==null)for(i=et.return;i!==null;){var c=i;switch(Vl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Si();break;case 3:as(),Ve(Tt),Ve(bt),rc();break;case 5:ec(c);break;case 4:as();break;case 13:Ve(Ke);break;case 19:Ve(Ke);break;case 10:Jl(c.type._context);break;case 22:case 23:Ic()}i=i.return}if(ht=t,et=t=Zr(t.current,null),yt=Mt=s,it=0,So=null,Rc=qi=En=0,jt=Eo=null,_n!==null){for(s=0;s<_n.length;s++)if(i=_n[s],c=i.interleaved,c!==null){i.interleaved=null;var f=c.next,g=i.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}i.pending=c}_n=null}return t}function ap(t,s){do{var i=et;try{if(Gl(),Di.current=Fi,$i){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}$i=!1}if(Sn=0,ft=ot=Ge=null,vo=!1,yo=0,Cc.current=null,i===null||i.return===null){it=1,So=s,et=null;break}e:{var g=t,_=i.return,T=i,j=s;if(s=yt,T.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var B=j,X=T,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var ie=Ah(_);if(ie!==null){ie.flags&=-257,Oh(ie,_,T,g,s),ie.mode&1&&jh(g,B,s),s=ie,j=B;var le=s.updateQueue;if(le===null){var ce=new Set;ce.add(j),s.updateQueue=ce}else le.add(j);break e}else{if((s&1)===0){jh(g,B,s),Dc();break e}j=Error(n(426))}}else if(He&&T.mode&1){var Ze=Ah(_);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Oh(Ze,_,T,g,s),ql(ls(j,T));break e}}g=j=ls(j,T),it!==4&&(it=2),Eo===null?Eo=[g]:Eo.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=Nh(g,j,s);rh(g,M);break e;case 1:T=j;var O=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Jr===null||!Jr.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Ph(g,T,s);rh(g,ne);break e}}g=g.return}while(g!==null)}up(i)}catch(ue){s=ue,et===i&&i!==null&&(et=i=i.return);continue}break}while(!0)}function lp(){var t=Hi.current;return Hi.current=Fi,t===null?Fi:t}function Dc(){(it===0||it===3||it===2)&&(it=4),ht===null||(En&268435455)===0&&(qi&268435455)===0||Xr(ht,yt)}function Xi(t,s){var i=Pe;Pe|=2;var c=lp();(ht!==t||yt!==s)&&(Rr=null,Cn(t,s));do try{z0();break}catch(f){ap(t,f)}while(!0);if(Gl(),Pe=i,Hi.current=c,et!==null)throw Error(n(261));return ht=null,yt=0,it}function z0(){for(;et!==null;)cp(et)}function B0(){for(;et!==null&&!hw();)cp(et)}function cp(t){var s=hp(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,s===null?up(t):et=s,Cc.current=null}function up(t){var s=t;do{var i=s.alternate;if(t=s.return,(s.flags&32768)===0){if(i=I0(i,s,Mt),i!==null){et=i;return}}else{if(i=D0(i,s),i!==null){i.flags&=32767,et=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}if(s=s.sibling,s!==null){et=s;return}et=s=t}while(s!==null);it===0&&(it=5)}function Rn(t,s,i){var c=De,f=Kt.transition;try{Kt.transition=null,De=1,V0(t,s,i,c)}finally{Kt.transition=f,De=c}return null}function V0(t,s,i,c){do fs();while(Yr!==null);if((Pe&6)!==0)throw Error(n(327));i=t.finishedWork;var f=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=i.lanes|i.childLanes;if(Sw(t,g),t===ht&&(et=ht=null,yt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Gi||(Gi=!0,pp(ri,function(){return fs(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=Kt.transition,Kt.transition=null;var _=De;De=1;var T=Pe;Pe|=4,Cc.current=null,L0(t,i),ep(i,t),c0(Dl),ci=!!Il,Dl=Il=null,t.current=i,M0(i),pw(),Pe=T,De=_,Kt.transition=g}else t.current=i;if(Gi&&(Gi=!1,Yr=t,Ji=f),g=t.pendingLanes,g===0&&(Jr=null),vw(i.stateNode),At(t,Xe()),s!==null)for(c=t.onRecoverableError,i=0;i<s.length;i++)f=s[i],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ki)throw Ki=!1,t=Nc,Nc=null,t;return(Ji&1)!==0&&t.tag!==0&&fs(),g=t.pendingLanes,(g&1)!==0?t===Pc?ko++:(ko=0,Pc=t):ko=0,Hr(),null}function fs(){if(Yr!==null){var t=Qd(Ji),s=Kt.transition,i=De;try{if(Kt.transition=null,De=16>t?16:t,Yr===null)var c=!1;else{if(t=Yr,Yr=null,Ji=0,(Pe&6)!==0)throw Error(n(331));var f=Pe;for(Pe|=4,ae=t.current;ae!==null;){var g=ae,_=g.child;if((ae.flags&16)!==0){var T=g.deletions;if(T!==null){for(var j=0;j<T.length;j++){var B=T[j];for(ae=B;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:bo(8,X,g)}var Z=X.child;if(Z!==null)Z.return=X,ae=Z;else for(;ae!==null;){X=ae;var J=X.sibling,ie=X.return;if(Jh(X),X===B){ae=null;break}if(J!==null){J.return=ie,ae=J;break}ae=ie}}}var le=g.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var Ze=ce.sibling;ce.sibling=null,ce=Ze}while(ce!==null)}}ae=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ae=_;else e:for(;ae!==null;){if(g=ae,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:bo(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,ae=M;break e}ae=g.return}}var O=t.current;for(ae=O;ae!==null;){_=ae;var z=_.child;if((_.subtreeFlags&2064)!==0&&z!==null)z.return=_,ae=z;else e:for(_=O;ae!==null;){if(T=ae,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Wi(9,T)}}catch(ue){Je(T,T.return,ue)}if(T===_){ae=null;break e}var ne=T.sibling;if(ne!==null){ne.return=T.return,ae=ne;break e}ae=T.return}}if(Pe=f,Hr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(ni,t)}catch{}c=!0}return c}finally{De=i,Kt.transition=s}}return!1}function dp(t,s,i){s=ls(i,s),s=Nh(t,s,1),t=Kr(t,s,1),s=Rt(),t!==null&&(Gs(t,1,s),At(t,s))}function Je(t,s,i){if(t.tag===3)dp(t,t,i);else for(;s!==null;){if(s.tag===3){dp(s,t,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){t=ls(i,t),t=Ph(s,t,1),s=Kr(s,t,1),t=Rt(),s!==null&&(Gs(s,1,t),At(s,t));break}}s=s.return}}function W0(t,s,i){var c=t.pingCache;c!==null&&c.delete(s),s=Rt(),t.pingedLanes|=t.suspendedLanes&i,ht===t&&(yt&i)===i&&(it===4||it===3&&(yt&130023424)===yt&&500>Xe()-Tc?Cn(t,0):Rc|=i),At(t,s)}function fp(t,s){s===0&&((t.mode&1)===0?s=1:(s=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var i=Rt();t=Er(t,s),t!==null&&(Gs(t,s,i),At(t,i))}function H0(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),fp(t,i)}function q0(t,s){var i=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),fp(t,i)}var hp;hp=function(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps||Tt.current)Pt=!0;else{if((t.lanes&i)===0&&(s.flags&128)===0)return Pt=!1,O0(t,s,i);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(s.flags&1048576)!==0&&qf(s,Ri,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Bi(t,s),t=s.pendingProps;var f=es(s,bt.current);is(s,i),f=oc(null,s,c,t,f,i);var g=ic();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Nt(c)?(g=!0,Ei(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Xl(s),f.updater=Ui,s.stateNode=f,f._reactInternals=s,fc(s,c,t,i),s=gc(null,s,c,!0,g,i)):(s.tag=0,He&&g&&Bl(s),Ct(null,s,f,i),s=s.child),s;case 16:c=s.elementType;e:{switch(Bi(t,s),t=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=G0(c),t=Xt(c,t),f){case 0:s=mc(null,s,c,t,i);break e;case 1:s=Fh(null,s,c,t,i);break e;case 11:s=Ih(null,s,c,t,i);break e;case 14:s=Dh(null,s,c,Xt(c.type,t),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),mc(t,s,c,f,i);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),Fh(t,s,c,f,i);case 3:e:{if(Uh(s),t===null)throw Error(n(387));c=s.pendingProps,g=s.memoizedState,f=g.element,th(t,s),Oi(s,c,null,i);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ls(Error(n(423)),s),s=zh(t,s,c,i,f);break e}else if(c!==f){f=ls(Error(n(424)),s),s=zh(t,s,c,i,f);break e}else for(Lt=Br(s.stateNode.containerInfo.firstChild),$t=s,He=!0,Qt=null,i=Zf(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ns(),c===f){s=Cr(t,s,i);break e}Ct(t,s,c,i)}s=s.child}return s;case 5:return sh(s),t===null&&Hl(s),c=s.type,f=s.pendingProps,g=t!==null?t.memoizedProps:null,_=f.children,$l(c,f)?_=null:g!==null&&$l(c,g)&&(s.flags|=32),Mh(t,s),Ct(t,s,_,i),s.child;case 6:return t===null&&Hl(s),null;case 13:return Bh(t,s,i);case 4:return Zl(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=ss(s,null,c,i):Ct(t,s,c,i),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),Ih(t,s,c,f,i);case 7:return Ct(t,s,s.pendingProps,i),s.child;case 8:return Ct(t,s,s.pendingProps.children,i),s.child;case 12:return Ct(t,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,Fe(Pi,c._currentValue),c._currentValue=_,g!==null)if(Yt(g.value,_)){if(g.children===f.children&&!Tt.current){s=Cr(t,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var T=g.dependencies;if(T!==null){_=g.child;for(var j=T.firstContext;j!==null;){if(j.context===c){if(g.tag===1){j=kr(-1,i&-i),j.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?j.next=j:(j.next=X.next,X.next=j),B.pending=j}}g.lanes|=i,j=g.alternate,j!==null&&(j.lanes|=i),Yl(g.return,i,s),T.lanes|=i;break}j=j.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=i,T=_.alternate,T!==null&&(T.lanes|=i),Yl(_,i,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ct(t,s,f.children,i),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,is(s,i),f=Ht(f),c=c(f),s.flags|=1,Ct(t,s,c,i),s.child;case 14:return c=s.type,f=Xt(c,s.pendingProps),f=Xt(c.type,f),Dh(t,s,c,f,i);case 15:return $h(t,s,s.type,s.pendingProps,i);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),Bi(t,s),s.tag=1,Nt(c)?(t=!0,Ei(s)):t=!1,is(s,i),Rh(s,c,f),fc(s,c,f,i),gc(null,s,c,!0,t,i);case 19:return Wh(t,s,i);case 22:return Lh(t,s,i)}throw Error(n(156,s.tag))};function pp(t,s){return qd(t,s)}function K0(t,s,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,s,i,c){return new K0(t,s,i,c)}function $c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G0(t){if(typeof t=="function")return $c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$)return 11;if(t===se)return 14}return 2}function Zr(t,s){var i=t.alternate;return i===null?(i=Gt(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Zi(t,s,i,c,f,g){var _=2;if(c=t,typeof t=="function")$c(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case P:return Tn(i.children,f,g,s);case W:_=8,f|=8;break;case L:return t=Gt(12,i,s,f|2),t.elementType=L,t.lanes=g,t;case q:return t=Gt(13,i,s,f),t.elementType=q,t.lanes=g,t;case re:return t=Gt(19,i,s,f),t.elementType=re,t.lanes=g,t;case Y:return ea(i,f,g,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:_=10;break e;case H:_=9;break e;case $:_=11;break e;case se:_=14;break e;case G:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=Gt(_,i,s,f),s.elementType=t,s.type=c,s.lanes=g,s}function Tn(t,s,i,c){return t=Gt(7,t,c,s),t.lanes=i,t}function ea(t,s,i,c){return t=Gt(22,t,c,s),t.elementType=Y,t.lanes=i,t.stateNode={isHidden:!1},t}function Lc(t,s,i){return t=Gt(6,t,null,s),t.lanes=i,t}function Mc(t,s,i){return s=Gt(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function J0(t,s,i,c,f){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Fc(t,s,i,c,f,g,_,T,j){return t=new J0(t,s,i,T,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Gt(3,null,null,s),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xl(g),t}function Y0(t,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:c==null?null:""+c,children:t,containerInfo:s,implementation:i}}function mp(t){if(!t)return Wr;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Nt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var i=t.type;if(Nt(i))return Vf(t,i,s)}return s}function gp(t,s,i,c,f,g,_,T,j){return t=Fc(i,c,!0,t,f,g,_,T,j),t.context=mp(null),i=t.current,c=Rt(),f=Qr(i),g=kr(c,f),g.callback=s??null,Kr(i,g,f),t.current.lanes=f,Gs(t,f,c),At(t,c),t}function ta(t,s,i,c){var f=s.current,g=Rt(),_=Qr(f);return i=mp(i),s.context===null?s.context=i:s.pendingContext=i,s=kr(g,_),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Kr(f,s,_),t!==null&&(tr(t,f,_,g),Ai(t,f,_)),_}function ra(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function Uc(t,s){vp(t,s),(t=t.alternate)&&vp(t,s)}function Q0(){return null}var yp=typeof reportError=="function"?reportError:function(t){console.error(t)};function zc(t){this._internalRoot=t}na.prototype.render=zc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));ta(t,s,null,null)},na.prototype.unmount=zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;kn(function(){ta(null,t,null,null)}),s[xr]=null}};function na(t){this._internalRoot=t}na.prototype.unstable_scheduleHydration=function(t){if(t){var s=ef();t={blockedOn:null,target:t,priority:s};for(var i=0;i<Fr.length&&s!==0&&s<Fr[i].priority;i++);Fr.splice(i,0,t),i===0&&nf(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wp(){}function X0(t,s,i,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var B=ra(_);g.call(B)}}var _=gp(s,c,t,0,null,!1,!1,"",wp);return t._reactRootContainer=_,t[xr]=_.current,lo(t.nodeType===8?t.parentNode:t),kn(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var T=c;c=function(){var B=ra(j);T.call(B)}}var j=Fc(t,0,!1,null,null,!1,!1,"",wp);return t._reactRootContainer=j,t[xr]=j.current,lo(t.nodeType===8?t.parentNode:t),kn(function(){ta(s,j,i,c)}),j}function oa(t,s,i,c,f){var g=i._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var T=f;f=function(){var j=ra(_);T.call(j)}}ta(s,_,t,f)}else _=X0(i,s,t,f,c);return ra(_)}Xd=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var i=Ks(s.pendingLanes);i!==0&&(fl(s,i|1),At(s,Xe()),(Pe&6)===0&&(ds=Xe()+500,Hr()))}break;case 13:kn(function(){var c=Er(t,1);if(c!==null){var f=Rt();tr(c,t,1,f)}}),Uc(t,1)}},hl=function(t){if(t.tag===13){var s=Er(t,134217728);if(s!==null){var i=Rt();tr(s,t,134217728,i)}Uc(t,134217728)}},Zd=function(t){if(t.tag===13){var s=Qr(t),i=Er(t,s);if(i!==null){var c=Rt();tr(i,t,s,c)}Uc(t,s)}},ef=function(){return De},tf=function(t,s){var i=De;try{return De=t,s()}finally{De=i}},ol=function(t,s,i){switch(s){case"input":if(Le(t,i),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==t&&c.form===t.form){var f=bi(c);if(!f)throw Error(n(90));ze(c),Le(c,f)}}}break;case"textarea":mn(t,i);break;case"select":s=i.value,s!=null&&dt(t,!!i.multiple,s,!1)}},Fd=Oc,Ud=kn;var Z0={usingClientEntryPoint:!1,Events:[fo,Xn,bi,Ld,Md,Oc]},Co={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wd(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Q0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{ni=ia.inject(ex),lr=ia}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0,Ot.createPortal=function(t,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(s))throw Error(n(200));return Y0(t,s,null,i)},Ot.createRoot=function(t,s){if(!Bc(t))throw Error(n(299));var i=!1,c="",f=yp;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Fc(t,1,!1,null,null,i,!1,c,f),t[xr]=s.current,lo(t.nodeType===8?t.parentNode:t),new zc(s)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Wd(s),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return kn(t)},Ot.hydrate=function(t,s,i){if(!sa(s))throw Error(n(200));return oa(null,t,s,!0,i)},Ot.hydrateRoot=function(t,s,i){if(!Bc(t))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,f=!1,g="",_=yp;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),s=gp(s,null,t,1,i??null,f,!1,g,_),t[xr]=s.current,lo(t),c)for(t=0;t<c.length;t++)i=c[t],f=i._getVersion,f=f(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,f]:s.mutableSourceEagerHydrationData.push(i,f);return new na(s)},Ot.render=function(t,s,i){if(!sa(s))throw Error(n(200));return oa(null,t,s,!1,i)},Ot.unmountComponentAtNode=function(t){if(!sa(t))throw Error(n(40));return t._reactRootContainer?(kn(function(){oa(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1},Ot.unstable_batchedUpdates=Oc,Ot.unstable_renderSubtreeIntoContainer=function(t,s,i,c){if(!sa(i))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return oa(t,s,i,!1,c)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Rp;function $m(){if(Rp)return Hc.exports;Rp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hc.exports=lx(),Hc.exports}var Tp;function cx(){if(Tp)return aa;Tp=1;var r=$m();return aa.createRoot=r.createRoot,aa.hydrateRoot=r.hydrateRoot,aa}var ux=cx(),qo=$m();const dx=Dm(qo);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Do.apply(this,arguments)}var an;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(an||(an={}));const Np="popstate";function fx(r){r===void 0&&(r={});function e(o,a){let{pathname:l,search:u,hash:d}=o.location;return gu("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:ka(a)}return px(e,n,null,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Lm(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function Pp(r,e){return{usr:r.state,key:r.key,idx:e}}function gu(r,e,n,o){return n===void 0&&(n=null),Do({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Is(e):e,{state:n,key:e&&e.key||o||hx()})}function ka(r){let{pathname:e="/",search:n="",hash:o=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Is(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let o=r.indexOf("?");o>=0&&(e.search=r.substr(o),r=r.substr(0,o)),r&&(e.pathname=r)}return e}function px(r,e,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:l=!1}=o,u=a.history,d=an.Pop,h=null,m=v();m==null&&(m=0,u.replaceState(Do({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function y(){d=an.Pop;let E=v(),C=E==null?null:E-m;m=E,h&&h({action:d,location:x.location,delta:C})}function b(E,C){d=an.Push;let R=gu(x.location,E,C);m=v()+1;let N=Pp(R,m),D=x.createHref(R);try{u.pushState(N,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(D)}l&&h&&h({action:d,location:x.location,delta:1})}function S(E,C){d=an.Replace;let R=gu(x.location,E,C);m=v();let N=Pp(R,m),D=x.createHref(R);u.replaceState(N,"",D),l&&h&&h({action:d,location:x.location,delta:0})}function k(E){let C=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof E=="string"?E:ka(E);return R=R.replace(/ $/,"%20"),rt(C,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,C)}let x={get action(){return d},get location(){return r(a,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Np,y),h=E,()=>{a.removeEventListener(Np,y),h=null}},createHref(E){return e(a,E)},createURL:k,encodeLocation(E){let C=k(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:S,go(E){return u.go(E)}};return x}var jp;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(jp||(jp={}));function mx(r,e,n){return n===void 0&&(n="/"),gx(r,e,n)}function gx(r,e,n,o){let a=typeof e=="string"?Is(e):e,l=Ku(a.pathname||"/",n);if(l==null)return null;let u=Mm(r);vx(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=Nx(l);d=Cx(u[h],m)}return d}function Mm(r,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(rt(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let m=ln([o,h.relativePath]),v=n.concat(h);l.children&&l.children.length>0&&(rt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Mm(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:Ex(m,l.index),routesMeta:v})};return r.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let h of Fm(l.path))a(l,u,h)}),e}function Fm(r){let e=r.split("/");if(e.length===0)return[];let[n,...o]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return a?[l,""]:[l];let u=Fm(o.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...u),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function vx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kx(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const yx=/^:[\w-]+$/,wx=3,xx=2,_x=1,bx=10,Sx=-2,Ap=r=>r==="*";function Ex(r,e){let n=r.split("/"),o=n.length;return n.some(Ap)&&(o+=Sx),e&&(o+=xx),n.filter(a=>!Ap(a)).reduce((a,l)=>a+(yx.test(l)?wx:l===""?_x:bx),o)}function kx(r,e){return r.length===e.length&&r.slice(0,-1).every((o,a)=>o===e[a])?r[r.length-1]-e[e.length-1]:0}function Cx(r,e,n){let{routesMeta:o}=r,a={},l="/",u=[];for(let d=0;d<o.length;++d){let h=o[d],m=d===o.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=Rx({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ln([l,y.pathname]),pathnameBase:Ox(ln([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=ln([l,y.pathnameBase]))}return u}function Rx(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,o]=Tx(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:o.reduce((m,v,y)=>{let{paramName:b,isOptional:S}=v;if(b==="*"){let x=d[y]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const k=d[y];return S&&!k?m[b]=void 0:m[b]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:r}}function Tx(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lm(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Nx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lm(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Ku(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=r.charAt(n);return o&&o!=="/"?null:r.slice(n)||"/"}function Px(r,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:a=""}=typeof r=="string"?Is(r):r;return{pathname:n?n.startsWith("/")?n:jx(n,e):e,search:Ix(o),hash:Dx(a)}}function jx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gc(r,e,n,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ax(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Um(r,e){let n=Ax(r);return e?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function zm(r,e,n,o){o===void 0&&(o=!1);let a;typeof r=="string"?a=Is(r):(a=Do({},r),rt(!a.pathname||!a.pathname.includes("?"),Gc("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Gc("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Gc("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!o&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=Px(a,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}const ln=r=>r.join("/").replace(/\/\/+/g,"/"),Ox=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Dx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $x(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Bm=["post","put","patch","delete"];new Set(Bm);const Lx=["get",...Bm];new Set(Lx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},$o.apply(this,arguments)}const Gu=w.createContext(null),Mx=w.createContext(null),zn=w.createContext(null),$a=w.createContext(null),Bn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Vm=w.createContext(null);function Fx(r,e){let{relative:n}=e===void 0?{}:e;Ko()||rt(!1);let{basename:o,navigator:a}=w.useContext(zn),{hash:l,pathname:u,search:d}=Hm(r,{relative:n}),h=u;return o!=="/"&&(h=u==="/"?o:ln([o,u])),a.createHref({pathname:h,search:d,hash:l})}function Ko(){return w.useContext($a)!=null}function Go(){return Ko()||rt(!1),w.useContext($a).location}function Wm(r){w.useContext(zn).static||w.useLayoutEffect(r)}function Ux(){let{isDataRoute:r}=w.useContext(Bn);return r?Zx():zx()}function zx(){Ko()||rt(!1);let r=w.useContext(Gu),{basename:e,future:n,navigator:o}=w.useContext(zn),{matches:a}=w.useContext(Bn),{pathname:l}=Go(),u=JSON.stringify(Um(a,n.v7_relativeSplatPath)),d=w.useRef(!1);return Wm(()=>{d.current=!0}),w.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){o.go(m);return}let y=zm(m,JSON.parse(u),l,v.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ln([e,y.pathname])),(v.replace?o.replace:o.push)(y,v.state,v)},[e,o,u,l,r])}function Hm(r,e){let{relative:n}=e===void 0?{}:e,{future:o}=w.useContext(zn),{matches:a}=w.useContext(Bn),{pathname:l}=Go(),u=JSON.stringify(Um(a,o.v7_relativeSplatPath));return w.useMemo(()=>zm(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function Bx(r,e){return Vx(r,e)}function Vx(r,e,n,o){Ko()||rt(!1);let{navigator:a}=w.useContext(zn),{matches:l}=w.useContext(Bn),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=Go(),v;if(e){var y;let E=typeof e=="string"?Is(e):e;h==="/"||(y=E.pathname)!=null&&y.startsWith(h)||rt(!1),v=E}else v=m;let b=v.pathname||"/",S=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=mx(r,{pathname:S}),x=Gx(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:ln([h,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ln([h,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,o);return e&&x?w.createElement($a.Provider,{value:{location:$o({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:an.Pop}},x):x}function Wx(){let r=Xx(),e=$x(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,null)}const Hx=w.createElement(Wx,null);class qx extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Bn.Provider,{value:this.props.routeContext},w.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kx(r){let{routeContext:e,match:n,children:o}=r,a=w.useContext(Gu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Bn.Provider,{value:e},o)}function Gx(r,e,n,o){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),r==null){var l;if(!n)return null;if(n.errors)r=n.matches;else if((l=o)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=(a=n)==null?void 0:a.errors;if(d!=null){let v=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);v>=0||rt(!1),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,m=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<u.length;v++){let y=u[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=v),y.route.id){let{loaderData:b,errors:S}=n,k=y.route.loader&&b[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||k){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,y,b)=>{let S,k=!1,x=null,E=null;n&&(S=d&&y.route.id?d[y.route.id]:void 0,x=y.route.errorElement||Hx,h&&(m<0&&b===0?(e_("route-fallback"),k=!0,E=null):m===b&&(k=!0,E=y.route.hydrateFallbackElement||null)));let C=e.concat(u.slice(0,b+1)),R=()=>{let N;return S?N=x:k?N=E:y.route.Component?N=w.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=v,w.createElement(Kx,{match:y,routeContext:{outlet:v,matches:C,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?w.createElement(qx,{location:n.location,revalidation:n.revalidation,component:x,error:S,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}var qm=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(qm||{}),Km=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Km||{});function Jx(r){let e=w.useContext(Gu);return e||rt(!1),e}function Yx(r){let e=w.useContext(Mx);return e||rt(!1),e}function Qx(r){let e=w.useContext(Bn);return e||rt(!1),e}function Gm(r){let e=Qx(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function Xx(){var r;let e=w.useContext(Vm),n=Yx(),o=Gm();return e!==void 0?e:(r=n.errors)==null?void 0:r[o]}function Zx(){let{router:r}=Jx(qm.UseNavigateStable),e=Gm(Km.UseNavigateStable),n=w.useRef(!1);return Wm(()=>{n.current=!0}),w.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,$o({fromRouteId:e},l)))},[r,e])}const Op={};function e_(r,e,n){Op[r]||(Op[r]=!0)}function t_(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function xa(r){rt(!1)}function r_(r){let{basename:e="/",children:n=null,location:o,navigationType:a=an.Pop,navigator:l,static:u=!1,future:d}=r;Ko()&&rt(!1);let h=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:h,navigator:l,static:u,future:$o({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);typeof o=="string"&&(o=Is(o));let{pathname:v="/",search:y="",hash:b="",state:S=null,key:k="default"}=o,x=w.useMemo(()=>{let E=Ku(v,h);return E==null?null:{location:{pathname:E,search:y,hash:b,state:S,key:k},navigationType:a}},[h,v,y,b,S,k,a]);return x==null?null:w.createElement(zn.Provider,{value:m},w.createElement($a.Provider,{children:n,value:x}))}function n_(r){let{children:e,location:n}=r;return Bx(vu(e),n)}new Promise(()=>{});function vu(r,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(r,(o,a)=>{if(!w.isValidElement(o))return;let l=[...e,a];if(o.type===w.Fragment){n.push.apply(n,vu(o.props.children,l));return}o.type!==xa&&rt(!1),!o.props.index||!o.props.children||rt(!1);let u={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=vu(o.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},yu.apply(this,arguments)}function s_(r,e){if(r==null)return{};var n={},o=Object.keys(r),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(n[a]=r[a]);return n}function o_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function i_(r,e){return r.button===0&&(!e||e==="_self")&&!o_(r)}const a_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l_="6";try{window.__reactRouterVersion=l_}catch{}const c_="startTransition",Ip=qu[c_];function u_(r){let{basename:e,children:n,future:o,window:a}=r,l=w.useRef();l.current==null&&(l.current=fx({window:a,v5Compat:!0}));let u=l.current,[d,h]=w.useState({action:u.action,location:u.location}),{v7_startTransition:m}=o||{},v=w.useCallback(y=>{m&&Ip?Ip(()=>h(y)):h(y)},[h,m]);return w.useLayoutEffect(()=>u.listen(v),[u,v]),w.useEffect(()=>t_(o),[o]),w.createElement(r_,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:o})}const d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jm=w.forwardRef(function(e,n){let{onClick:o,relative:a,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:v,viewTransition:y}=e,b=s_(e,a_),{basename:S}=w.useContext(zn),k,x=!1;if(typeof m=="string"&&f_.test(m)&&(k=m,d_))try{let N=new URL(window.location.href),D=m.startsWith("//")?new URL(N.protocol+m):new URL(m),U=Ku(D.pathname,S);D.origin===N.origin&&U!=null?m=U+D.search+D.hash:x=!0}catch{}let E=Fx(m,{relative:a}),C=h_(m,{replace:u,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:y});function R(N){o&&o(N),N.defaultPrevented||C(N)}return w.createElement("a",yu({},b,{href:k||E,onClick:x||l?o:R,ref:n,target:h}))});var Dp;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Dp||(Dp={}));var $p;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})($p||($p={}));function h_(r,e){let{target:n,replace:o,state:a,preventScrollReset:l,relative:u,viewTransition:d}=e===void 0?{}:e,h=Ux(),m=Go(),v=Hm(r,{relative:u});return w.useCallback(y=>{if(i_(y,n)){y.preventDefault();let b=o!==void 0?o:ka(m)===ka(v);h(r,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:d})}},[m,h,v,o,a,n,r,l,u,d])}function Ym(r){var e,n,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=Ym(r[e]))&&(o&&(o+=" "),o+=n)}else for(n in r)r[n]&&(o&&(o+=" "),o+=n);return o}function Qm(){for(var r,e,n=0,o="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=Ym(r))&&(o&&(o+=" "),o+=e);return o}const Ju="-",p_=r=>{const e=g_(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:u=>{const d=u.split(Ju);return d[0]===""&&d.length!==1&&d.shift(),Xm(d,e)||m_(u)},getConflictingClassGroupIds:(u,d)=>{const h=n[u]||[];return d&&o[u]?[...h,...o[u]]:h}}},Xm=(r,e)=>{if(r.length===0)return e.classGroupId;const n=r[0],o=e.nextPart.get(n),a=o?Xm(r.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const l=r.join(Ju);return e.validators.find(({validator:u})=>u(l))?.classGroupId},Lp=/^\[(.+)\]$/,m_=r=>{if(Lp.test(r)){const e=Lp.exec(r)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},g_=r=>{const{theme:e,prefix:n}=r,o={nextPart:new Map,validators:[]};return y_(Object.entries(r.classGroups),n).forEach(([l,u])=>{wu(u,o,l,e)}),o},wu=(r,e,n,o)=>{r.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Mp(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(v_(a)){wu(a(o),e,n,o);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{wu(u,Mp(e,l),n,o)})})},Mp=(r,e)=>{let n=r;return e.split(Ju).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},v_=r=>r.isThemeGetter,y_=(r,e)=>e?r.map(([n,o])=>{const a=o.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[e+u,d])):l);return[n,a]}):r,w_=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;const a=(l,u)=>{n.set(l,u),e++,e>r&&(e=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},Zm="!",x_=r=>{const{separator:e,experimentalParseClassName:n}=r,o=e.length===1,a=e[0],l=e.length,u=d=>{const h=[];let m=0,v=0,y;for(let E=0;E<d.length;E++){let C=d[E];if(m===0){if(C===a&&(o||d.slice(E,E+l)===e)){h.push(d.slice(v,E)),v=E+l;continue}if(C==="/"){y=E;continue}}C==="["?m++:C==="]"&&m--}const b=h.length===0?d:d.substring(v),S=b.startsWith(Zm),k=S?b.substring(1):b,x=y&&y>v?y-v:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:x}};return n?d=>n({className:d,parseClassName:u}):u},__=r=>{if(r.length<=1)return r;const e=[];let n=[];return r.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e},b_=r=>({cache:w_(r.cacheSize),parseClassName:x_(r),...p_(r)}),S_=/\s+/,E_=(r,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a}=e,l=[],u=r.trim().split(S_);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:v,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:S}=n(m);let k=!!S,x=o(k?b.substring(0,S):b);if(!x){if(!k){d=m+(d.length>0?" "+d:d);continue}if(x=o(b),!x){d=m+(d.length>0?" "+d:d);continue}k=!1}const E=__(v).join(":"),C=y?E+Zm:E,R=C+x;if(l.includes(R))continue;l.push(R);const N=a(x,k);for(let D=0;D<N.length;++D){const U=N[D];l.push(C+U)}d=m+(d.length>0?" "+d:d)}return d};function k_(){let r=0,e,n,o="";for(;r<arguments.length;)(e=arguments[r++])&&(n=eg(e))&&(o&&(o+=" "),o+=n);return o}const eg=r=>{if(typeof r=="string")return r;let e,n="";for(let o=0;o<r.length;o++)r[o]&&(e=eg(r[o]))&&(n&&(n+=" "),n+=e);return n};function C_(r,...e){let n,o,a,l=u;function u(h){const m=e.reduce((v,y)=>y(v),r());return n=b_(m),o=n.cache.get,a=n.cache.set,l=d,d(h)}function d(h){const m=o(h);if(m)return m;const v=E_(h,n);return a(h,v),v}return function(){return l(k_.apply(null,arguments))}}const We=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},tg=/^\[(?:([a-z-]+):)?(.+)\]$/i,R_=/^\d+\/\d+$/,T_=new Set(["px","full","screen"]),N_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tr=r=>Cs(r)||T_.has(r)||R_.test(r),tn=r=>Ds(r,"length",z_),Cs=r=>!!r&&!Number.isNaN(Number(r)),Jc=r=>Ds(r,"number",Cs),To=r=>!!r&&Number.isInteger(Number(r)),I_=r=>r.endsWith("%")&&Cs(r.slice(0,-1)),ke=r=>tg.test(r),rn=r=>N_.test(r),D_=new Set(["length","size","percentage"]),$_=r=>Ds(r,D_,rg),L_=r=>Ds(r,"position",rg),M_=new Set(["image","url"]),F_=r=>Ds(r,M_,V_),U_=r=>Ds(r,"",B_),No=()=>!0,Ds=(r,e,n)=>{const o=tg.exec(r);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1},z_=r=>P_.test(r)&&!j_.test(r),rg=()=>!1,B_=r=>A_.test(r),V_=r=>O_.test(r),W_=()=>{const r=We("colors"),e=We("spacing"),n=We("blur"),o=We("brightness"),a=We("borderColor"),l=We("borderRadius"),u=We("borderSpacing"),d=We("borderWidth"),h=We("contrast"),m=We("grayscale"),v=We("hueRotate"),y=We("invert"),b=We("gap"),S=We("gradientColorStops"),k=We("gradientColorStopPositions"),x=We("inset"),E=We("margin"),C=We("opacity"),R=We("padding"),N=We("saturate"),D=We("scale"),U=We("sepia"),F=We("skew"),P=We("space"),W=We("translate"),L=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",ke,e],$=()=>[ke,e],q=()=>["",Tr,tn],re=()=>["auto",Cs,ke],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",ke],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Cs,ke];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[Tr,tn],blur:["none","",rn,ke],brightness:A(),borderColor:[r],borderRadius:["none","","full",rn,ke],borderSpacing:$(),borderWidth:q(),contrast:A(),grayscale:Q(),hueRotate:A(),invert:Q(),gap:$(),gradientColorStops:[r],gradientColorStopPositions:[I_,tn],inset:H(),margin:H(),opacity:A(),padding:$(),saturate:A(),scale:A(),sepia:Q(),skew:A(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[rn]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ke]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,ke]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",To,ke]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",To,ke]},ke]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[To,ke]},ke]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[rn]},rn]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rn,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jc]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Cs,Jc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tr,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tr,tn]}],"underline-offset":[{"underline-offset":["auto",Tr,ke]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),L_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F_]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Tr,ke]}],"outline-w":[{outline:[Tr,tn]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Tr,tn]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",rn,U_]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",rn,ke]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[N]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[To,ke]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Tr,tn,Jc]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H_=C_(W_);function $e(...r){return H_(Qm(r))}const $n=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:$e("rounded-2xl border bg-card/60 text-card-foreground shadow-sm backdrop-blur-[6px] border-border/50","hover:shadow-lg transition-[box-shadow,transform] duration-300",r),...e}));$n.displayName="Card";const La=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:$e("flex flex-col space-y-1.5 p-6",r),...e}));La.displayName="CardHeader";const Ma=w.forwardRef(({className:r,...e},n)=>p.jsx("h3",{ref:n,className:$e("text-2xl font-semibold leading-none tracking-tight",r),...e}));Ma.displayName="CardTitle";const ng=w.forwardRef(({className:r,...e},n)=>p.jsx("p",{ref:n,className:$e("text-sm text-muted-foreground",r),...e}));ng.displayName="CardDescription";const Jo=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:$e("p-6 pt-0",r),...e}));Jo.displayName="CardContent";const q_=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:$e("flex items-center p-6 pt-0",r),...e}));q_.displayName="CardFooter";function Fp(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function sg(...r){return e=>{let n=!1;const o=r.map(a=>{const l=Fp(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():Fp(r[a],null)}}}}function Me(...r){return w.useCallback(sg(...r),r)}function js(r){const e=G_(r),n=w.forwardRef((o,a)=>{const{children:l,...u}=o,d=w.Children.toArray(l),h=d.find(Y_);if(h){const m=h.props.children,v=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...u,ref:a,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return p.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}var K_=js("Slot");function G_(r){const e=w.forwardRef((n,o)=>{const{children:a,...l}=n;if(w.isValidElement(a)){const u=X_(a),d=Q_(l,a.props);return a.type!==w.Fragment&&(d.ref=o?sg(o,u):u),w.cloneElement(a,d)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var og=Symbol("radix.slottable");function J_(r){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${r}.Slottable`,e.__radixId=og,e}function Y_(r){return w.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===og}function Q_(r,e){const n={...e};for(const o in e){const a=r[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const h=l(...d);return a(...d),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function X_(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var Z_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=Z_.reduce((r,e)=>{const n=js(`Primitive.${e}`),o=w.forwardRef((a,l)=>{const{asChild:u,...d}=a,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(h,{...d,ref:l})});return o.displayName=`Primitive.${e}`,{...r,[e]:o}},{});function eb(r,e){r&&qo.flushSync(()=>r.dispatchEvent(e))}var tb="Label",ig=w.forwardRef((r,e)=>p.jsx(Ne.label,{...r,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(r.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ig.displayName=tb;var ag=ig;const Up=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,zp=Qm,Yu=(r,e)=>n=>{var o;if(e?.variants==null)return zp(r,n?.class,n?.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const v=n?.[m],y=l?.[m];if(v===null)return null;const b=Up(v)||Up(y);return a[m][b]}),d=n&&Object.entries(n).reduce((m,v)=>{let[y,b]=v;return b===void 0||(m[y]=b),m},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,v)=>{let{class:y,className:b,...S}=v;return Object.entries(S).every(k=>{let[x,E]=k;return Array.isArray(E)?E.includes({...l,...d}[x]):{...l,...d}[x]===E})?[...m,y,b]:m},[]);return zp(r,u,h,n?.class,n?.className)},rb=Yu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=w.forwardRef(({className:r,...e},n)=>p.jsx(ag,{ref:n,className:$e(rb(),r),...e}));Ie.displayName=ag.displayName;const mt=w.forwardRef(({className:r,type:e,...n},o)=>p.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:o,...n}));mt.displayName="Input";const Qu=Yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=w.forwardRef(({className:r,variant:e,size:n,asChild:o=!1,...a},l)=>{const u=o?K_:"button";return p.jsx(u,{className:$e(Qu({variant:e,size:n,className:r})),ref:l,...a})});ct.displayName="Button";function Te(r,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(r?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function nb(r,e){const n=w.createContext(e),o=l=>{const{children:u,...d}=l,h=w.useMemo(()=>d,Object.values(d));return p.jsx(n.Provider,{value:h,children:u})};o.displayName=r+"Provider";function a(l){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[o,a]}function Or(r,e=[]){let n=[];function o(l,u){const d=w.createContext(u),h=n.length;n=[...n,u];const m=y=>{const{scope:b,children:S,...k}=y,x=b?.[r]?.[h]||d,E=w.useMemo(()=>k,Object.values(k));return p.jsx(x.Provider,{value:E,children:S})};m.displayName=l+"Provider";function v(y,b){const S=b?.[r]?.[h]||d,k=w.useContext(S);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,v]}const a=()=>{const l=n.map(u=>w.createContext(u));return function(d){const h=d?.[r]||l;return w.useMemo(()=>({[`__scope${r}`]:{...d,[r]:h}}),[d,h])}};return a.scopeName=r,[o,sb(a,...e)]}function sb(...r){const e=r[0];if(r.length===1)return e;const n=()=>{const o=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=o.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function lg(r){const e=r+"CollectionProvider",[n,o]=Or(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:E,children:C}=x,R=Nr.useRef(null),N=Nr.useRef(new Map).current;return p.jsx(a,{scope:E,itemMap:N,collectionRef:R,children:C})};u.displayName=e;const d=r+"CollectionSlot",h=js(d),m=Nr.forwardRef((x,E)=>{const{scope:C,children:R}=x,N=l(d,C),D=Me(E,N.collectionRef);return p.jsx(h,{ref:D,children:R})});m.displayName=d;const v=r+"CollectionItemSlot",y="data-radix-collection-item",b=js(v),S=Nr.forwardRef((x,E)=>{const{scope:C,children:R,...N}=x,D=Nr.useRef(null),U=Me(E,D),F=l(v,C);return Nr.useEffect(()=>(F.itemMap.set(D,{ref:D,...N}),()=>void F.itemMap.delete(D))),p.jsx(b,{[y]:"",ref:U,children:R})});S.displayName=v;function k(x){const E=l(r+"CollectionConsumer",x);return Nr.useCallback(()=>{const R=E.collectionRef.current;if(!R)return[];const N=Array.from(R.querySelectorAll(`[${y}]`));return Array.from(E.itemMap.values()).sort((F,P)=>N.indexOf(F.ref.current)-N.indexOf(P.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},k,o]}var _t=globalThis?.document?w.useLayoutEffect:()=>{},ob=qu[" useId ".trim().toString()]||(()=>{}),ib=0;function cn(r){const[e,n]=w.useState(ob());return _t(()=>{n(o=>o??String(ib++))},[r]),e?`radix-${e}`:""}function un(r){const e=w.useRef(r);return w.useEffect(()=>{e.current=r}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}var ab=qu[" useInsertionEffect ".trim().toString()]||_t;function As({prop:r,defaultProp:e,onChange:n=()=>{},caller:o}){const[a,l,u]=lb({defaultProp:e,onChange:n}),d=r!==void 0,h=d?r:a;{const v=w.useRef(r!==void 0);w.useEffect(()=>{const y=v.current;y!==d&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,o])}const m=w.useCallback(v=>{if(d){const y=cb(v)?v(r):v;y!==r&&u.current?.(y)}else l(v)},[d,r,l,u]);return[h,m]}function lb({defaultProp:r,onChange:e}){const[n,o]=w.useState(r),a=w.useRef(n),l=w.useRef(e);return ab(()=>{l.current=e},[e]),w.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,o,l]}function cb(r){return typeof r=="function"}var ub=w.createContext(void 0);function Xu(r){const e=w.useContext(ub);return r||e||"ltr"}var Yc="rovingFocusGroup.onEntryFocus",db={bubbles:!1,cancelable:!0},Yo="RovingFocusGroup",[xu,cg,fb]=lg(Yo),[hb,ug]=Or(Yo,[fb]),[pb,mb]=hb(Yo),dg=w.forwardRef((r,e)=>p.jsx(xu.Provider,{scope:r.__scopeRovingFocusGroup,children:p.jsx(xu.Slot,{scope:r.__scopeRovingFocusGroup,children:p.jsx(gb,{...r,ref:e})})}));dg.displayName=Yo;var gb=w.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...y}=r,b=w.useRef(null),S=Me(e,b),k=Xu(l),[x,E]=As({prop:u,defaultProp:d??null,onChange:h,caller:Yo}),[C,R]=w.useState(!1),N=un(m),D=cg(n),U=w.useRef(!1),[F,P]=w.useState(0);return w.useEffect(()=>{const W=b.current;if(W)return W.addEventListener(Yc,N),()=>W.removeEventListener(Yc,N)},[N]),p.jsx(pb,{scope:n,orientation:o,dir:k,loop:a,currentTabStopId:x,onItemFocus:w.useCallback(W=>E(W),[E]),onItemShiftTab:w.useCallback(()=>R(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(W=>W+1),[]),onFocusableItemRemove:w.useCallback(()=>P(W=>W-1),[]),children:p.jsx(Ne.div,{tabIndex:C||F===0?-1:0,"data-orientation":o,...y,ref:S,style:{outline:"none",...r.style},onMouseDown:Te(r.onMouseDown,()=>{U.current=!0}),onFocus:Te(r.onFocus,W=>{const L=!U.current;if(W.target===W.currentTarget&&L&&!C){const I=new CustomEvent(Yc,db);if(W.currentTarget.dispatchEvent(I),!I.defaultPrevented){const H=D().filter(G=>G.focusable),$=H.find(G=>G.active),q=H.find(G=>G.id===x),se=[$,q,...H].filter(Boolean).map(G=>G.ref.current);pg(se,v)}}U.current=!1}),onBlur:Te(r.onBlur,()=>R(!1))})})}),fg="RovingFocusGroupItem",hg=w.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,children:u,...d}=r,h=cn(),m=l||h,v=mb(fg,n),y=v.currentTabStopId===m,b=cg(n),{onFocusableItemAdd:S,onFocusableItemRemove:k,currentTabStopId:x}=v;return w.useEffect(()=>{if(o)return S(),()=>k()},[o,S,k]),p.jsx(xu.ItemSlot,{scope:n,id:m,focusable:o,active:a,children:p.jsx(Ne.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Te(r.onMouseDown,E=>{o?v.onItemFocus(m):E.preventDefault()}),onFocus:Te(r.onFocus,()=>v.onItemFocus(m)),onKeyDown:Te(r.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){v.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=wb(E,v.orientation,v.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let N=b().filter(D=>D.focusable).map(D=>D.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const D=N.indexOf(E.currentTarget);N=v.loop?xb(N,D+1):N.slice(D+1)}setTimeout(()=>pg(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:x!=null}):u})})});hg.displayName=fg;var vb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yb(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function wb(r,e,n){const o=yb(r.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return vb[o]}function pg(r,e=!1){const n=document.activeElement;for(const o of r)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function xb(r,e){return r.map((n,o)=>r[(e+o)%r.length])}var _b=dg,bb=hg;function mg(r){const[e,n]=w.useState(void 0);return _t(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=r.offsetWidth,d=r.offsetHeight;n({width:u,height:d})});return o.observe(r,{box:"border-box"}),()=>o.unobserve(r)}else n(void 0)},[r]),e}function gg(r){const e=w.useRef({value:r,previous:r});return w.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}function Sb(r,e){return w.useReducer((n,o)=>e[n][o]??n,r)}var $s=r=>{const{present:e,children:n}=r,o=Eb(e),a=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),l=Me(o.ref,kb(a));return typeof n=="function"||o.isPresent?w.cloneElement(a,{ref:l}):null};$s.displayName="Presence";function Eb(r){const[e,n]=w.useState(),o=w.useRef(null),a=w.useRef(r),l=w.useRef("none"),u=r?"mounted":"unmounted",[d,h]=Sb(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=la(o.current);l.current=d==="mounted"?m:"none"},[d]),_t(()=>{const m=o.current,v=a.current;if(v!==r){const b=l.current,S=la(m);r?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(v&&b!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,h]),_t(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,y=S=>{const x=la(o.current).includes(S.animationName);if(S.target===e&&x&&(h("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},b=S=>{S.target===e&&(l.current=la(o.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{o.current=m?getComputedStyle(m):null,n(m)},[])}}function la(r){return r?.animationName||"none"}function kb(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var Zu="Radio",[Cb,vg]=Or(Zu),[Rb,Tb]=Cb(Zu),yg=w.forwardRef((r,e)=>{const{__scopeRadio:n,name:o,checked:a=!1,required:l,disabled:u,value:d="on",onCheck:h,form:m,...v}=r,[y,b]=w.useState(null),S=Me(e,E=>b(E)),k=w.useRef(!1),x=y?m||!!y.closest("form"):!0;return p.jsxs(Rb,{scope:n,checked:a,disabled:u,children:[p.jsx(Ne.button,{type:"button",role:"radio","aria-checked":a,"data-state":bg(a),"data-disabled":u?"":void 0,disabled:u,value:d,...v,ref:S,onClick:Te(r.onClick,E=>{a||h?.(),x&&(k.current=E.isPropagationStopped(),k.current||E.stopPropagation())})}),x&&p.jsx(_g,{control:y,bubbles:!k.current,name:o,value:d,checked:a,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});yg.displayName=Zu;var wg="RadioIndicator",xg=w.forwardRef((r,e)=>{const{__scopeRadio:n,forceMount:o,...a}=r,l=Tb(wg,n);return p.jsx($s,{present:o||l.checked,children:p.jsx(Ne.span,{"data-state":bg(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e})})});xg.displayName=wg;var Nb="RadioBubbleInput",_g=w.forwardRef(({__scopeRadio:r,control:e,checked:n,bubbles:o=!0,...a},l)=>{const u=w.useRef(null),d=Me(u,l),h=gg(n),m=mg(e);return w.useEffect(()=>{const v=u.current;if(!v)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&S){const k=new Event("click",{bubbles:o});S.call(v,n),v.dispatchEvent(k)}},[h,n,o]),p.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_g.displayName=Nb;function bg(r){return r?"checked":"unchecked"}var Pb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fa="RadioGroup",[jb]=Or(Fa,[ug,vg]),Sg=ug(),Eg=vg(),[Ab,Ob]=jb(Fa),kg=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,name:o,defaultValue:a,value:l,required:u=!1,disabled:d=!1,orientation:h,dir:m,loop:v=!0,onValueChange:y,...b}=r,S=Sg(n),k=Xu(m),[x,E]=As({prop:l,defaultProp:a??null,onChange:y,caller:Fa});return p.jsx(Ab,{scope:n,name:o,required:u,disabled:d,value:x,onValueChange:E,children:p.jsx(_b,{asChild:!0,...S,orientation:h,dir:k,loop:v,children:p.jsx(Ne.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":d?"":void 0,dir:k,...b,ref:e})})})});kg.displayName=Fa;var Cg="RadioGroupItem",Rg=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,disabled:o,...a}=r,l=Ob(Cg,n),u=l.disabled||o,d=Sg(n),h=Eg(n),m=w.useRef(null),v=Me(e,m),y=l.value===a.value,b=w.useRef(!1);return w.useEffect(()=>{const S=x=>{Pb.includes(x.key)&&(b.current=!0)},k=()=>b.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",k)}},[]),p.jsx(bb,{asChild:!0,...d,focusable:!u,active:y,children:p.jsx(yg,{disabled:u,required:l.required,checked:y,...h,...a,name:l.name,ref:v,onCheck:()=>l.onValueChange(a.value),onKeyDown:Te(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:Te(a.onFocus,()=>{b.current&&m.current?.click()})})})});Rg.displayName=Cg;var Ib="RadioGroupIndicator",Tg=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,...o}=r,a=Eg(n);return p.jsx(xg,{...a,...o,ref:e})});Tg.displayName=Ib;var Ng=kg,Pg=Rg,Db=Tg;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jg=(...r)=>r.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=w.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...Lb,width:e,height:e,stroke:r,strokeWidth:o?Number(n)*24/Number(e):n,className:jg("lucide",a),...d},[...u.map(([m,v])=>w.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(r,e)=>{const n=w.forwardRef(({className:o,...a},l)=>w.createElement(Mb,{ref:l,iconNode:e,className:jg(`lucide-${$b(r)}`,o),...a}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=yr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=yr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=yr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=yr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=yr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=yr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=yr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=yr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=yr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=yr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ca=w.forwardRef(({className:r,...e},n)=>p.jsx(Ng,{className:$e("grid gap-2",r),...e,ref:n}));Ca.displayName=Ng.displayName;const In=w.forwardRef(({className:r,...e},n)=>p.jsx(Pg,{ref:n,className:$e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:p.jsx(Db,{className:"flex items-center justify-center",children:p.jsx(Ub,{className:"h-2.5 w-2.5 fill-current text-current"})})}));In.displayName=Pg.displayName;const Wb=1,Hb=1e6;let Qc=0;function qb(){return Qc=(Qc+1)%Number.MAX_SAFE_INTEGER,Qc.toString()}const Xc=new Map,Bp=r=>{if(Xc.has(r))return;const e=setTimeout(()=>{Xc.delete(r),_a({type:"REMOVE_TOAST",toastId:r})},Hb);Xc.set(r,e)},Kb=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,Wb)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Bp(n):r.toasts.forEach(o=>{Bp(o.id)}),{...r,toasts:r.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(n=>n.id!==e.toastId)}}},Gb=[];let Zc={toasts:[]};function _a(r){Zc=Kb(Zc,r),Gb.forEach(e=>{e(Zc)})}function Oe({...r}){const e=qb(),n=a=>_a({type:"UPDATE_TOAST",toast:{...a,id:e}}),o=()=>_a({type:"DISMISS_TOAST",toastId:e});return _a({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:a=>{a||o()}}}),{id:e,dismiss:o,update:n}}const Jb=({onSaleAdded:r,editingSale:e,onSaleUpdated:n})=>{const o=new Date,a=new Date(o);a.setMonth(a.getMonth()+1);const l=te=>te.toISOString().split("T")[0],u=(te,_e,Ce="mensal")=>{const Le=[],st=new Date(te);for(let ut=0;ut<_e;ut++){const Qe=new Date(st);Ce==="quinzenal"?Qe.setDate(st.getDate()+ut*15):Qe.setMonth(st.getMonth()+ut),Le.push(Qe.toISOString().split("T")[0])}return Le},[d,h]=w.useState(""),[m,v]=w.useState(""),[y,b]=w.useState(""),[S,k]=w.useState(""),[x,E]=w.useState(""),[C,R]=w.useState(l(o)),[N,D]=w.useState(l(a)),[U,F]=w.useState("pix"),[P,W]=w.useState(1),[L,I]=w.useState([""]),[H,$]=w.useState([!1]),[q,re]=w.useState("mensal"),[se,G]=w.useState(""),[Y,V]=w.useState(""),[Q,ee]=w.useState([]),[A,K]=w.useState(null);w.useEffect(()=>{e&&(h(e.customerName),R(e.purchaseDate),D(e.paymentDate),F(e.paymentMethod),ee(e.products),G(e.advancePayment?.toString()||""),V(e.discount?.toString()||""),e.paymentMethod==="installment"&&e.installments&&e.installmentValues&&(W(e.installments),I(e.installmentValues.map(te=>te.toString())),$(Array(e.installments).fill(!0)),re(e.installmentType||"mensal")))},[e]);const ye=parseFloat(x||"0")-parseFloat(S||"0"),we=L.reduce((te,_e)=>te+parseFloat(_e||"0"),0),be=Q.reduce((te,_e)=>te+_e.purchaseValue,0),ge=Q.reduce((te,_e)=>te+_e.saleValue,0),oe=ge-be-parseFloat(Y||"0"),fe=te=>{W(te);const _e=[...H];te<_e.length?$(_e.slice(0,te)):$([..._e,...Array(te-_e.length).fill(!1)]);const Ce=parseFloat(se||"0"),Le=parseFloat(Y||"0"),st=ge-Ce-Le;if(st>0){const ut=(st/te).toFixed(2),Qe=Array(te).fill("").map((dt,gt)=>H[gt]?L[gt]||"":ut);I(Qe)}else I(Array(te).fill(""))},Se=(te,_e)=>{const Ce=[...L];Ce[te]=_e;const Le=[...H];Le[te]=!0;const st=parseFloat(se||"0"),ut=parseFloat(Y||"0"),Qe=ge-st-ut;let dt=0;Ce.forEach((mn,Bt)=>{(Bt===te||Le[Bt])&&(dt+=parseFloat(mn||"0"))});const gt=Qe-dt,It=Ce.slice(te+1).filter((mn,Bt)=>!Le[te+1+Bt]).length;if(It>0&&gt>0){const mn=(gt/It).toFixed(2);for(let Bt=te+1;Bt<Ce.length;Bt++)Le[Bt]||(Ce[Bt]=mn)}I(Ce),$(Le)},Ee=()=>{if(!m||!y||!S||!x){Oe({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos do produto.",variant:"destructive"});return}if(A)ee(Q.map(te=>te.id===A?{id:te.id,productRef:m,productName:y,purchaseValue:parseFloat(S),saleValue:parseFloat(x)}:te)),K(null),Oe({title:"Produto atualizado!",description:"O produto foi atualizado com sucesso."});else{const te={id:Date.now().toString(),productRef:m,productName:y,purchaseValue:parseFloat(S),saleValue:parseFloat(x)},_e=[...Q,te];if(ee(_e),U==="installment"&&P>0){const Ce=_e.reduce((gt,It)=>gt+It.saleValue,0),Le=parseFloat(se||"0"),st=parseFloat(Y||"0"),Qe=((Ce-Le-st)/P).toFixed(2),dt=L.map((gt,It)=>H[It]?gt:Qe);I(dt)}Oe({title:"Produto adicionado!",description:"O produto foi adicionado  lista."})}v(""),b(""),k(""),E("")},Ae=te=>{v(te.productRef),b(te.productName),k(te.purchaseValue.toString()),E(te.saleValue.toString()),K(te.id)},ze=te=>{const _e=Q.filter(Ce=>Ce.id!==te);if(ee(_e),U==="installment"&&P>0&&_e.length>0){const Ce=_e.reduce((gt,It)=>gt+It.saleValue,0),Le=parseFloat(se||"0"),st=parseFloat(Y||"0"),Qe=((Ce-Le-st)/P).toFixed(2),dt=L.map((gt,It)=>H[It]?gt:Qe);I(dt)}Oe({title:"Produto removido!",description:"O produto foi removido da lista."})},nt=async te=>{if(te.preventDefault(),!d||!C||!N){Oe({title:"Campos obrigatrios",description:"Por favor, preencha o nome do cliente e as datas.",variant:"destructive"});return}if(Q.length===0){Oe({title:"Nenhum produto",description:"Por favor, adicione pelo menos um produto  venda.",variant:"destructive"});return}if(U==="installment"&&L.some(Ce=>!Ce||parseFloat(Ce)<=0)){Oe({title:"Valores de parcelas invlidos",description:"Por favor, preencha todos os valores das parcelas.",variant:"destructive"});return}const _e={id:e?.id||Date.now().toString(),customerName:d,purchaseDate:C,paymentDate:N,paymentMethod:U,installments:U==="installment"?P:void 0,installmentValues:U==="installment"?L.map(Ce=>parseFloat(Ce)):void 0,installmentDates:U==="installment"?u(N,P,q):void 0,installmentType:U==="installment"?q:void 0,advancePayment:se?parseFloat(se):void 0,discount:Y?parseFloat(Y):void 0,products:[...Q]};try{e&&n?await n(_e):await r(_e);const Ce=new Date,Le=new Date(Ce);Le.setMonth(Le.getMonth()+1),h(""),v(""),b(""),k(""),E(""),R(l(Ce)),D(l(Le)),F("pix"),W(1),I([""]),$([!1]),re("mensal"),G(""),V(""),ee([]),K(null)}catch(Ce){console.error("Erro ao salvar venda:",Ce),Oe({title:"Erro ao salvar dados",description:"Ocorreu um erro ao salvar os dados. Verifique sua conexo e tente novamente.",variant:"destructive"})}};return p.jsxs($n,{className:"w-full max-w-[70%] mx-auto shadow-lg rounded-xl border",children:[p.jsx(La,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 rounded-t-xl",children:p.jsx(Ma,{className:"text-xl md:text-2xl font-bold text-foreground",children:e?"Editar Venda":"Cadastro de Venda"})}),p.jsx(Jo,{className:"p-6",children:p.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ie,{htmlFor:"customerName",className:"text-foreground",children:"Nome do Cliente"}),p.jsx(mt,{id:"customerName",value:d,onChange:te=>h(te.target.value),className:"mt-1",placeholder:"Digite o nome do cliente"})]}),p.jsxs("div",{children:[p.jsxs(Ie,{htmlFor:"purchaseDate",className:"text-foreground flex items-center gap-2",children:[p.jsx(_u,{className:"w-4 h-4"}),"Data da Compra"]}),p.jsx(mt,{id:"purchaseDate",type:"date",value:C,onChange:te=>R(te.target.value),className:"mt-1"})]}),p.jsxs("div",{children:[p.jsxs(Ie,{htmlFor:"paymentDate",className:"text-foreground flex items-center gap-2",children:[p.jsx(_u,{className:"w-4 h-4"}),"Data de Pagamento / 1 Parcela"]}),p.jsx(mt,{id:"paymentDate",type:"date",value:N,onChange:te=>D(te.target.value),className:"mt-1"})]})]}),p.jsx("div",{className:"border-t border-border my-6"}),p.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Produtos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"productRef",className:"text-foreground",children:"Referncia do Produto"}),p.jsx(mt,{id:"productRef",value:m,onChange:te=>v(te.target.value),className:"mt-1",placeholder:"REF-001"})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"productName",className:"text-foreground",children:"Nome do Produto"}),p.jsx(mt,{id:"productName",value:y,onChange:te=>b(te.target.value),className:"mt-1",placeholder:"Digite o nome do produto"})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"purchaseValue",className:"text-foreground",children:"Valor de Compra"}),p.jsx(mt,{id:"purchaseValue",type:"number",step:"0.01",value:S,onChange:te=>k(te.target.value),className:"mt-1",placeholder:"R$ 0,00"})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"saleValue",className:"text-foreground",children:"Valor de Venda"}),p.jsx(mt,{id:"saleValue",type:"number",step:"0.01",value:x,onChange:te=>E(te.target.value),className:"mt-1",placeholder:"R$ 0,00"})]})]}),S&&x&&p.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-accent/20 to-secondary/20 mb-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-muted-foreground",children:"Lucro deste produto:"}),p.jsxs("span",{className:`text-lg font-bold ${ye>=0?"text-green-600":"text-red-600"}`,children:["R$ ",ye.toFixed(2)]})]})}),p.jsx(ct,{type:"button",onClick:Ee,className:"w-full",variant:A?"default":"secondary",children:A?"Atualizar Produto":"Adicionar Produto"}),Q.length>0&&p.jsxs("div",{className:"mt-6 space-y-3",children:[p.jsx("h4",{className:"font-semibold text-foreground",children:"Produtos Adicionados:"}),Q.map(te=>{const _e=te.saleValue-te.purchaseValue;return p.jsx("div",{className:"p-4 rounded-lg bg-muted border border-border",children:p.jsxs("div",{className:"flex items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-foreground",children:te.productName}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ref: ",te.productRef]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Compra: "}),p.jsxs("span",{className:"font-semibold",children:["R$ ",te.purchaseValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Venda: "}),p.jsxs("span",{className:"font-semibold",children:["R$ ",te.saleValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Lucro: "}),p.jsxs("span",{className:`font-semibold ${_e>=0?"text-green-600":"text-red-600"}`,children:["R$ ",_e.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{type:"button",variant:"outline",size:"sm",onClick:()=>Ae(te),children:"Editar"}),p.jsx(ct,{type:"button",variant:"destructive",size:"sm",onClick:()=>ze(te.id),children:"Excluir"})]})]})},te.id)}),p.jsx("div",{className:"p-4 rounded-lg bg-gradient-to-r from-primary/20 to-accent/20 border-2 border-primary/30",children:p.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Compra"}),p.jsxs("p",{className:"text-xl font-bold text-foreground",children:["R$ ",be.toFixed(2)]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Venda"}),p.jsxs("p",{className:"text-xl font-bold text-foreground",children:["R$ ",ge.toFixed(2)]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Lucro Total"}),p.jsxs("p",{className:`text-xl font-bold ${oe>=0?"text-green-600":"text-red-600"}`,children:["R$ ",oe.toFixed(2)]})]})]})})]}),p.jsx("div",{className:"border-t border-border my-6"}),p.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Forma de Pagamento"}),p.jsxs(Ca,{value:U,onValueChange:te=>F(te),children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx(In,{value:"pix",id:"pix"}),p.jsx(Ie,{htmlFor:"pix",className:"cursor-pointer",children:"PIX /  Vista"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"installment",id:"installment"}),p.jsx(Ie,{htmlFor:"installment",className:"cursor-pointer",children:"Parcelado"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"advancePayment",className:"text-foreground",children:"Entrada / Adiantamento (Opcional)"}),p.jsx(mt,{id:"advancePayment",type:"number",step:"0.01",value:se,onChange:te=>{if(G(te.target.value),U==="installment"&&P>0&&ge>0){const _e=parseFloat(te.target.value||"0"),Ce=parseFloat(Y||"0"),st=((ge-_e-Ce)/P).toFixed(2),ut=L.map((Qe,dt)=>H[dt]?Qe:st);I(ut)}},className:"mt-1 max-w-xs",placeholder:"R$ 0,00"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Valor recebido antecipadamente, ser abatido do total"})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"discount",className:"text-foreground",children:"Desconto (Opcional)"}),p.jsx(mt,{id:"discount",type:"number",step:"0.01",value:Y,onChange:te=>{if(V(te.target.value),U==="installment"&&P>0&&ge>0){const _e=parseFloat(se||"0"),Ce=parseFloat(te.target.value||"0"),st=((ge-_e-Ce)/P).toFixed(2),ut=L.map((Qe,dt)=>H[dt]?Qe:st);I(ut)}},className:"mt-1 max-w-xs",placeholder:"R$ 0,00"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desconto que ser abatido do total"})]})]}),U==="installment"&&p.jsxs("div",{className:"mt-6 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"installmentNumber",children:"Nmero de Parcelas"}),p.jsx(mt,{id:"installmentNumber",type:"number",min:"1",max:"12",value:P,onChange:te=>fe(parseInt(te.target.value)||1),className:"mt-1"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Entre 1 e 12 parcelas"})]}),p.jsxs("div",{children:[p.jsx(Ie,{children:"Tipo de Parcelamento"}),p.jsxs(Ca,{value:q,onValueChange:te=>re(te),className:"mt-2",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"mensal",id:"mensal"}),p.jsx(Ie,{htmlFor:"mensal",className:"cursor-pointer text-sm",children:"Mensal (30 dias)"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"quinzenal",id:"quinzenal"}),p.jsx(Ie,{htmlFor:"quinzenal",className:"cursor-pointer text-sm",children:"Quinzenal (15 dias)"})]})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(Ie,{children:"Valor de Cada Parcela"}),Array.from({length:P}).map((te,_e)=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"text-sm font-medium min-w-[80px]",children:["Parcela ",_e+1,":"]}),p.jsx(mt,{type:"number",step:"0.01",value:L[_e]||"",onChange:Ce=>Se(_e,Ce.target.value),placeholder:"R$ 0,00",className:"max-w-xs"})]},_e))]}),L.some(te=>te)&&p.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total das Parcelas:"}),p.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["R$ ",we.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(ct,{type:"submit",className:"flex-1",size:"lg",children:e?"Atualizar Venda":"Cadastrar Venda"}),p.jsx(ct,{type:"button",variant:"outline",size:"lg",onClick:()=>{h(""),v(""),b(""),k(""),E(""),R(l(o)),D(l(a)),F("pix"),W(1),I([""]),$([!1]),re("mensal"),G(""),ee([]),K(null)},children:"Limpar"})]})]})})]})};var hr=function(){return hr=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},hr.apply(this,arguments)};function Ls(r,e){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(n[o[a]]=r[o[a]]);return n}function Yb(r,e,n,o){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(o.next(v))}catch(y){u(y)}}function h(v){try{m(o.throw(v))}catch(y){u(y)}}function m(v){v.done?l(v.value):a(v.value).then(d,h)}m((o=o.apply(r,e||[])).next())})}function Qb(r,e,n){if(n||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return r.concat(l||Array.prototype.slice.call(e))}const Xb=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class td extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class Zb extends td{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vp extends td{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wp extends td{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(bu||(bu={}));class eS{constructor(e,{headers:n={},customFetch:o,region:a=bu.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Xb(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Yb(this,arguments,void 0,function*(n,o={}){var a;let l,u;try{const{headers:d,method:h,body:m,signal:v,timeout:y}=o;let b={},{region:S}=o;S||(S=this.region);const k=new URL(`${this.url}/${n}`);S&&S!=="any"&&(b["x-region"]=S,k.searchParams.set("forceFunctionRegion",S));let x;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",x=m):typeof m=="string"?(b["Content-Type"]="text/plain",x=m):typeof FormData<"u"&&m instanceof FormData?x=m:(b["Content-Type"]="application/json",x=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?x=JSON.stringify(m):x=m;let E=v;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),v?(E=u.signal,v.addEventListener("abort",()=>u.abort())):E=u.signal);const C=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:x,signal:E}).catch(U=>{throw new Zb(U)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new Vp(C);if(!C.ok)throw new Wp(C);let N=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return N==="application/json"?D=yield C.json():N==="application/octet-stream"||N==="application/pdf"?D=yield C.blob():N==="text/event-stream"?D=C:N==="multipart/form-data"?D=yield C.formData():D=yield C.text(),{data:D,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof Wp||d instanceof Vp?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var tS=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},rS=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,m=l.status,v=l.statusText;if(l.ok){var y,b;if(n.method!=="HEAD"){var S;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const x=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),E=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");x&&E&&E.length>1&&(h=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const x=await l.text();try{u=JSON.parse(x),Array.isArray(u)&&l.status===404&&(d=[],u=null,m=200,v="OK")}catch{l.status===404&&x===""?(m=204,v="No Content"):u={message:x}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&n.shouldThrowOnError)throw new tS(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let d="";const h=l?.cause;if(h){var m,v,y,b;const k=(m=h?.message)!==null&&m!==void 0?m:"",x=(v=h?.code)!==null&&v!==void 0?v:"";d=`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(b=h?.name)!==null&&b!==void 0?b:"Error"}: ${k}`,x&&(d+=` (${x})`),h?.stack&&(d+=`
${h.stack}`)}else{var S;d=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,e)}returns(){return this}overrideTypes(){return this}},nS=class extends rS{select(r){let e=!1;const n=(r??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var u;const d=[r?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Hp=new RegExp("[,()]");var bs=class extends nS{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&Hp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&Hp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${a}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},sS=class{constructor(r,{headers:e={},schema:n,fetch:o}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:n=!1,count:o}=e??{},a=n?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),o&&h.append("Prefer",`count=${o}`),new bs({method:a,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var o;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new bs({method:a,url:l,headers:u,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),o&&h.append("Prefer",`count=${o}`),a||h.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);d.searchParams.set("columns",v.join(","))}}return new bs({method:u,url:d,headers:h,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var n;const o="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new bs({method:o,url:a,headers:l,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE",{url:o,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new bs({method:n,url:o,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},oS=class Dg{constructor(e,{headers:n={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:a=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),y=o&&Object.values(n).some(v);y?(d="POST",m=n):o||a?(d=o?"HEAD":"GET",Object.entries(n).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{h.searchParams.append(S,k)})):(d="POST",m=n);const b=new Headers(this.headers);return y?b.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&b.set("Prefer",`count=${l}`),new bs({method:d,url:h,headers:b,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class iS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const a=o.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const aS="2.93.1",lS=`realtime-js/${aS}`,cS="1.0.0",$g="2.0.0",qp=$g,Su=1e4,uS=1e3,dS=100;var sn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(sn||(sn={}));var at;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(at||(at={}));var sr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(sr||(sr={}));var Eu;(function(r){r.websocket="websocket"})(Eu||(Eu={}));var An;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(An||(An={}));class fS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,o){var a,l;const u=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+y.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(S),x=0;k.setUint8(x++,this.KINDS.userBroadcastPush),k.setUint8(x++,h.length),k.setUint8(x++,d.length),k.setUint8(x++,u.length),k.setUint8(x++,m.length),k.setUint8(x++,y.length),k.setUint8(x++,n),Array.from(h,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(d,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(u,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(m,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(y,C=>k.setUint8(x++,C.charCodeAt(0)));var E=new Uint8Array(S.byteLength+o.byteLength);return E.set(new Uint8Array(S),0),E.set(new Uint8Array(o),S.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,u,d,h]=o;return n({join_ref:a,ref:l,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,o){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(e.slice(h,h+a));h=h+a;const v=o.decode(e.slice(h,h+l));h=h+l;const y=o.decode(e.slice(h,h+u));h=h+u;const b=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(o.decode(b)):b,k={type:this.BROADCAST_EVENT,event:v,payload:S};return u>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class Lg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const Kp=(r,e,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=hS(u,r,e,a),l),{}):{}},hS=(r,e,n,o)=>{const a=e.find(d=>d.name===r),l=a?.type,u=n[r];return l&&!o.includes(l)?Mg(l,u):ku(u)},Mg=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return vS(e,n)}switch(r){case Ue.bool:return pS(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return mS(e);case Ue.json:case Ue.jsonb:return gS(e);case Ue.timestamp:return yS(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return ku(e);default:return ku(e)}},ku=r=>r,pS=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},mS=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},gS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},vS=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,o=r[n];if(r[0]==="{"&&o==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Mg(e,d))}return r},yS=r=>typeof r=="string"?r.replace(" ","T"):r,Fg=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class eu{constructor(e,n,o={},a=Su){this.channel=e,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Gp||(Gp={}));class Oo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(h=>{this.state=Oo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Oo.syncDiff(this.state,a,l,u),d())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,a){const l=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const y=l[m];if(y){const b=v.map(E=>E.presence_ref),S=y.map(E=>E.presence_ref),k=v.filter(E=>S.indexOf(E.presence_ref)<0),x=y.filter(E=>b.indexOf(E.presence_ref)<0);k.length>0&&(d[m]=k),x.length>0&&(h[m]=x)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},o,a)}static syncDiff(e,n,o,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const y=e[d].map(S=>S.presence_ref),b=v.filter(S=>y.indexOf(S.presence_ref)<0);e[d].unshift(...b)}o(d,v,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,a(d,m,h),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const a=e[o];return"metas"in a?n[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Jp||(Jp={}));var Io;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Io||(Io={}));var Pr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class ks{constructor(e,n={config:{}},o){var a,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eu(this,sr.join,this.params,this.timeout),this.rejoinTimer=new Lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Oo(this),this.broadcastEndpointURL=Fg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Io.PRESENCE]&&this.bindings[Io.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Pr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Pr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,E=(k=x?.length)!==null&&k!==void 0?k:0,C=[];for(let R=0;R<E;R++){const N=x[R],{filter:{event:D,schema:U,table:F,filter:P}}=N,W=S&&S[R];if(W&&W.event===D&&ks.isFilterValueEqual(W.schema,U)&&ks.isFilterValueEqual(W.table,F)&&ks.isFilterValueEqual(W.filter,P))C.push(Object.assign(Object.assign({},N),{id:W.id}));else{this.unsubscribe(),this.state=at.errored,e?.(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Pr.SUBSCRIBED);return}}).receive("error",S=>{this.state=at.errored,e?.(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===at.joined&&e===Io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new eu(this,sr.leave,{},e),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new eu(this,e,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>dS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var a,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=sr;if(o&&[d,h,m,v].indexOf(u)>=0&&o!==this._joinRef())return;let b=this._onMessage(u,n,o);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var k,x,E;return((k=S.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(x=S.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(S=>S.callback(b,o)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var k,x,E,C,R,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const D=S.id,U=(k=S.filter)===null||k===void 0?void 0:k.event;return D&&((x=n.ids)===null||x===void 0?void 0:x.includes(D))&&(U==="*"||U?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(R=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return D==="*"||D===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:x,table:E,commit_timestamp:C,type:R,errors:N}=k;b=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:C,eventType:R,new:{},old:{},errors:N}),this._getPayloadRecords(k))}S.callback(b,o)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&ks.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sr.close,{},e)}_onError(e){this._on(sr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Kp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Kp(e.columns,e.old_record)),n}}const tu=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wS=[1e3,2e3,5e3,1e4],xS=1e4,_S=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bS{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Su,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tu,this.ref=0,this.reconnectTimer=null,this.vsn=qp,this.logger=tu,this.conn=null,this.sendBuffer=[],this.serializer=new fS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Eu.websocket}`,this.httpEndpoint=Fg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return An.Connecting;case sn.open:return An.Open;case sn.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new ks(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:a,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${o} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(uS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:a,payload:l,ref:u}=n,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${a} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===sn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sn.open||this.conn.readyState===sn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(sr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${o}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([_S],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:lS};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,a,l,u,d,h,m,v,y,b,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:Su,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:ca.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:tu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:qp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(k=>wS[k-1]||xS),this.vsn){case cS:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((k,x)=>x(JSON.stringify(k))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((k,x)=>x(JSON.parse(k)));break;case $g:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Lo=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function SS(r,e,n){const o=new URL(e,r);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function ES(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function kS(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:l,headers:u}){const d=SS(r.baseUrl,o,a),h=await ES(r.auth),m=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const S=y?b:void 0,k=S?.error;throw new Lo(k?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:k?.type,icebergCode:k?.code,details:S})}return{status:m.status,headers:m.headers,data:b}}}}function ua(r){return r.join("")}var CS=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:ua(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(r.namespace)}`}),!0}catch(e){if(e instanceof Lo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof Lo&&n.status===409)return;throw n}}};function hs(r){return r.join("")}var RS=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof Lo&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof Lo&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},TS=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=kS({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new CS(this.client,e),this.tableOps=new RS(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Ua=class extends Error{constructor(r,e="storage",n,o){super(r),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=o}};function za(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var da=class extends Ua{constructor(r,e,n,o="storage"){super(r,o,e,n),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ug=class extends Ua{constructor(r,e,n="storage"){super(r,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const NS=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),PS=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Cu=r=>{if(Array.isArray(r))return r.map(n=>Cu(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Cu(o)}),e},jS=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Mo(r){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(r)}function AS(r,e){if(Mo(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,e);if(Mo(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function OS(r){var e=AS(r,"string");return Mo(e)=="symbol"?e:e+""}function IS(r,e,n){return(e=OS(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Yp(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,o)}return n}function ve(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yp(Object(n),!0).forEach(function(o){IS(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}const Qp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},DS=async(r,e,n,o)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r,l=a.status||500;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||l+"";e(new da(Qp(u),l,d,o))}).catch(()=>{if(o==="vectors"){const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}else{const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}});else{const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}}else e(new Ug(Qp(r),r,o))},$S=(r,e,n,o)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||r==="HEAD"||!o?ve(ve({},a),n):(PS(o)?(a.headers=ve({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(o)):a.body=o,e?.duplex&&(a.duplex=e.duplex),ve(ve({},a),n))};async function Po(r,e,n,o,a,l,u){return new Promise((d,h)=>{r(n,$S(e,o,a,l)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;if(u==="vectors"){const v=m.headers.get("content-type");if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>DS(m,h,o,u))})}function LS(r="storage"){return{get:async(e,n,o,a)=>Po(e,"GET",n,o,a,void 0,r),post:async(e,n,o,a,l)=>Po(e,"POST",n,a,l,o,r),put:async(e,n,o,a,l)=>Po(e,"PUT",n,a,l,o,r),head:async(e,n,o,a)=>Po(e,"HEAD",n,ve(ve({},o),{},{noResolveJson:!0}),a,void 0,r),remove:async(e,n,o,a,l)=>Po(e,"DELETE",n,a,l,o,r)}}const MS=LS("storage"),{get:Fo,post:qe,put:Ru,head:FS,remove:rd}=MS;var Ms=class{constructor(r,e={},n,o="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.fetch=NS(n),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var e=this;try{return{data:await r(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(za(n))return{data:null,error:n};throw n}}},US=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}}};let zg;zg=Symbol.toStringTag;var zS=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new US(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(za(e))return{data:null,error:e};throw e}}};const BS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var VS=class extends Ms{constructor(r,e={},n,o){super(r,e,o,"storage"),this.bucketId=n}async uploadOrUpdate(r,e,n,o){var a=this;return a.handleOperation(async()=>{let l;const u=ve(ve({},Xp),o);let d=ve(ve({},a.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",a.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=ve(ve({},d),o.headers));const m=a._removeEmptyFolders(e),v=a._getFinalPath(m),y=await(r=="PUT"?Ru:qe)(a.fetch,`${a.url}/object/${v}`,l,ve({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:y.Id,fullPath:y.Key}})}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,o){var a=this;const l=a._removeEmptyFolders(r),u=a._getFinalPath(l),d=new URL(a.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",e),a.handleOperation(async()=>{let h;const m=ve({upsert:Xp.upsert},o),v=ve(ve({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:l,fullPath:(await Ru(a.fetch,d.toString(),h,{headers:v})).Key}})}async createSignedUploadUrl(r,e){var n=this;return n.handleOperation(async()=>{let o=n._getFinalPath(r);const a=ve({},n.headers);e?.upsert&&(a["x-upsert"]="true");const l=await qe(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new Ua("No token returned by API");return{signedUrl:u.toString(),path:r,token:d}})}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var o=this;return o.handleOperation(async()=>await qe(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers}))}async copy(r,e,n){var o=this;return o.handleOperation(async()=>({path:(await qe(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(r,e,n){var o=this;return o.handleOperation(async()=>{let a=o._getFinalPath(r),l=await qe(o.fetch,`${o.url}/object/sign/${a}`,ve({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)}})}async createSignedUrls(r,e,n){var o=this;return o.handleOperation(async()=>{const a=await qe(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:r},{headers:o.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a.map(u=>ve(ve({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null}))})}download(r,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(r),u=()=>Fo(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new zS(u,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);return e.handleOperation(async()=>Cu(await Fo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await FS(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(za(o)&&o instanceof Ug){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}}getPublicUrl(r,e){const n=this._getFinalPath(r),o=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&o.push(u);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(r){var e=this;return e.handleOperation(async()=>await rd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}))}async list(r,e,n){var o=this;return o.handleOperation(async()=>{const a=ve(ve(ve({},BS),e),{},{prefix:r||""});return await qe(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n)})}async listV2(r,e){var n=this;return n.handleOperation(async()=>{const o=ve({},r);return await qe(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const WS="2.93.1",Qo={"X-Client-Info":`storage-js/${WS}`};var HS=class extends Ms{constructor(r,e={},n,o){const a=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),u=ve(ve({},Qo),e);super(l,u,n,"storage")}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(r);return await Fo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(r){var e=this;return e.handleOperation(async()=>await Fo(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}))}async createBucket(r,e={public:!1}){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(r,e){var n=this;return n.handleOperation(async()=>await Ru(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await rd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},qS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ve(ve({},Qo),e);super(o,a,n,"storage")}async createBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}))}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return await Fo(e.fetch,a,{headers:e.headers})})}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await rd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}from(r){var e=this;if(!jS(r))throw new Ua("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new TS({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(a,d),error:null}}catch(h){if(o)throw h;return{data:null,error:h}}}}})}},KS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ve(ve({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async createIndex(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{})}async getIndex(r,e){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}))}async listIndexes(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}))}async deleteIndex(r,e){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{})}},GS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ve(ve({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async putVectors(r){var e=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{})}async getVectors(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}))}async listVectors(r){var e=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}))}async queryVectors(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}))}async deleteVectors(r){var e=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{})}},JS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ve(ve({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async createBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}async getBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}))}async listBuckets(r={}){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}},YS=class extends JS{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new QS(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},QS=class extends KS{constructor(r,e,n,o){super(r,e,o),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new XS(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},XS=class extends GS{constructor(r,e,n,o,a){super(r,e,a),this.vectorBucketName=n,this.indexName=o}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,ve(ve({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},ZS=class extends HS{constructor(r,e={},n,o){super(r,e,n,o)}from(r){return new VS(this.url,this.headers,r,this.fetch)}get vectors(){return new YS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qS(this.url+"/iceberg",this.headers,this.fetch)}};const Bg="2.93.1",Ss=30*1e3,Tu=3,ru=Tu*Ss,eE="http://localhost:9999",tE="supabase.auth.token",rE={"X-Client-Info":`gotrue-js/${Bg}`},Nu="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sE=600*1e3;class Uo extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function de(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class oE extends Uo{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function iE(r){return de(r)&&r.name==="AuthApiError"}class On extends Uo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ir extends Uo{constructor(e,n,o,a){super(e,o,a),this.name=n,this.status=o}}class Ft extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nu(r){return de(r)&&r.name==="AuthSessionMissingError"}class ps extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ha extends Ir{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aE(r){return de(r)&&r.name==="AuthImplicitGrantRedirectError"}class Zp extends Ir{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lE extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pu extends Ir{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function su(r){return de(r)&&r.name==="AuthRetryableFetchError"}class em extends Ir{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class ju extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tm=` 	
\r=`.split(""),cE=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<tm.length;e+=1)r[tm[e].charCodeAt(0)]=-2;for(let e=0;e<Ra.length;e+=1)r[Ra[e].charCodeAt(0)]=e;return r})();function rm(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Ra[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Ra[o]),e.queuedBits-=6}}function Wg(r,e,n){const o=cE[r];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function nm(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{fE(u,o,n)};for(let u=0;u<r.length;u+=1)Wg(r.charCodeAt(u),a,l);return e.join("")}function uE(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function dE(r,e){for(let n=0;n<r.length;n+=1){let o=r.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(r.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}uE(o,e)}}function fE(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Rs(r){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)Wg(r.charCodeAt(a),n,o);return new Uint8Array(e)}function hE(r){const e=[];return dE(r,n=>e.push(n)),new Uint8Array(e)}function Dn(r){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};return r.forEach(a=>rm(a,n,o)),rm(null,n,o),e.join("")}function pE(r){return Math.round(Date.now()/1e3)+r}function mE(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Hg=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function gE(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((o,a)=>{e[a]=o}),e}const qg=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),vE=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Es=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Pn=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(r,e)=>{await r.removeItem(e)};class Ba{constructor(){this.promise=new Ba.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ba.promiseConstructor=Promise;function pa(r){const e=r.split(".");if(e.length!==3)throw new ju("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!nE.test(e[o]))throw new ju("JWT not in base64url format");return{header:JSON.parse(nm(e[0])),payload:JSON.parse(nm(e[1])),signature:Rs(e[2]),raw:{header:e[0],payload:e[1]}}}async function yE(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function wE(r,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){o(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function xE(r){return("0"+r.toString(16)).substr(-2)}function _E(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,xE).join("")}async function bE(r){const n=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function SE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await bE(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(r,e,n=!1){const o=_E();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Es(r,`${e}-code-verifier`,a);const l=await SE(o);return[l,o===l?"plain":"s256"]}const EE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kE(r){const e=r.headers.get(Nu);if(!e||!e.match(EE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CE(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function RE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(r){if(!TE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ou(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function NE(r,e){return new Proxy(r,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,a)}})}function sm(r){return JSON.parse(JSON.stringify(r))}const jn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),PE=[502,503,504];async function om(r){var e;if(!vE(r))throw new Pu(jn(r),0);if(PE.includes(r.status))throw new Pu(jn(r),r.status);let n;try{n=await r.json()}catch(l){throw new On(jn(l),l)}let o;const a=kE(r);if(a&&a.getTime()>=Vg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new em(jn(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new em(jn(n),r.status,n.weak_password.reasons);throw new oE(jn(n),r.status||500,o)}const jE=(r,e,n,o)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function me(r,e,n,o){var a;const l=Object.assign({},o?.headers);l[Nu]||(l[Nu]=Vg["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await AE(r,e,n+d,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function AE(r,e,n,o,a,l){const u=jE(e,o,a,l);let d;try{d=await r(n,Object.assign({},u))}catch(h){throw console.error(h),new Pu(jn(h),0)}if(d.ok||await om(d),o?.noResolveJson)return d;try{return await d.json()}catch(h){await om(h)}}function rr(r){var e;let n=null;DE(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=pE(r.expires_in)));const o=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:o},error:null}}function im(r){const e=rr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=r.weak_password),e}function on(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function OE(r){return{data:r,error:null}}function IE(r){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l}=r,u=Ls(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function am(r){return r}function DE(r){return r.access_token&&r.refresh_token&&r.expires_in}const iu=["global","local","others"];class $E{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=qg(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=iu[0]){if(iu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${iu.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=Ls(e,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:IE,redirectTo:n?.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:on})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,a,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:am});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);m[`${E}Page`]=x}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(de(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){gs(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:on})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gs(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){gs(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){gs(e.userId);try{const{data:n,error:o}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gs(e.userId),gs(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,a,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:am});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);m[`${E}Page`]=x}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(de(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(de(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function lm(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const vs={debug:!!(globalThis&&Hg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class LE extends Kg{}async function ME(r,e,n){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await n()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new LE(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function FE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function UE(r){return parseInt(r,16)}function zE(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function BE(r){var e;const{chainId:n,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:v,uri:y,version:b}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Gg(r.address),k=v?`${v}://${o}`:o,x=r.statement?`${r.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${S}

${x}`;let C=`URI: ${y}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let R=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);R+=`
- ${N}`}C+=R}return`${E}
${C}`}class tt extends Error{constructor({message:e,code:n,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Ta extends tt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function VE({error:r,options:e}){var n,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Jg(u)){if(l.rp.id!==u)return new tt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function WE({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Jg(o)){if(n.rpId!==o)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class HE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const qE=new HE;function KE(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:o}=r,a=Ls(r,["challenge","user","excludeCredentials"]),l=Rs(e).buffer,u=Object.assign(Object.assign({},n),{id:Rs(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:u});if(o&&o.length>0){d.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Rs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function GE(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,o=Ls(r,["challenge","allowCredentials"]),a=Rs(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Rs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function JE(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Dn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function YE(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,o=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Dn(new Uint8Array(a.authenticatorData)),clientDataJSON:Dn(new Uint8Array(a.clientDataJSON)),signature:Dn(new Uint8Array(a.signature)),userHandle:a.userHandle?Dn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function cm(){var r,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QE(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:VE({error:e,options:r})}}}async function XE(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:WE({error:e,options:r})}}}const ZE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ek={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Na(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of r)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(e(u)){const d=o[l];e(d)?o[l]=Na(d,u):o[l]=Na(u)}else o[l]=u}return o}function tk(r,e){return Na(ZE,r,e||{})}function rk(r,e){return Na(ek,r,e||{})}class nk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:a},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=a??qE.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=tk(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await QE({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=rk(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await XE(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn authentication")};try{if(!cm())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn registration")};try{if(!cm())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in register",u)}}}}FE();const sk={url:eE,storageKey:tE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function um(r,e,n){return await n()}const ys={};class zo{get jwks(){var e,n;return(n=(e=ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},sk),e);if(this.storageKey=l.storageKey,this.instanceID=(n=zo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new $E({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=qg(l.fetch),this.lock=l.lock||um,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=ME:this.lock=um,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Hg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=lm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(xt()&&(n=gE(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),xt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),aE(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new On("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,a;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,a;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let S=null,k=null;this.flowType==="pkce"&&([S,k]=await ms(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:k},xform:rr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=b?.data)!==null&&o!==void 0?o:{},channel:(a=b?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:rr})}else throw new fa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:im})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:im})}else throw new fa("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new ps;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,a,l,u,d,h,m,v,y,b;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:x,wallet:E,statement:C,options:R}=e;let N;if(xt())if(typeof E=="object")N=E;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")N=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const D=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),U=await N.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=Gg(U[0]);let P=(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!P){const L=await N.request({method:"eth_chainId"});P=UE(L)}const W={domain:D.host,address:F,statement:C,uri:D.href,version:"1",chainId:P,nonce:(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=R?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=BE(W),k=await N.request({method:"personal_sign",params:[zE(S),F]})}try{const{data:x,error:E}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rr});if(E)throw E;if(!x||!x.session||!x.user){const C=new ps;return this._returnResult({data:{user:null,session:null},error:C})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:E})}catch(x){if(de(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,o,a,l,u,d,h,m,v,y,b,S;let k,x;if("message"in e)k=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:R,options:N}=e;let D;if(xt())if(typeof C=="object")D=C;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))D=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=C}const U=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const F=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),R?{statement:R}:null));let P;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")P=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)P=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)k=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${U.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(a=(o=N?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(v=N?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const F=await D.signMessage(new TextEncoder().encode(k),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=F}}try{const{data:E,error:C}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Dn(x)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:rr});if(C)throw C;if(!E||!E.session||!E.user){const R=new ps;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(de(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new lE;const{data:l,error:u}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:rr});if(await wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new ps;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:a,access_token:l,nonce:u}=e,d=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:rr}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new ps;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,a,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ms(this.storage,this.storageKey));const{error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new fa("You must provide either an email or phone number.")}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,o;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:rr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,o,a,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ms(this.storage,this.storageKey));const m=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:OE});return!((l=m.data)===null||l===void 0)&&l.url&&xt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new Ft;const{error:a}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:u}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:u,error:d}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new fa("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<ru:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Pn(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=ou()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=NE(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:on}):await this._useSession(async n=>{var o,a,l;const{data:u,error:d}=n;if(d)throw d;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:on})})}catch(n){if(de(n))return nu(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Ft;const u=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ms(this.storage,this.storageKey));const{data:m,error:v}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:on});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const n=Date.now()/1e3;let o=n,a=!0,l=null;const{payload:u}=pa(e.access_token);if(u.exp&&(o=u.exp,a=o<=n),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new Ft;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new ha("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ha(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ha("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Zp("No code detected.");const{data:R,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new ha("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;h&&(b=parseInt(h));const S=b-v;S*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const k=b-y;v-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,v):v-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,v);const{data:x,error:E}=await this._getUser(l);if(E)throw E;const C={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:b,refresh_token:u,token_type:m,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(o){if(de(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l&&!nu(l))return this._returnResult({error:l});const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(iE(d)&&(d.status===404||d.status===401||d.status===403)||nu(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=mE(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await ms(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:a}=await this._useSession(async l=>{var u,d,h,m,v;const{data:y,error:b}=l;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(de(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:d,token:h,access_token:m,nonce:v}=e,y=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:rr}),{data:b,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ps}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)throw u;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await wE(async a=>(a>0&&await yE(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&su(l)&&Date.now()+u-o<Ss})}catch(o){if(this._debug(n,"error",o),de(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),xt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Pn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Es(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:ou()}else if(a&&!a.user&&!a.user){const u=await Pn(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await wt(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,a)):a.user=ou()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ru;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${ru}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),su(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ba;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ft;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),de(l)){const u={data:null,error:l};return su(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=sm(a);await Es(this.storage,this.storageKey,l)}else{const a=sm(n);await Es(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Tu} ticks`),a<=Tu&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await ms(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JE(e.webauthn.credential_response):YE(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:KE(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:GE(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,o,a,l;if(e)try{const{payload:S}=pa(e);let k=null;S.aal&&(k=S.aal);let x=k;const{data:{user:E},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((o=(n=E?.factors)===null||n===void 0?void 0:n.filter(D=>D.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(x="aal2");const N=S.amr||[];return{data:{currentLevel:k,nextLevel:x,currentAuthenticationMethods:N},error:null}}catch(S){if(de(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=pa(u.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(S=>S.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const b=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ft});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ft});const u=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(d=>d.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(d=>d.kid===e),o&&this.jwks_cached_at+sE>a)return o;const{data:l,error:u}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(d=>d.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:S,error:k}=await this.getSession();if(k||!S.session)return this._returnResult({data:null,error:k});o=S.session.access_token}const{header:a,payload:l,signature:u,raw:{header:d,payload:h}}=pa(o);n?.allowExpired||CE(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:l,header:a,signature:u},error:null}}const v=RE(a.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,hE(`${d}.${h}`)))throw new ju("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}}zo.nextInstanceID={};const ok=zo,ik="2.93.1";let jo="";typeof Deno<"u"?jo="deno":typeof document<"u"?jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jo="react-native":jo="node";function ak(){const r=globalThis.process;if(r&&r.platform){const e=r.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function lk(){const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node&&typeof window>"u")try{const n=globalThis.require;if(n)return n("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function ck(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return"node"}return null}function uk(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return e.node}return null}function dk(){const r={"X-Client-Info":`supabase-js-${jo}/${ik}`},e=ak();e&&(r["X-Supabase-Client-Platform"]=e);const n=lk();n&&(r["X-Supabase-Client-Platform-Version"]=n);const o=ck();o&&(r["X-Supabase-Client-Runtime"]=o);const a=uk();return a&&(r["X-Supabase-Client-Runtime-Version"]=a),r}const fk=dk(),hk={headers:fk},pk={schema:"public"},mk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gk={};function Bo(r){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(r)}function vk(r,e){if(Bo(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,e);if(Bo(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yk(r){var e=vk(r,"string");return Bo(e)=="symbol"?e:e+""}function wk(r,e,n){return(e=yk(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function dm(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,o)}return n}function Ye(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dm(Object(n),!0).forEach(function(o){wk(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}const xk=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),_k=()=>Headers,bk=(r,e,n)=>{const o=xk(n),a=_k();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:r;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),o(l,Ye(Ye({},u),{},{headers:m}))}};function Sk(r){return r.endsWith("/")?r:r+"/"}function Ek(r,e){var n,o;const{db:a,auth:l,realtime:u,global:d}=r,{db:h,auth:m,realtime:v,global:y}=e,b={db:Ye(Ye({},h),a),auth:Ye(Ye({},m),l),realtime:Ye(Ye({},v),u),storage:{},global:Ye(Ye(Ye({},y),d),{},{headers:Ye(Ye({},(n=y?.headers)!==null&&n!==void 0?n:{}),(o=d?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?b.accessToken=r.accessToken:delete b.accessToken,b}function kk(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ck=class extends ok{constructor(r){super(r)}},Rk=class{constructor(r,e,n){var o,a;this.supabaseUrl=r,this.supabaseKey=e;const l=kk(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:pk,realtime:gk,auth:Ye(Ye({},mk),{},{storageKey:u}),global:hk},h=Ek(n??{},d);if(this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=bk(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new oS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new ZS(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new eS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:o}=await r.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:m},v,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ck({url:this.authUrl.href,headers:Ye(Ye({},b),v),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,flowType:u,lock:d,debug:h,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new bS(this.realtimeUrl.href,Ye(Ye({},r),{},{params:Ye(Ye({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Tk=(r,e,n)=>new Rk(r,e,n);function Nk(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Nk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pk="https://aaavxylbuwkyfpnzyzfx.supabase.co",jk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhYXZ4eWxidXdreWZwbnp5emZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MzgxOTAsImV4cCI6MjA4NTExNDE5MH0.vDL-hUDvKR58ijENlPwSTgHoAPuuvdlrBzZWo5Wo-Tw",lt=Tk(Pk,jk,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ak=Yu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vo({className:r,variant:e,...n}){return p.jsx("div",{className:$e(Ak({variant:e}),r),...n})}var Va="Collapsible",[Ok]=Or(Va),[Ik,nd]=Ok(Va),Yg=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,open:o,defaultOpen:a,disabled:l,onOpenChange:u,...d}=r,[h,m]=As({prop:o,defaultProp:a??!1,onChange:u,caller:Va});return p.jsx(Ik,{scope:n,disabled:l,contentId:cn(),open:h,onOpenToggle:w.useCallback(()=>m(v=>!v),[m]),children:p.jsx(Ne.div,{"data-state":od(h),"data-disabled":l?"":void 0,...d,ref:e})})});Yg.displayName=Va;var Qg="CollapsibleTrigger",Xg=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,...o}=r,a=nd(Qg,n);return p.jsx(Ne.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":od(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...o,ref:e,onClick:Te(r.onClick,a.onOpenToggle)})});Xg.displayName=Qg;var sd="CollapsibleContent",Zg=w.forwardRef((r,e)=>{const{forceMount:n,...o}=r,a=nd(sd,r.__scopeCollapsible);return p.jsx($s,{present:n||a.open,children:({present:l})=>p.jsx(Dk,{...o,ref:e,present:l})})});Zg.displayName=sd;var Dk=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,present:o,children:a,...l}=r,u=nd(sd,n),[d,h]=w.useState(o),m=w.useRef(null),v=Me(e,m),y=w.useRef(0),b=y.current,S=w.useRef(0),k=S.current,x=u.open||d,E=w.useRef(x),C=w.useRef(void 0);return w.useEffect(()=>{const R=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(R)},[]),_t(()=>{const R=m.current;if(R){C.current=C.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const N=R.getBoundingClientRect();y.current=N.height,S.current=N.width,E.current||(R.style.transitionDuration=C.current.transitionDuration,R.style.animationName=C.current.animationName),h(o)}},[u.open,o]),p.jsx(Ne.div,{"data-state":od(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!x,...l,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...r.style},children:x&&a})});function od(r){return r?"open":"closed"}var $k=Yg;const Au=$k,Ou=Xg,Iu=Zg;function Lk(r,e=globalThis?.document){const n=un(r);w.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var Mk="DismissableLayer",Du="dismissableLayer.update",Fk="dismissableLayer.pointerDownOutside",Uk="dismissableLayer.focusOutside",fm,ev=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),id=w.forwardRef((r,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=r,m=w.useContext(ev),[v,y]=w.useState(null),b=v?.ownerDocument??globalThis?.document,[,S]=w.useState({}),k=Me(e,P=>y(P)),x=Array.from(m.layers),[E]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=x.indexOf(E),R=v?x.indexOf(v):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,D=R>=C,U=Vk(P=>{const W=P.target,L=[...m.branches].some(I=>I.contains(W));!D||L||(a?.(P),u?.(P),P.defaultPrevented||d?.())},b),F=Wk(P=>{const W=P.target;[...m.branches].some(I=>I.contains(W))||(l?.(P),u?.(P),P.defaultPrevented||d?.())},b);return Lk(P=>{R===m.layers.size-1&&(o?.(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},b),w.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(fm=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),hm(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=fm)}},[v,b,n,m]),w.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),hm())},[v,m]),w.useEffect(()=>{const P=()=>S({});return document.addEventListener(Du,P),()=>document.removeEventListener(Du,P)},[]),p.jsx(Ne.div,{...h,ref:k,style:{pointerEvents:N?D?"auto":"none":void 0,...r.style},onFocusCapture:Te(r.onFocusCapture,F.onFocusCapture),onBlurCapture:Te(r.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Te(r.onPointerDownCapture,U.onPointerDownCapture)})});id.displayName=Mk;var zk="DismissableLayerBranch",Bk=w.forwardRef((r,e)=>{const n=w.useContext(ev),o=w.useRef(null),a=Me(e,o);return w.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),p.jsx(Ne.div,{...r,ref:a})});Bk.displayName=zk;function Vk(r,e=globalThis?.document){const n=un(r),o=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=d=>{if(d.target&&!o.current){let h=function(){tv(Fk,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function Wk(r,e=globalThis?.document){const n=un(r),o=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!o.current&&tv(Uk,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function hm(){const r=new CustomEvent(Du);document.dispatchEvent(r)}function tv(r,e,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(r,e,{once:!0}),o?eb(a,l):a.dispatchEvent(l)}var au="focusScope.autoFocusOnMount",lu="focusScope.autoFocusOnUnmount",pm={bubbles:!1,cancelable:!0},Hk="FocusScope",ad=w.forwardRef((r,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=r,[d,h]=w.useState(null),m=un(a),v=un(l),y=w.useRef(null),b=Me(e,x=>h(x)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let x=function(N){if(S.paused||!d)return;const D=N.target;d.contains(D)?y.current=D:nn(y.current,{select:!0})},E=function(N){if(S.paused||!d)return;const D=N.relatedTarget;D!==null&&(d.contains(D)||nn(y.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const U of N)U.removedNodes.length>0&&nn(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const R=new MutationObserver(C);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),R.disconnect()}}},[o,d,S.paused]),w.useEffect(()=>{if(d){gm.add(S);const x=document.activeElement;if(!d.contains(x)){const C=new CustomEvent(au,pm);d.addEventListener(au,m),d.dispatchEvent(C),C.defaultPrevented||(qk(Qk(rv(d)),{select:!0}),document.activeElement===x&&nn(d))}return()=>{d.removeEventListener(au,m),setTimeout(()=>{const C=new CustomEvent(lu,pm);d.addEventListener(lu,v),d.dispatchEvent(C),C.defaultPrevented||nn(x??document.body,{select:!0}),d.removeEventListener(lu,v),gm.remove(S)},0)}}},[d,m,v,S]);const k=w.useCallback(x=>{if(!n&&!o||S.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(E&&C){const R=x.currentTarget,[N,D]=Kk(R);N&&D?!x.shiftKey&&C===D?(x.preventDefault(),n&&nn(N,{select:!0})):x.shiftKey&&C===N&&(x.preventDefault(),n&&nn(D,{select:!0})):C===R&&x.preventDefault()}},[n,o,S.paused]);return p.jsx(Ne.div,{tabIndex:-1,...u,ref:b,onKeyDown:k})});ad.displayName=Hk;function qk(r,{select:e=!1}={}){const n=document.activeElement;for(const o of r)if(nn(o,{select:e}),document.activeElement!==n)return}function Kk(r){const e=rv(r),n=mm(e,r),o=mm(e.reverse(),r);return[n,o]}function rv(r){const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mm(r,e){for(const n of r)if(!Gk(n,{upTo:e}))return n}function Gk(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Jk(r){return r instanceof HTMLInputElement&&"select"in r}function nn(r,{select:e=!1}={}){if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),r!==n&&Jk(r)&&e&&r.select()}}var gm=Yk();function Yk(){let r=[];return{add(e){const n=r[0];e!==n&&n?.pause(),r=vm(r,e),r.unshift(e)},remove(e){r=vm(r,e),r[0]?.resume()}}}function vm(r,e){const n=[...r],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function Qk(r){return r.filter(e=>e.tagName!=="A")}var Xk="Portal",ld=w.forwardRef((r,e)=>{const{container:n,...o}=r,[a,l]=w.useState(!1);_t(()=>l(!0),[]);const u=n||a&&globalThis?.document?.body;return u?dx.createPortal(p.jsx(Ne.div,{...o,ref:e}),u):null});ld.displayName=Xk;var cu=0;function nv(){w.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??ym()),document.body.insertAdjacentElement("beforeend",r[1]??ym()),cu++,()=>{cu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cu--}},[])}function ym(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var ba="right-scroll-bar-position",Sa="width-before-scroll-bar",Zk="with-scroll-bars-hidden",eC="--removed-body-scroll-bar-size";function uu(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function tC(r,e){var n=w.useState(function(){return{value:r,callback:e,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=e,n.facade}var rC=typeof window<"u"?w.useLayoutEffect:w.useEffect,wm=new WeakMap;function nC(r,e){var n=tC(null,function(o){return r.forEach(function(a){return uu(a,o)})});return rC(function(){var o=wm.get(n);if(o){var a=new Set(o),l=new Set(r),u=n.current;a.forEach(function(d){l.has(d)||uu(d,null)}),l.forEach(function(d){a.has(d)||uu(d,u)})}wm.set(n,r)},[r]),n}function sC(r){return r}function oC(r,e){e===void 0&&(e=sC);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:r},useMedium:function(l){var u=e(l,o);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(o=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){o=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var h=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return a}function iC(r){r===void 0&&(r={});var e=oC(null);return e.options=hr({async:!0,ssr:!1},r),e}var sv=function(r){var e=r.sideCar,n=Ls(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,hr({},n))};sv.isSideCarExport=!0;function aC(r,e){return r.useMedium(e),sv}var ov=iC(),du=function(){},Wa=w.forwardRef(function(r,e){var n=w.useRef(null),o=w.useState({onScrollCapture:du,onWheelCapture:du,onTouchMoveCapture:du}),a=o[0],l=o[1],u=r.forwardProps,d=r.children,h=r.className,m=r.removeScrollBar,v=r.enabled,y=r.shards,b=r.sideCar,S=r.noRelative,k=r.noIsolation,x=r.inert,E=r.allowPinchZoom,C=r.as,R=C===void 0?"div":C,N=r.gapMode,D=Ls(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=b,F=nC([n,e]),P=hr(hr({},D),a);return w.createElement(w.Fragment,null,v&&w.createElement(U,{sideCar:ov,removeScrollBar:m,shards:y,noRelative:S,noIsolation:k,inert:x,setCallbacks:l,allowPinchZoom:!!E,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(d),hr(hr({},P),{ref:F})):w.createElement(R,hr({},P,{className:h,ref:F}),d))});Wa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wa.classNames={fullWidth:Sa,zeroRight:ba};var lC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cC(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=lC();return e&&r.setAttribute("nonce",e),r}function uC(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function dC(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var fC=function(){var r=0,e=null;return{add:function(n){r==0&&(e=cC())&&(uC(e,n),dC(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hC=function(){var r=fC();return function(e,n){w.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&n])}},iv=function(){var r=hC(),e=function(n){var o=n.styles,a=n.dynamic;return r(o,a),null};return e},pC={left:0,top:0,right:0,gap:0},fu=function(r){return parseInt(r||"",10)||0},mC=function(r){var e=window.getComputedStyle(document.body),n=e[r==="padding"?"paddingLeft":"marginLeft"],o=e[r==="padding"?"paddingTop":"marginTop"],a=e[r==="padding"?"paddingRight":"marginRight"];return[fu(n),fu(o),fu(a)]},gC=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return pC;var e=mC(r),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},vC=iv(),Ts="data-scroll-locked",yC=function(r,e,n,o){var a=r.left,l=r.top,u=r.right,d=r.gap;return n===void 0&&(n="margin"),`
  .`.concat(Zk,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Ts,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ba,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Sa,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(ba," .").concat(ba,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Sa," .").concat(Sa,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ts,`] {
    `).concat(eC,": ").concat(d,`px;
  }
`)},xm=function(){var r=parseInt(document.body.getAttribute(Ts)||"0",10);return isFinite(r)?r:0},wC=function(){w.useEffect(function(){return document.body.setAttribute(Ts,(xm()+1).toString()),function(){var r=xm()-1;r<=0?document.body.removeAttribute(Ts):document.body.setAttribute(Ts,r.toString())}},[])},xC=function(r){var e=r.noRelative,n=r.noImportant,o=r.gapMode,a=o===void 0?"margin":o;wC();var l=w.useMemo(function(){return gC(a)},[a]);return w.createElement(vC,{styles:yC(l,!e,a,n?"":"!important")})},$u=!1;if(typeof window<"u")try{var ma=Object.defineProperty({},"passive",{get:function(){return $u=!0,!0}});window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{$u=!1}var ws=$u?{passive:!1}:!1,_C=function(r){return r.tagName==="TEXTAREA"},av=function(r,e){if(!(r instanceof Element))return!1;var n=window.getComputedStyle(r);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_C(r)&&n[e]==="visible")},bC=function(r){return av(r,"overflowY")},SC=function(r){return av(r,"overflowX")},_m=function(r,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=lv(r,o);if(a){var l=cv(r,o),u=l[1],d=l[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},EC=function(r){var e=r.scrollTop,n=r.scrollHeight,o=r.clientHeight;return[e,n,o]},kC=function(r){var e=r.scrollLeft,n=r.scrollWidth,o=r.clientWidth;return[e,n,o]},lv=function(r,e){return r==="v"?bC(e):SC(e)},cv=function(r,e){return r==="v"?EC(e):kC(e)},CC=function(r,e){return r==="h"&&e==="rtl"?-1:1},RC=function(r,e,n,o,a){var l=CC(r,window.getComputedStyle(e).direction),u=l*o,d=n.target,h=e.contains(d),m=!1,v=u>0,y=0,b=0;do{if(!d)break;var S=cv(r,d),k=S[0],x=S[1],E=S[2],C=x-E-l*k;(k||C)&&lv(r,d)&&(y+=C,b+=k);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(m=!0),m},ga=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},bm=function(r){return[r.deltaX,r.deltaY]},Sm=function(r){return r&&"current"in r?r.current:r},TC=function(r,e){return r[0]===e[0]&&r[1]===e[1]},NC=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},PC=0,xs=[];function jC(r){var e=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),a=w.useState(PC++)[0],l=w.useState(iv)[0],u=w.useRef(r);w.useEffect(function(){u.current=r},[r]),w.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Qb([r.lockRef.current],(r.shards||[]).map(Sm),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[r.inert,r.lockRef.current,r.shards]);var d=w.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var C=ga(x),R=n.current,N="deltaX"in x?x.deltaX:R[0]-C[0],D="deltaY"in x?x.deltaY:R[1]-C[1],U,F=x.target,P=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in x&&P==="h"&&F.type==="range")return!1;var W=_m(P,F);if(!W)return!0;if(W?U=P:(U=P==="v"?"h":"v",W=_m(P,F)),!W)return!1;if(!o.current&&"changedTouches"in x&&(N||D)&&(o.current=U),!U)return!0;var L=o.current||U;return RC(L,E,x,L==="h"?N:D)},[]),h=w.useCallback(function(x){var E=x;if(!(!xs.length||xs[xs.length-1]!==l)){var C="deltaY"in E?bm(E):ga(E),R=e.current.filter(function(U){return U.name===E.type&&(U.target===E.target||E.target===U.shadowParent)&&TC(U.delta,C)})[0];if(R&&R.should){E.cancelable&&E.preventDefault();return}if(!R){var N=(u.current.shards||[]).map(Sm).filter(Boolean).filter(function(U){return U.contains(E.target)}),D=N.length>0?d(E,N[0]):!u.current.noIsolation;D&&E.cancelable&&E.preventDefault()}}},[]),m=w.useCallback(function(x,E,C,R){var N={name:x,delta:E,target:C,should:R,shadowParent:AC(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),v=w.useCallback(function(x){n.current=ga(x),o.current=void 0},[]),y=w.useCallback(function(x){m(x.type,bm(x),x.target,d(x,r.lockRef.current))},[]),b=w.useCallback(function(x){m(x.type,ga(x),x.target,d(x,r.lockRef.current))},[]);w.useEffect(function(){return xs.push(l),r.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,ws),document.addEventListener("touchmove",h,ws),document.addEventListener("touchstart",v,ws),function(){xs=xs.filter(function(x){return x!==l}),document.removeEventListener("wheel",h,ws),document.removeEventListener("touchmove",h,ws),document.removeEventListener("touchstart",v,ws)}},[]);var S=r.removeScrollBar,k=r.inert;return w.createElement(w.Fragment,null,k?w.createElement(l,{styles:NC(a)}):null,S?w.createElement(xC,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function AC(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const OC=aC(ov,jC);var cd=w.forwardRef(function(r,e){return w.createElement(Wa,hr({},r,{ref:e,sideCar:OC}))});cd.classNames=Wa.classNames;var IC=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},_s=new WeakMap,va=new WeakMap,ya={},hu=0,uv=function(r){return r&&(r.host||uv(r.parentNode))},DC=function(r,e){return e.map(function(n){if(r.contains(n))return n;var o=uv(n);return o&&r.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",r,". Doing nothing"),null)}).filter(function(n){return!!n})},$C=function(r,e,n,o){var a=DC(e,Array.isArray(r)?r:[r]);ya[n]||(ya[n]=new WeakMap);var l=ya[n],u=[],d=new Set,h=new Set(a),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};a.forEach(m);var v=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(d.has(b))v(b);else try{var S=b.getAttribute(o),k=S!==null&&S!=="false",x=(_s.get(b)||0)+1,E=(l.get(b)||0)+1;_s.set(b,x),l.set(b,E),u.push(b),x===1&&k&&va.set(b,!0),E===1&&b.setAttribute(n,"true"),k||b.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return v(e),d.clear(),hu++,function(){u.forEach(function(y){var b=_s.get(y)-1,S=l.get(y)-1;_s.set(y,b),l.set(y,S),b||(va.has(y)||y.removeAttribute(o),va.delete(y)),S||y.removeAttribute(n)}),hu--,hu||(_s=new WeakMap,_s=new WeakMap,va=new WeakMap,ya={})}},dv=function(r,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(r)?r:[r]),a=IC(r);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),$C(o,a,n,"aria-hidden")):function(){return null}},Ha="Dialog",[fv,hv]=Or(Ha),[LC,ar]=fv(Ha),pv=r=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=r,d=w.useRef(null),h=w.useRef(null),[m,v]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Ha});return p.jsx(LC,{scope:e,triggerRef:d,contentRef:h,contentId:cn(),titleId:cn(),descriptionId:cn(),open:m,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(y=>!y),[v]),modal:u,children:n})};pv.displayName=Ha;var mv="DialogTrigger",gv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(mv,n),l=Me(e,a.triggerRef);return p.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":fd(a.open),...o,ref:l,onClick:Te(r.onClick,a.onOpenToggle)})});gv.displayName=mv;var ud="DialogPortal",[MC,vv]=fv(ud,{forceMount:void 0}),yv=r=>{const{__scopeDialog:e,forceMount:n,children:o,container:a}=r,l=ar(ud,e);return p.jsx(MC,{scope:e,forceMount:n,children:w.Children.map(o,u=>p.jsx($s,{present:n||l.open,children:p.jsx(ld,{asChild:!0,container:a,children:u})}))})};yv.displayName=ud;var Pa="DialogOverlay",wv=w.forwardRef((r,e)=>{const n=vv(Pa,r.__scopeDialog),{forceMount:o=n.forceMount,...a}=r,l=ar(Pa,r.__scopeDialog);return l.modal?p.jsx($s,{present:o||l.open,children:p.jsx(UC,{...a,ref:e})}):null});wv.displayName=Pa;var FC=js("DialogOverlay.RemoveScroll"),UC=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(Pa,n);return p.jsx(cd,{as:FC,allowPinchZoom:!0,shards:[a.contentRef],children:p.jsx(Ne.div,{"data-state":fd(a.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Ln="DialogContent",xv=w.forwardRef((r,e)=>{const n=vv(Ln,r.__scopeDialog),{forceMount:o=n.forceMount,...a}=r,l=ar(Ln,r.__scopeDialog);return p.jsx($s,{present:o||l.open,children:l.modal?p.jsx(zC,{...a,ref:e}):p.jsx(BC,{...a,ref:e})})});xv.displayName=Ln;var zC=w.forwardRef((r,e)=>{const n=ar(Ln,r.__scopeDialog),o=w.useRef(null),a=Me(e,n.contentRef,o);return w.useEffect(()=>{const l=o.current;if(l)return dv(l)},[]),p.jsx(_v,{...r,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(r.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Te(r.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Te(r.onFocusOutside,l=>l.preventDefault())})}),BC=w.forwardRef((r,e)=>{const n=ar(Ln,r.__scopeDialog),o=w.useRef(!1),a=w.useRef(!1);return p.jsx(_v,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||n.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{r.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),_v=w.forwardRef((r,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=r,d=ar(Ln,n),h=w.useRef(null),m=Me(e,h);return nv(),p.jsxs(p.Fragment,{children:[p.jsx(ad,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:p.jsx(id,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":fd(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(WC,{titleId:d.titleId}),p.jsx(qC,{contentRef:h,descriptionId:d.descriptionId})]})]})}),dd="DialogTitle",bv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(dd,n);return p.jsx(Ne.h2,{id:a.titleId,...o,ref:e})});bv.displayName=dd;var Sv="DialogDescription",Ev=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(Sv,n);return p.jsx(Ne.p,{id:a.descriptionId,...o,ref:e})});Ev.displayName=Sv;var kv="DialogClose",Cv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(kv,n);return p.jsx(Ne.button,{type:"button",...o,ref:e,onClick:Te(r.onClick,()=>a.onOpenChange(!1))})});Cv.displayName=kv;function fd(r){return r?"open":"closed"}var Rv="DialogTitleWarning",[VC,Tv]=nb(Rv,{contentName:Ln,titleName:dd,docsSlug:"dialog"}),WC=({titleId:r})=>{const e=Tv(Rv),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{r&&(document.getElementById(r)||console.error(n))},[n,r]),null},HC="DialogDescriptionWarning",qC=({contentRef:r,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tv(HC).contentName}}.`;return w.useEffect(()=>{const a=r.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(o))},[o,r,e]),null},KC=pv,GC=gv,JC=yv,YC=wv,QC=xv,XC=bv,ZC=Ev,Nv=Cv,Pv="AlertDialog",[eR]=Or(Pv,[hv]),Dr=hv(),jv=r=>{const{__scopeAlertDialog:e,...n}=r,o=Dr(e);return p.jsx(KC,{...o,...n,modal:!0})};jv.displayName=Pv;var tR="AlertDialogTrigger",Av=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(GC,{...a,...o,ref:e})});Av.displayName=tR;var rR="AlertDialogPortal",Ov=r=>{const{__scopeAlertDialog:e,...n}=r,o=Dr(e);return p.jsx(JC,{...o,...n})};Ov.displayName=rR;var nR="AlertDialogOverlay",Iv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(YC,{...a,...o,ref:e})});Iv.displayName=nR;var Ns="AlertDialogContent",[sR,oR]=eR(Ns),iR=J_("AlertDialogContent"),Dv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,children:o,...a}=r,l=Dr(n),u=w.useRef(null),d=Me(e,u),h=w.useRef(null);return p.jsx(VC,{contentName:Ns,titleName:$v,docsSlug:"alert-dialog",children:p.jsx(sR,{scope:n,cancelRef:h,children:p.jsxs(QC,{role:"alertdialog",...l,...a,ref:d,onOpenAutoFocus:Te(a.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[p.jsx(iR,{children:o}),p.jsx(lR,{contentRef:u})]})})})});Dv.displayName=Ns;var $v="AlertDialogTitle",Lv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(XC,{...a,...o,ref:e})});Lv.displayName=$v;var Mv="AlertDialogDescription",Fv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(ZC,{...a,...o,ref:e})});Fv.displayName=Mv;var aR="AlertDialogAction",Uv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(Nv,{...a,...o,ref:e})});Uv.displayName=aR;var zv="AlertDialogCancel",Bv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,{cancelRef:a}=oR(zv,n),l=Dr(n),u=Me(e,a);return p.jsx(Nv,{...l,...o,ref:u})});Bv.displayName=zv;var lR=({contentRef:r})=>{const e=`\`${Ns}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ns}\` by passing a \`${Mv}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ns}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},cR=jv,uR=Av,dR=Ov,Vv=Iv,Wv=Dv,Hv=Uv,qv=Bv,Kv=Lv,Gv=Fv;const Jv=cR,Yv=uR,fR=dR,Qv=w.forwardRef(({className:r,...e},n)=>p.jsx(Vv,{className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e,ref:n}));Qv.displayName=Vv.displayName;const hd=w.forwardRef(({className:r,...e},n)=>p.jsxs(fR,{children:[p.jsx(Qv,{}),p.jsx(Wv,{ref:n,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...e})]}));hd.displayName=Wv.displayName;const pd=({className:r,...e})=>p.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",r),...e});pd.displayName="AlertDialogHeader";const md=({className:r,...e})=>p.jsx("div",{className:$e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e});md.displayName="AlertDialogFooter";const gd=w.forwardRef(({className:r,...e},n)=>p.jsx(Kv,{ref:n,className:$e("text-lg font-semibold",r),...e}));gd.displayName=Kv.displayName;const vd=w.forwardRef(({className:r,...e},n)=>p.jsx(Gv,{ref:n,className:$e("text-sm text-muted-foreground",r),...e}));vd.displayName=Gv.displayName;const yd=w.forwardRef(({className:r,...e},n)=>p.jsx(Hv,{ref:n,className:$e(Qu(),r),...e}));yd.displayName=Hv.displayName;const wd=w.forwardRef(({className:r,...e},n)=>p.jsx(qv,{ref:n,className:$e(Qu({variant:"outline"}),"mt-2 sm:mt-0",r),...e}));wd.displayName=qv.displayName;const hR=({sales:r,onDeleteSale:e,onEditSale:n,onUpdateSale:o,selectedMonth:a})=>r.length===0?p.jsx($n,{className:"w-full shadow-lg rounded-xl border",children:p.jsxs("div",{className:"p-8 text-center",children:[p.jsx("p",{className:"text-muted-foreground text-lg",children:"Nenhuma venda cadastrada ainda."}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Adicione sua primeira venda usando o formulrio acima."})]})}):p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Vendas Cadastradas"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.sort((l,u)=>{const d=v=>{if(v.paymentMethod!=="installment"||!v.installmentDates||v.installmentDates.length===0)return!1;const y=new Date;return v.installmentDates.every(b=>b!==null&&new Date(b)<y)},h=d(l),m=d(u);if(h!==m)return h?1:-1;if(l.paymentMethod==="installment"&&u.paymentMethod==="installment"){const v=new Date,y=(l.installmentDates||[]).filter(S=>!S||new Date(S)>v).length,b=(u.installmentDates||[]).filter(S=>!S||new Date(S)>v).length;if(y!==b)return b-y}return new Date(u.paymentDate).getTime()-new Date(l.paymentDate).getTime()}).map(l=>{const u=l.paymentMethod==="installment"&&Array.isArray(l.installmentDates)&&l.installmentDates.length>0&&l.installmentDates.every(y=>y!==null&&new Date(y)<new Date),d=l.products.reduce((y,b)=>y+b.purchaseValue,0),h=l.products.reduce((y,b)=>y+b.saleValue,0),m=h-d;l.paymentMethod==="installment"&&l.installmentValues&&l.installmentValues[0];const v=(()=>{if(l.paymentMethod==="pix"){if(a==="total")return h;const y=new Date(l.paymentDate);return`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}`===a?h:0}if(l.paymentMethod==="installment"&&l.installmentValues&&l.installmentDates){if(a==="total"){const b=new Date,S=l.installmentDates.findIndex(x=>!x||new Date(x)>b),k=S===-1?l.installmentValues.length-1:S;return l.installmentValues[k]??0}const y=l.installmentDates.findIndex(b=>{if(!b)return!1;const S=new Date(b);return`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}`===a});return y===-1?0:l.installmentValues[y]??0}return 0})();return p.jsx($n,{className:`w-full shadow-md hover:shadow-lg transition-shadow border ${u?"opacity-75 grayscale":""}`,children:p.jsxs("div",{className:"p-4 relative",children:[u&&p.jsx("div",{className:"absolute -rotate-12 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-500 text-2xl font-bold border-2 border-red-500 rounded px-2 py-1 z-10",children:"QUITADO"}),p.jsxs("div",{className:"flex items-start justify-between w-full mb-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:l.customerName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(l.paymentDate).toLocaleDateString("pt-BR")})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:"Total (descontos aplicados)"}),p.jsxs("div",{className:"text-lg font-bold",children:["R$ ",(h-(l.discount||0)).toFixed(2)]})]})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{variant:"outline",size:"icon",onClick:()=>n(l),title:"Editar venda",children:p.jsx(Og,{className:"h-4 w-4"})}),p.jsxs(Jv,{children:[p.jsx(Yv,{asChild:!0,children:p.jsx(ct,{variant:"outline",size:"icon",title:"Excluir venda",children:p.jsx(Ig,{className:"h-4 w-4 text-destructive"})})}),p.jsxs(hd,{children:[p.jsxs(pd,{children:[p.jsx(gd,{children:"Confirmar excluso"}),p.jsxs(vd,{children:["Tem certeza que deseja excluir esta venda?",l.paymentMethod==="installment"&&p.jsx("span",{className:"block mt-2 font-semibold text-foreground",children:"Ateno: Todas as parcelas desta venda sero excludas."})]})]}),p.jsxs(md,{children:[p.jsx(wd,{children:"Cancelar"}),p.jsx(yd,{onClick:()=>e(l.id),children:"Confirmar"})]})]})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Vo,{variant:l.paymentMethod==="pix"?"default":"outline",children:l.paymentMethod==="pix"?"PIX":`${l.installments}x ${l.installmentType==="quinzenal"?"Quinzenal":"Mensal"}`})}),l.paymentMethod==="installment"&&p.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{if(!Array.isArray(l.installmentDates))return`0/${l.installments} parcelas`;const y=new Date;return`${l.installmentDates.filter(S=>!S||new Date(S)>y).length}/${l.installments} parcelas`})()})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[p.jsx(zb,{className:"w-5 h-5 text-primary mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor Total de Compra"}),p.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["R$ ",d.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[p.jsx(Vb,{className:"w-5 h-5 text-green-600 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Lucro Total"}),p.jsxs("p",{className:`text-lg font-semibold ${m>=0?"text-green-600":"text-red-600"}`,children:["R$ ",m.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-primary/10",children:[p.jsx(_u,{className:"w-5 h-5 text-primary mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Parcela do Ms"}),p.jsxs("p",{className:"text-lg font-bold text-foreground",children:["R$ ",v.toFixed(2)]})]})]})]}),l.paymentMethod==="installment"&&l.installmentValues&&p.jsxs(Au,{children:[p.jsx(Ou,{asChild:!0,children:p.jsx(ct,{variant:"outline",className:"w-full",children:"Ver Parcelas"})}),p.jsx(Iu,{className:"mt-4",children:p.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.installmentValues.map((y,b)=>{const S=l.installmentDates?.[b],k=S!=null&&new Date(S)<new Date;return p.jsxs("div",{className:`p-3 flex items-center justify-between ${b!==l.installmentValues.length-1?"border-b":""} bg-muted/30`,children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium text-sm",children:["Parcela ",b+1,"/",l.installments]}),S&&p.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(S).toLocaleDateString("pt-BR")})]}),p.jsxs("div",{className:"text-right flex items-center gap-2",children:[p.jsxs("p",{className:"font-semibold",children:["R$ ",y.toFixed(2)]}),k&&p.jsx(Vo,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-600",children:"Pago"}),p.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[p.jsx(ct,{variant:"outline",size:"sm",onClick:async()=>{const x=Array.isArray(l.installmentDates)?[...l.installmentDates]:Array(l.installmentValues.length).fill(null);x[b]=new Date().toISOString().split("T")[0],typeof o=="function"&&await o({id:l.id,installmentDates:x})},title:"Marcar como Pago",children:p.jsx(Ag,{className:"h-4 w-4"})}),p.jsx(ct,{variant:"ghost",size:"sm",onClick:async()=>{const x=Array.isArray(l.installmentDates)?[...l.installmentDates]:Array(l.installmentValues.length).fill(null);x[b]=null,typeof o=="function"&&await o({id:l.id,installmentDates:x})},title:"Reverter pagamento",children:p.jsx(Bb,{className:"h-4 w-4"})})]})]})]},b)})})})]}),p.jsxs(Au,{className:"mt-4",children:[p.jsx(Ou,{asChild:!0,children:p.jsx(ct,{variant:"outline",className:"w-full",children:"Ver Produtos"})}),p.jsx(Iu,{className:"mt-4",children:p.jsx("div",{className:"space-y-2",children:l.products.map(y=>{const b=y.saleValue-y.purchaseValue;return p.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:p.jsxs("div",{className:"flex justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-foreground",children:y.productName}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",y.productRef]})]}),p.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Compra"}),p.jsxs("p",{className:"font-medium text-foreground",children:["R$ ",y.purchaseValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Venda"}),p.jsxs("p",{className:"font-medium text-foreground",children:["R$ ",y.saleValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-right min-w-[100px]",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Lucro"}),p.jsxs("p",{className:`font-medium ${b>=0?"text-green-600":"text-red-600"}`,children:["R$ ",b.toFixed(2)]})]})]})]})},y.id)})})})]})]})},l.id)})})]}),Xv="/assets/ellas-logo-CIBEQLUu.jpeg";function Em(r,[e,n]){return Math.min(n,Math.max(e,r))}const pR=["top","right","bottom","left"],dn=Math.min,Ut=Math.max,ja=Math.round,wa=Math.floor,gr=r=>({x:r,y:r}),mR={left:"right",right:"left",bottom:"top",top:"bottom"},gR={start:"end",end:"start"};function Lu(r,e,n){return Ut(r,dn(e,n))}function jr(r,e){return typeof r=="function"?r(e):r}function Ar(r){return r.split("-")[0]}function Fs(r){return r.split("-")[1]}function xd(r){return r==="x"?"y":"x"}function _d(r){return r==="y"?"height":"width"}const vR=new Set(["top","bottom"]);function mr(r){return vR.has(Ar(r))?"y":"x"}function bd(r){return xd(mr(r))}function yR(r,e,n){n===void 0&&(n=!1);const o=Fs(r),a=bd(r),l=_d(a);let u=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Aa(u)),[u,Aa(u)]}function wR(r){const e=Aa(r);return[Mu(r),e,Mu(e)]}function Mu(r){return r.replace(/start|end/g,e=>gR[e])}const km=["left","right"],Cm=["right","left"],xR=["top","bottom"],_R=["bottom","top"];function bR(r,e,n){switch(r){case"top":case"bottom":return n?e?Cm:km:e?km:Cm;case"left":case"right":return e?xR:_R;default:return[]}}function SR(r,e,n,o){const a=Fs(r);let l=bR(Ar(r),n==="start",o);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Mu)))),l}function Aa(r){return r.replace(/left|right|bottom|top/g,e=>mR[e])}function ER(r){return{top:0,right:0,bottom:0,left:0,...r}}function Zv(r){return typeof r!="number"?ER(r):{top:r,right:r,bottom:r,left:r}}function Oa(r){const{x:e,y:n,width:o,height:a}=r;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function Rm(r,e,n){let{reference:o,floating:a}=r;const l=mr(e),u=bd(e),d=_d(u),h=Ar(e),m=l==="y",v=o.x+o.width/2-a.width/2,y=o.y+o.height/2-a.height/2,b=o[d]/2-a[d]/2;let S;switch(h){case"top":S={x:v,y:o.y-a.height};break;case"bottom":S={x:v,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y};break;case"left":S={x:o.x-a.width,y};break;default:S={x:o.x,y:o.y}}switch(Fs(e)){case"start":S[u]-=b*(n&&m?-1:1);break;case"end":S[u]+=b*(n&&m?-1:1);break}return S}const kR=async(r,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:v,y}=Rm(m,o,h),b=o,S={},k=0;for(let x=0;x<d.length;x++){const{name:E,fn:C}=d[x],{x:R,y:N,data:D,reset:U}=await C({x:v,y,initialPlacement:o,placement:b,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});v=R??v,y=N??y,S={...S,[E]:{...S[E],...D}},U&&k<=50&&(k++,typeof U=="object"&&(U.placement&&(b=U.placement),U.rects&&(m=U.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):U.rects),{x:v,y}=Rm(m,b,h)),x=-1)}return{x:v,y,placement:b,strategy:a,middlewareData:S}};async function Wo(r,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:u,elements:d,strategy:h}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:S=0}=jr(e,r),k=Zv(S),E=d[b?y==="floating"?"reference":"floating":y],C=Oa(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(E)))==null||n?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:h})),R=y==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),D=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},U=Oa(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:N,strategy:h}):R);return{top:(C.top-U.top+k.top)/D.y,bottom:(U.bottom-C.bottom+k.bottom)/D.y,left:(C.left-U.left+k.left)/D.x,right:(U.right-C.right+k.right)/D.x}}const CR=r=>({name:"arrow",options:r,async fn(e){const{x:n,y:o,placement:a,rects:l,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:v=0}=jr(r,e)||{};if(m==null)return{};const y=Zv(v),b={x:n,y:o},S=bd(a),k=_d(S),x=await u.getDimensions(m),E=S==="y",C=E?"top":"left",R=E?"bottom":"right",N=E?"clientHeight":"clientWidth",D=l.reference[k]+l.reference[S]-b[S]-l.floating[k],U=b[S]-l.reference[S],F=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let P=F?F[N]:0;(!P||!await(u.isElement==null?void 0:u.isElement(F)))&&(P=d.floating[N]||l.floating[k]);const W=D/2-U/2,L=P/2-x[k]/2-1,I=dn(y[C],L),H=dn(y[R],L),$=I,q=P-x[k]-H,re=P/2-x[k]/2+W,se=Lu($,re,q),G=!h.arrow&&Fs(a)!=null&&re!==se&&l.reference[k]/2-(re<$?I:H)-x[k]/2<0,Y=G?re<$?re-$:re-q:0;return{[S]:b[S]+Y,data:{[S]:se,centerOffset:re-se-Y,...G&&{alignmentOffset:Y}},reset:G}}}),RR=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:x=!0,...E}=jr(r,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=Ar(a),R=mr(d),N=Ar(d)===d,D=await(h.isRTL==null?void 0:h.isRTL(m.floating)),U=b||(N||!x?[Aa(d)]:wR(d)),F=k!=="none";!b&&F&&U.push(...SR(d,x,k,D));const P=[d,...U],W=await Wo(e,E),L=[];let I=((o=l.flip)==null?void 0:o.overflows)||[];if(v&&L.push(W[C]),y){const re=yR(a,u,D);L.push(W[re[0]],W[re[1]])}if(I=[...I,{placement:a,overflows:L}],!L.every(re=>re<=0)){var H,$;const re=(((H=l.flip)==null?void 0:H.index)||0)+1,se=P[re];if(se&&(!(y==="alignment"?R!==mr(se):!1)||I.every(V=>V.overflows[0]>0&&mr(V.placement)===R)))return{data:{index:re,overflows:I},reset:{placement:se}};let G=($=I.filter(Y=>Y.overflows[0]<=0).sort((Y,V)=>Y.overflows[1]-V.overflows[1])[0])==null?void 0:$.placement;if(!G)switch(S){case"bestFit":{var q;const Y=(q=I.filter(V=>{if(F){const Q=mr(V.placement);return Q===R||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,ee)=>Q+ee,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:q[0];Y&&(G=Y);break}case"initialPlacement":G=d;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function Tm(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Nm(r){return pR.some(e=>r[e]>=0)}const TR=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...a}=jr(r,e);switch(o){case"referenceHidden":{const l=await Wo(e,{...a,elementContext:"reference"}),u=Tm(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Nm(u)}}}case"escaped":{const l=await Wo(e,{...a,altBoundary:!0}),u=Tm(l,n.floating);return{data:{escapedOffsets:u,escaped:Nm(u)}}}default:return{}}}}},ey=new Set(["left","top"]);async function NR(r,e){const{placement:n,platform:o,elements:a}=r,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Ar(n),d=Fs(n),h=mr(n)==="y",m=ey.has(u)?-1:1,v=l&&h?-1:1,y=jr(e,r);let{mainAxis:b,crossAxis:S,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(S=d==="end"?k*-1:k),h?{x:S*v,y:b*m}:{x:b*m,y:S*v}}const PR=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var n,o;const{x:a,y:l,placement:u,middlewareData:d}=e,h=await NR(e,r);return u===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:u}}}}},jR=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:E=>{let{x:C,y:R}=E;return{x:C,y:R}}},...h}=jr(r,e),m={x:n,y:o},v=await Wo(e,h),y=mr(Ar(a)),b=xd(y);let S=m[b],k=m[y];if(l){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",R=S+v[E],N=S-v[C];S=Lu(R,S,N)}if(u){const E=y==="y"?"top":"left",C=y==="y"?"bottom":"right",R=k+v[E],N=k-v[C];k=Lu(R,k,N)}const x=d.fn({...e,[b]:S,[y]:k});return{...x,data:{x:x.x-n,y:x.y-o,enabled:{[b]:l,[y]:u}}}}}},AR=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:n,y:o,placement:a,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=jr(r,e),v={x:n,y:o},y=mr(a),b=xd(y);let S=v[b],k=v[y];const x=jr(d,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const N=b==="y"?"height":"width",D=l.reference[b]-l.floating[N]+E.mainAxis,U=l.reference[b]+l.reference[N]-E.mainAxis;S<D?S=D:S>U&&(S=U)}if(m){var C,R;const N=b==="y"?"width":"height",D=ey.has(Ar(a)),U=l.reference[y]-l.floating[N]+(D&&((C=u.offset)==null?void 0:C[y])||0)+(D?0:E.crossAxis),F=l.reference[y]+l.reference[N]+(D?0:((R=u.offset)==null?void 0:R[y])||0)-(D?E.crossAxis:0);k<U?k=U:k>F&&(k=F)}return{[b]:S,[y]:k}}}},OR=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var n,o;const{placement:a,rects:l,platform:u,elements:d}=e,{apply:h=()=>{},...m}=jr(r,e),v=await Wo(e,m),y=Ar(a),b=Fs(a),S=mr(a)==="y",{width:k,height:x}=l.floating;let E,C;y==="top"||y==="bottom"?(E=y,C=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=y,E=b==="end"?"top":"bottom");const R=x-v.top-v.bottom,N=k-v.left-v.right,D=dn(x-v[E],R),U=dn(k-v[C],N),F=!e.middlewareData.shift;let P=D,W=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(W=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(P=R),F&&!b){const I=Ut(v.left,0),H=Ut(v.right,0),$=Ut(v.top,0),q=Ut(v.bottom,0);S?W=k-2*(I!==0||H!==0?I+H:Ut(v.left,v.right)):P=x-2*($!==0||q!==0?$+q:Ut(v.top,v.bottom))}await h({...e,availableWidth:W,availableHeight:P});const L=await u.getDimensions(d.floating);return k!==L.width||x!==L.height?{reset:{rects:!0}}:{}}}};function qa(){return typeof window<"u"}function Us(r){return ty(r)?(r.nodeName||"").toLowerCase():"#document"}function zt(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function wr(r){var e;return(e=(ty(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function ty(r){return qa()?r instanceof Node||r instanceof zt(r).Node:!1}function or(r){return qa()?r instanceof Element||r instanceof zt(r).Element:!1}function vr(r){return qa()?r instanceof HTMLElement||r instanceof zt(r).HTMLElement:!1}function Pm(r){return!qa()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof zt(r).ShadowRoot}const IR=new Set(["inline","contents"]);function Xo(r){const{overflow:e,overflowX:n,overflowY:o,display:a}=ir(r);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!IR.has(a)}const DR=new Set(["table","td","th"]);function $R(r){return DR.has(Us(r))}const LR=[":popover-open",":modal"];function Ka(r){return LR.some(e=>{try{return r.matches(e)}catch{return!1}})}const MR=["transform","translate","scale","rotate","perspective"],FR=["transform","translate","scale","rotate","perspective","filter"],UR=["paint","layout","strict","content"];function Sd(r){const e=Ed(),n=or(r)?ir(r):r;return MR.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||FR.some(o=>(n.willChange||"").includes(o))||UR.some(o=>(n.contain||"").includes(o))}function zR(r){let e=fn(r);for(;vr(e)&&!Os(e);){if(Sd(e))return e;if(Ka(e))return null;e=fn(e)}return null}function Ed(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BR=new Set(["html","body","#document"]);function Os(r){return BR.has(Us(r))}function ir(r){return zt(r).getComputedStyle(r)}function Ga(r){return or(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function fn(r){if(Us(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Pm(r)&&r.host||wr(r);return Pm(e)?e.host:e}function ry(r){const e=fn(r);return Os(e)?r.ownerDocument?r.ownerDocument.body:r.body:vr(e)&&Xo(e)?e:ry(e)}function Ho(r,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=ry(r),l=a===((o=r.ownerDocument)==null?void 0:o.body),u=zt(a);if(l){const d=Fu(u);return e.concat(u,u.visualViewport||[],Xo(a)?a:[],d&&n?Ho(d):[])}return e.concat(a,Ho(a,[],n))}function Fu(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function ny(r){const e=ir(r);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=vr(r),l=a?r.offsetWidth:n,u=a?r.offsetHeight:o,d=ja(n)!==l||ja(o)!==u;return d&&(n=l,o=u),{width:n,height:o,$:d}}function kd(r){return or(r)?r:r.contextElement}function Ps(r){const e=kd(r);if(!vr(e))return gr(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=ny(e);let u=(l?ja(n.width):n.width)/o,d=(l?ja(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const VR=gr(0);function sy(r){const e=zt(r);return!Ed()||!e.visualViewport?VR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WR(r,e,n){return e===void 0&&(e=!1),!n||e&&n!==zt(r)?!1:e}function Mn(r,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=r.getBoundingClientRect(),l=kd(r);let u=gr(1);e&&(o?or(o)&&(u=Ps(o)):u=Ps(r));const d=WR(l,n,o)?sy(l):gr(0);let h=(a.left+d.x)/u.x,m=(a.top+d.y)/u.y,v=a.width/u.x,y=a.height/u.y;if(l){const b=zt(l),S=o&&or(o)?zt(o):o;let k=b,x=Fu(k);for(;x&&o&&S!==k;){const E=Ps(x),C=x.getBoundingClientRect(),R=ir(x),N=C.left+(x.clientLeft+parseFloat(R.paddingLeft))*E.x,D=C.top+(x.clientTop+parseFloat(R.paddingTop))*E.y;h*=E.x,m*=E.y,v*=E.x,y*=E.y,h+=N,m+=D,k=zt(x),x=Fu(k)}}return Oa({width:v,height:y,x:h,y:m})}function Cd(r,e){const n=Ga(r).scrollLeft;return e?e.left+n:Mn(wr(r)).left+n}function oy(r,e,n){n===void 0&&(n=!1);const o=r.getBoundingClientRect(),a=o.left+e.scrollLeft-(n?0:Cd(r,o)),l=o.top+e.scrollTop;return{x:a,y:l}}function HR(r){let{elements:e,rect:n,offsetParent:o,strategy:a}=r;const l=a==="fixed",u=wr(o),d=e?Ka(e.floating):!1;if(o===u||d&&l)return n;let h={scrollLeft:0,scrollTop:0},m=gr(1);const v=gr(0),y=vr(o);if((y||!y&&!l)&&((Us(o)!=="body"||Xo(u))&&(h=Ga(o)),vr(o))){const S=Mn(o);m=Ps(o),v.x=S.x+o.clientLeft,v.y=S.y+o.clientTop}const b=u&&!y&&!l?oy(u,h,!0):gr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+v.x+b.x,y:n.y*m.y-h.scrollTop*m.y+v.y+b.y}}function qR(r){return Array.from(r.getClientRects())}function KR(r){const e=wr(r),n=Ga(r),o=r.ownerDocument.body,a=Ut(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Ut(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Cd(r);const d=-n.scrollTop;return ir(o).direction==="rtl"&&(u+=Ut(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:d}}function GR(r,e){const n=zt(r),o=wr(r),a=n.visualViewport;let l=o.clientWidth,u=o.clientHeight,d=0,h=0;if(a){l=a.width,u=a.height;const m=Ed();(!m||m&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:l,height:u,x:d,y:h}}const JR=new Set(["absolute","fixed"]);function YR(r,e){const n=Mn(r,!0,e==="fixed"),o=n.top+r.clientTop,a=n.left+r.clientLeft,l=vr(r)?Ps(r):gr(1),u=r.clientWidth*l.x,d=r.clientHeight*l.y,h=a*l.x,m=o*l.y;return{width:u,height:d,x:h,y:m}}function jm(r,e,n){let o;if(e==="viewport")o=GR(r,n);else if(e==="document")o=KR(wr(r));else if(or(e))o=YR(e,n);else{const a=sy(r);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Oa(o)}function iy(r,e){const n=fn(r);return n===e||!or(n)||Os(n)?!1:ir(n).position==="fixed"||iy(n,e)}function QR(r,e){const n=e.get(r);if(n)return n;let o=Ho(r,[],!1).filter(d=>or(d)&&Us(d)!=="body"),a=null;const l=ir(r).position==="fixed";let u=l?fn(r):r;for(;or(u)&&!Os(u);){const d=ir(u),h=Sd(u);!h&&d.position==="fixed"&&(a=null),(l?!h&&!a:!h&&d.position==="static"&&!!a&&JR.has(a.position)||Xo(u)&&!h&&iy(r,u))?o=o.filter(v=>v!==u):a=d,u=fn(u)}return e.set(r,o),o}function XR(r){let{element:e,boundary:n,rootBoundary:o,strategy:a}=r;const u=[...n==="clippingAncestors"?Ka(e)?[]:QR(e,this._c):[].concat(n),o],d=u[0],h=u.reduce((m,v)=>{const y=jm(e,v,a);return m.top=Ut(y.top,m.top),m.right=dn(y.right,m.right),m.bottom=dn(y.bottom,m.bottom),m.left=Ut(y.left,m.left),m},jm(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function ZR(r){const{width:e,height:n}=ny(r);return{width:e,height:n}}function e1(r,e,n){const o=vr(e),a=wr(e),l=n==="fixed",u=Mn(r,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=gr(0);function m(){h.x=Cd(a)}if(o||!o&&!l)if((Us(e)!=="body"||Xo(a))&&(d=Ga(e)),o){const S=Mn(e,!0,l,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();l&&!o&&a&&m();const v=a&&!o&&!l?oy(a,d):gr(0),y=u.left+d.scrollLeft-h.x-v.x,b=u.top+d.scrollTop-h.y-v.y;return{x:y,y:b,width:u.width,height:u.height}}function pu(r){return ir(r).position==="static"}function Am(r,e){if(!vr(r)||ir(r).position==="fixed")return null;if(e)return e(r);let n=r.offsetParent;return wr(r)===n&&(n=n.ownerDocument.body),n}function ay(r,e){const n=zt(r);if(Ka(r))return n;if(!vr(r)){let a=fn(r);for(;a&&!Os(a);){if(or(a)&&!pu(a))return a;a=fn(a)}return n}let o=Am(r,e);for(;o&&$R(o)&&pu(o);)o=Am(o,e);return o&&Os(o)&&pu(o)&&!Sd(o)?n:o||zR(r)||n}const t1=async function(r){const e=this.getOffsetParent||ay,n=this.getDimensions,o=await n(r.floating);return{reference:e1(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function r1(r){return ir(r).direction==="rtl"}const n1={convertOffsetParentRelativeRectToViewportRelativeRect:HR,getDocumentElement:wr,getClippingRect:XR,getOffsetParent:ay,getElementRects:t1,getClientRects:qR,getDimensions:ZR,getScale:Ps,isElement:or,isRTL:r1};function ly(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function s1(r,e){let n=null,o;const a=wr(r);function l(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=r.getBoundingClientRect(),{left:v,top:y,width:b,height:S}=m;if(d||e(),!b||!S)return;const k=wa(y),x=wa(a.clientWidth-(v+b)),E=wa(a.clientHeight-(y+S)),C=wa(v),N={rootMargin:-k+"px "+-x+"px "+-E+"px "+-C+"px",threshold:Ut(0,dn(1,h))||1};let D=!0;function U(F){const P=F[0].intersectionRatio;if(P!==h){if(!D)return u();P?u(!1,P):o=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!ly(m,r.getBoundingClientRect())&&u(),D=!1}try{n=new IntersectionObserver(U,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(U,N)}n.observe(r)}return u(!0),l}function o1(r,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=kd(r),v=a||l?[...m?Ho(m):[],...Ho(e)]:[];v.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const y=m&&d?s1(m,n):null;let b=-1,S=null;u&&(S=new ResizeObserver(C=>{let[R]=C;R&&R.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(e)})),n()}),m&&!h&&S.observe(m),S.observe(e));let k,x=h?Mn(r):null;h&&E();function E(){const C=Mn(r);x&&!ly(x,C)&&n(),x=C,k=requestAnimationFrame(E)}return n(),()=>{var C;v.forEach(R=>{a&&R.removeEventListener("scroll",n),l&&R.removeEventListener("resize",n)}),y?.(),(C=S)==null||C.disconnect(),S=null,h&&cancelAnimationFrame(k)}}const i1=PR,a1=jR,l1=RR,c1=OR,u1=TR,Om=CR,d1=AR,f1=(r,e,n)=>{const o=new Map,a={platform:n1,...n},l={...a.platform,_c:o};return kR(r,e,{...a,platform:l})};var h1=typeof document<"u",p1=function(){},Ea=h1?w.useLayoutEffect:p1;function Ia(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let n,o,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Ia(r[o],e[o]))return!1;return!0}if(a=Object.keys(r),n=a.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&r.$$typeof)&&!Ia(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function cy(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Im(r,e){const n=cy(r);return Math.round(e*n)/n}function mu(r){const e=w.useRef(r);return Ea(()=>{e.current=r}),e}function m1(r){r===void 0&&(r={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=r,[v,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(o);Ia(b,o)||S(o);const[k,x]=w.useState(null),[E,C]=w.useState(null),R=w.useCallback(V=>{V!==F.current&&(F.current=V,x(V))},[]),N=w.useCallback(V=>{V!==P.current&&(P.current=V,C(V))},[]),D=l||k,U=u||E,F=w.useRef(null),P=w.useRef(null),W=w.useRef(v),L=h!=null,I=mu(h),H=mu(a),$=mu(m),q=w.useCallback(()=>{if(!F.current||!P.current)return;const V={placement:e,strategy:n,middleware:b};H.current&&(V.platform=H.current),f1(F.current,P.current,V).then(Q=>{const ee={...Q,isPositioned:$.current!==!1};re.current&&!Ia(W.current,ee)&&(W.current=ee,qo.flushSync(()=>{y(ee)}))})},[b,e,n,H,$]);Ea(()=>{m===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,y(V=>({...V,isPositioned:!1})))},[m]);const re=w.useRef(!1);Ea(()=>(re.current=!0,()=>{re.current=!1}),[]),Ea(()=>{if(D&&(F.current=D),U&&(P.current=U),D&&U){if(I.current)return I.current(D,U,q);q()}},[D,U,q,I,L]);const se=w.useMemo(()=>({reference:F,floating:P,setReference:R,setFloating:N}),[R,N]),G=w.useMemo(()=>({reference:D,floating:U}),[D,U]),Y=w.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const Q=Im(G.floating,v.x),ee=Im(G.floating,v.y);return d?{...V,transform:"translate("+Q+"px, "+ee+"px)",...cy(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ee}},[n,d,G.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:q,refs:se,elements:G,floatingStyles:Y}),[v,q,se,G,Y])}const g1=r=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:o,padding:a}=typeof r=="function"?r(n):r;return o&&e(o)?o.current!=null?Om({element:o.current,padding:a}).fn(n):{}:o?Om({element:o,padding:a}).fn(n):{}}}},v1=(r,e)=>({...i1(r),options:[r,e]}),y1=(r,e)=>({...a1(r),options:[r,e]}),w1=(r,e)=>({...d1(r),options:[r,e]}),x1=(r,e)=>({...l1(r),options:[r,e]}),_1=(r,e)=>({...c1(r),options:[r,e]}),b1=(r,e)=>({...u1(r),options:[r,e]}),S1=(r,e)=>({...g1(r),options:[r,e]});var E1="Arrow",uy=w.forwardRef((r,e)=>{const{children:n,width:o=10,height:a=5,...l}=r;return p.jsx(Ne.svg,{...l,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});uy.displayName=E1;var k1=uy,Rd="Popper",[dy,fy]=Or(Rd),[C1,hy]=dy(Rd),py=r=>{const{__scopePopper:e,children:n}=r,[o,a]=w.useState(null);return p.jsx(C1,{scope:e,anchor:o,onAnchorChange:a,children:n})};py.displayName=Rd;var my="PopperAnchor",gy=w.forwardRef((r,e)=>{const{__scopePopper:n,virtualRef:o,...a}=r,l=hy(my,n),u=w.useRef(null),d=Me(e,u);return w.useEffect(()=>{l.onAnchorChange(o?.current||u.current)}),o?null:p.jsx(Ne.div,{...a,ref:d})});gy.displayName=my;var Td="PopperContent",[R1,T1]=dy(Td),vy=w.forwardRef((r,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:k,...x}=r,E=hy(Td,n),[C,R]=w.useState(null),N=Me(e,oe=>R(oe)),[D,U]=w.useState(null),F=mg(D),P=F?.width??0,W=F?.height??0,L=o+(l!=="center"?"-"+l:""),I=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},H=Array.isArray(m)?m:[m],$=H.length>0,q={padding:I,boundary:H.filter(P1),altBoundary:$},{refs:re,floatingStyles:se,placement:G,isPositioned:Y,middlewareData:V}=m1({strategy:"fixed",placement:L,whileElementsMounted:(...oe)=>o1(...oe,{animationFrame:S==="always"}),elements:{reference:E.anchor},middleware:[v1({mainAxis:a+W,alignmentAxis:u}),h&&y1({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?w1():void 0,...q}),h&&x1({...q}),_1({...q,apply:({elements:oe,rects:fe,availableWidth:Se,availableHeight:Ee})=>{const{width:Ae,height:ze}=fe.reference,nt=oe.floating.style;nt.setProperty("--radix-popper-available-width",`${Se}px`),nt.setProperty("--radix-popper-available-height",`${Ee}px`),nt.setProperty("--radix-popper-anchor-width",`${Ae}px`),nt.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),D&&S1({element:D,padding:d}),j1({arrowWidth:P,arrowHeight:W}),b&&b1({strategy:"referenceHidden",...q})]}),[Q,ee]=xy(G),A=un(k);_t(()=>{Y&&A?.()},[Y,A]);const K=V.arrow?.x,ye=V.arrow?.y,we=V.arrow?.centerOffset!==0,[be,ge]=w.useState();return _t(()=>{C&&ge(window.getComputedStyle(C).zIndex)},[C]),p.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:p.jsx(R1,{scope:n,placedSide:Q,onArrowChange:U,arrowX:K,arrowY:ye,shouldHideArrow:we,children:p.jsx(Ne.div,{"data-side":Q,"data-align":ee,...x,ref:N,style:{...x.style,animation:Y?void 0:"none"}})})})});vy.displayName=Td;var yy="PopperArrow",N1={top:"bottom",right:"left",bottom:"top",left:"right"},wy=w.forwardRef(function(e,n){const{__scopePopper:o,...a}=e,l=T1(yy,o),u=N1[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(k1,{...a,ref:n,style:{...a.style,display:"block"}})})});wy.displayName=yy;function P1(r){return r!==null}var j1=r=>({name:"transformOrigin",options:r,fn(e){const{placement:n,rects:o,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,d=u?0:r.arrowWidth,h=u?0:r.arrowHeight,[m,v]=xy(n),y={start:"0%",center:"50%",end:"100%"}[v],b=(a.arrow?.x??0)+d/2,S=(a.arrow?.y??0)+h/2;let k="",x="";return m==="bottom"?(k=u?y:`${b}px`,x=`${-h}px`):m==="top"?(k=u?y:`${b}px`,x=`${o.floating.height+h}px`):m==="right"?(k=`${-h}px`,x=u?y:`${S}px`):m==="left"&&(k=`${o.floating.width+h}px`,x=u?y:`${S}px`),{data:{x:k,y:x}}}});function xy(r){const[e,n="center"]=r.split("-");return[e,n]}var A1=py,O1=gy,I1=vy,D1=wy,_y=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$1="VisuallyHidden",L1=w.forwardRef((r,e)=>p.jsx(Ne.span,{...r,ref:e,style:{..._y,...r.style}}));L1.displayName=$1;var M1=[" ","Enter","ArrowUp","ArrowDown"],F1=[" ","Enter"],Fn="Select",[Ja,Ya,U1]=lg(Fn),[zs]=Or(Fn,[U1,fy]),Qa=fy(),[z1,hn]=zs(Fn),[B1,V1]=zs(Fn),by=r=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:a,onOpenChange:l,value:u,defaultValue:d,onValueChange:h,dir:m,name:v,autoComplete:y,disabled:b,required:S,form:k}=r,x=Qa(e),[E,C]=w.useState(null),[R,N]=w.useState(null),[D,U]=w.useState(!1),F=Xu(m),[P,W]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Fn}),[L,I]=As({prop:u,defaultProp:d,onChange:h,caller:Fn}),H=w.useRef(null),$=E?k||!!E.closest("form"):!0,[q,re]=w.useState(new Set),se=Array.from(q).map(G=>G.props.value).join(";");return p.jsx(A1,{...x,children:p.jsxs(z1,{required:S,scope:e,trigger:E,onTriggerChange:C,valueNode:R,onValueNodeChange:N,valueNodeHasChildren:D,onValueNodeHasChildrenChange:U,contentId:cn(),value:L,onValueChange:I,open:P,onOpenChange:W,dir:F,triggerPointerDownPosRef:H,disabled:b,children:[p.jsx(Ja.Provider,{scope:e,children:p.jsx(B1,{scope:r.__scopeSelect,onNativeOptionAdd:w.useCallback(G=>{re(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:w.useCallback(G=>{re(Y=>{const V=new Set(Y);return V.delete(G),V})},[]),children:n})}),$?p.jsxs(qy,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:y,value:L,onChange:G=>I(G.target.value),disabled:b,form:k,children:[L===void 0?p.jsx("option",{value:""}):null,Array.from(q)]},se):null]})})};by.displayName=Fn;var Sy="SelectTrigger",Ey=w.forwardRef((r,e)=>{const{__scopeSelect:n,disabled:o=!1,...a}=r,l=Qa(n),u=hn(Sy,n),d=u.disabled||o,h=Me(e,u.onTriggerChange),m=Ya(n),v=w.useRef("touch"),[y,b,S]=Gy(x=>{const E=m().filter(N=>!N.disabled),C=E.find(N=>N.value===u.value),R=Jy(E,x,C);R!==void 0&&u.onValueChange(R.value)}),k=x=>{d||(u.onOpenChange(!0),S()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return p.jsx(O1,{asChild:!0,...l,children:p.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Ky(u.value)?"":void 0,...a,ref:h,onClick:Te(a.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&k(x)}),onPointerDown:Te(a.onPointerDown,x=>{v.current=x.pointerType;const E=x.target;E.hasPointerCapture(x.pointerId)&&E.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(k(x),x.preventDefault())}),onKeyDown:Te(a.onKeyDown,x=>{const E=y.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&b(x.key),!(E&&x.key===" ")&&M1.includes(x.key)&&(k(),x.preventDefault())})})})});Ey.displayName=Sy;var ky="SelectValue",Cy=w.forwardRef((r,e)=>{const{__scopeSelect:n,className:o,style:a,children:l,placeholder:u="",...d}=r,h=hn(ky,n),{onValueNodeHasChildrenChange:m}=h,v=l!==void 0,y=Me(e,h.onValueNodeChange);return _t(()=>{m(v)},[m,v]),p.jsx(Ne.span,{...d,ref:y,style:{pointerEvents:"none"},children:Ky(h.value)?p.jsx(p.Fragment,{children:u}):l})});Cy.displayName=ky;var W1="SelectIcon",Ry=w.forwardRef((r,e)=>{const{__scopeSelect:n,children:o,...a}=r;return p.jsx(Ne.span,{"aria-hidden":!0,...a,ref:e,children:o||""})});Ry.displayName=W1;var H1="SelectPortal",Ty=r=>p.jsx(ld,{asChild:!0,...r});Ty.displayName=H1;var Un="SelectContent",Ny=w.forwardRef((r,e)=>{const n=hn(Un,r.__scopeSelect),[o,a]=w.useState();if(_t(()=>{a(new DocumentFragment)},[]),!n.open){const l=o;return l?qo.createPortal(p.jsx(Py,{scope:r.__scopeSelect,children:p.jsx(Ja.Slot,{scope:r.__scopeSelect,children:p.jsx("div",{children:r.children})})}),l):null}return p.jsx(jy,{...r,ref:e})});Ny.displayName=Un;var nr=10,[Py,pn]=zs(Un),q1="SelectContentImpl",K1=js("SelectContent.RemoveScroll"),jy=w.forwardRef((r,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:S,sticky:k,hideWhenDetached:x,avoidCollisions:E,...C}=r,R=hn(Un,n),[N,D]=w.useState(null),[U,F]=w.useState(null),P=Me(e,oe=>D(oe)),[W,L]=w.useState(null),[I,H]=w.useState(null),$=Ya(n),[q,re]=w.useState(!1),se=w.useRef(!1);w.useEffect(()=>{if(N)return dv(N)},[N]),nv();const G=w.useCallback(oe=>{const[fe,...Se]=$().map(ze=>ze.ref.current),[Ee]=Se.slice(-1),Ae=document.activeElement;for(const ze of oe)if(ze===Ae||(ze?.scrollIntoView({block:"nearest"}),ze===fe&&U&&(U.scrollTop=0),ze===Ee&&U&&(U.scrollTop=U.scrollHeight),ze?.focus(),document.activeElement!==Ae))return},[$,U]),Y=w.useCallback(()=>G([W,N]),[G,W,N]);w.useEffect(()=>{q&&Y()},[q,Y]);const{onOpenChange:V,triggerPointerDownPosRef:Q}=R;w.useEffect(()=>{if(N){let oe={x:0,y:0};const fe=Ee=>{oe={x:Math.abs(Math.round(Ee.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(Q.current?.y??0))}},Se=Ee=>{oe.x<=10&&oe.y<=10?Ee.preventDefault():N.contains(Ee.target)||V(!1),document.removeEventListener("pointermove",fe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[N,V,Q]),w.useEffect(()=>{const oe=()=>V(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[V]);const[ee,A]=Gy(oe=>{const fe=$().filter(Ae=>!Ae.disabled),Se=fe.find(Ae=>Ae.ref.current===document.activeElement),Ee=Jy(fe,oe,Se);Ee&&setTimeout(()=>Ee.ref.current.focus())}),K=w.useCallback((oe,fe,Se)=>{const Ee=!se.current&&!Se;(R.value!==void 0&&R.value===fe||Ee)&&(L(oe),Ee&&(se.current=!0))},[R.value]),ye=w.useCallback(()=>N?.focus(),[N]),we=w.useCallback((oe,fe,Se)=>{const Ee=!se.current&&!Se;(R.value!==void 0&&R.value===fe||Ee)&&H(oe)},[R.value]),be=o==="popper"?Uu:Ay,ge=be===Uu?{side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:S,sticky:k,hideWhenDetached:x,avoidCollisions:E}:{};return p.jsx(Py,{scope:n,content:N,viewport:U,onViewportChange:F,itemRefCallback:K,selectedItem:W,onItemLeave:ye,itemTextRefCallback:we,focusSelectedItem:Y,selectedItemText:I,position:o,isPositioned:q,searchRef:ee,children:p.jsx(cd,{as:K1,allowPinchZoom:!0,children:p.jsx(ad,{asChild:!0,trapped:R.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Te(a,oe=>{R.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:p.jsx(id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:p.jsx(be,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:oe=>oe.preventDefault(),...C,...ge,onPlaced:()=>re(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Te(C.onKeyDown,oe=>{const fe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!fe&&oe.key.length===1&&A(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ee=$().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Ae=oe.target,ze=Ee.indexOf(Ae);Ee=Ee.slice(ze+1)}setTimeout(()=>G(Ee)),oe.preventDefault()}})})})})})})});jy.displayName=q1;var G1="SelectItemAlignedPosition",Ay=w.forwardRef((r,e)=>{const{__scopeSelect:n,onPlaced:o,...a}=r,l=hn(Un,n),u=pn(Un,n),[d,h]=w.useState(null),[m,v]=w.useState(null),y=Me(e,P=>v(P)),b=Ya(n),S=w.useRef(!1),k=w.useRef(!0),{viewport:x,selectedItem:E,selectedItemText:C,focusSelectedItem:R}=u,N=w.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&x&&E&&C){const P=l.trigger.getBoundingClientRect(),W=m.getBoundingClientRect(),L=l.valueNode.getBoundingClientRect(),I=C.getBoundingClientRect();if(l.dir!=="rtl"){const Ae=I.left-W.left,ze=L.left-Ae,nt=P.left-ze,te=P.width+nt,_e=Math.max(te,W.width),Ce=window.innerWidth-nr,Le=Em(ze,[nr,Math.max(nr,Ce-_e)]);d.style.minWidth=te+"px",d.style.left=Le+"px"}else{const Ae=W.right-I.right,ze=window.innerWidth-L.right-Ae,nt=window.innerWidth-P.right-ze,te=P.width+nt,_e=Math.max(te,W.width),Ce=window.innerWidth-nr,Le=Em(ze,[nr,Math.max(nr,Ce-_e)]);d.style.minWidth=te+"px",d.style.right=Le+"px"}const H=b(),$=window.innerHeight-nr*2,q=x.scrollHeight,re=window.getComputedStyle(m),se=parseInt(re.borderTopWidth,10),G=parseInt(re.paddingTop,10),Y=parseInt(re.borderBottomWidth,10),V=parseInt(re.paddingBottom,10),Q=se+G+q+V+Y,ee=Math.min(E.offsetHeight*5,Q),A=window.getComputedStyle(x),K=parseInt(A.paddingTop,10),ye=parseInt(A.paddingBottom,10),we=P.top+P.height/2-nr,be=$-we,ge=E.offsetHeight/2,oe=E.offsetTop+ge,fe=se+G+oe,Se=Q-fe;if(fe<=we){const Ae=H.length>0&&E===H[H.length-1].ref.current;d.style.bottom="0px";const ze=m.clientHeight-x.offsetTop-x.offsetHeight,nt=Math.max(be,ge+(Ae?ye:0)+ze+Y),te=fe+nt;d.style.height=te+"px"}else{const Ae=H.length>0&&E===H[0].ref.current;d.style.top="0px";const nt=Math.max(we,se+x.offsetTop+(Ae?K:0)+ge)+Se;d.style.height=nt+"px",x.scrollTop=fe-we+x.offsetTop}d.style.margin=`${nr}px 0`,d.style.minHeight=ee+"px",d.style.maxHeight=$+"px",o?.(),requestAnimationFrame(()=>S.current=!0)}},[b,l.trigger,l.valueNode,d,m,x,E,C,l.dir,o]);_t(()=>N(),[N]);const[D,U]=w.useState();_t(()=>{m&&U(window.getComputedStyle(m).zIndex)},[m]);const F=w.useCallback(P=>{P&&k.current===!0&&(N(),R?.(),k.current=!1)},[N,R]);return p.jsx(Y1,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:F,children:p.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:p.jsx(Ne.div,{...a,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ay.displayName=G1;var J1="SelectPopperPosition",Uu=w.forwardRef((r,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=nr,...l}=r,u=Qa(n);return p.jsx(I1,{...u,...l,ref:e,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uu.displayName=J1;var[Y1,Nd]=zs(Un,{}),zu="SelectViewport",Oy=w.forwardRef((r,e)=>{const{__scopeSelect:n,nonce:o,...a}=r,l=pn(zu,n),u=Nd(zu,n),d=Me(e,l.onViewportChange),h=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(Ja.Slot,{scope:n,children:p.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Te(a.onScroll,m=>{const v=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b?.current&&y){const S=Math.abs(h.current-v.scrollTop);if(S>0){const k=window.innerHeight-nr*2,x=parseFloat(y.style.minHeight),E=parseFloat(y.style.height),C=Math.max(x,E);if(C<k){const R=C+S,N=Math.min(k,R),D=R-N;y.style.height=N+"px",y.style.bottom==="0px"&&(v.scrollTop=D>0?D:0,y.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});Oy.displayName=zu;var Iy="SelectGroup",[Q1,X1]=zs(Iy),Z1=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=cn();return p.jsx(Q1,{scope:n,id:a,children:p.jsx(Ne.div,{role:"group","aria-labelledby":a,...o,ref:e})})});Z1.displayName=Iy;var Dy="SelectLabel",$y=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=X1(Dy,n);return p.jsx(Ne.div,{id:a.id,...o,ref:e})});$y.displayName=Dy;var Da="SelectItem",[eT,Ly]=zs(Da),My=w.forwardRef((r,e)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l,...u}=r,d=hn(Da,n),h=pn(Da,n),m=d.value===o,[v,y]=w.useState(l??""),[b,S]=w.useState(!1),k=Me(e,R=>h.itemRefCallback?.(R,o,a)),x=cn(),E=w.useRef("touch"),C=()=>{a||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(eT,{scope:n,value:o,disabled:a,textId:x,isSelected:m,onItemTextChange:w.useCallback(R=>{y(N=>N||(R?.textContent??"").trim())},[]),children:p.jsx(Ja.ItemSlot,{scope:n,value:o,disabled:a,textValue:v,children:p.jsx(Ne.div,{role:"option","aria-labelledby":x,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:k,onFocus:Te(u.onFocus,()=>S(!0)),onBlur:Te(u.onBlur,()=>S(!1)),onClick:Te(u.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:Te(u.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:Te(u.onPointerDown,R=>{E.current=R.pointerType}),onPointerMove:Te(u.onPointerMove,R=>{E.current=R.pointerType,a?h.onItemLeave?.():E.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(u.onPointerLeave,R=>{R.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Te(u.onKeyDown,R=>{h.searchRef?.current!==""&&R.key===" "||(F1.includes(R.key)&&C(),R.key===" "&&R.preventDefault())})})})})});My.displayName=Da;var Ao="SelectItemText",Fy=w.forwardRef((r,e)=>{const{__scopeSelect:n,className:o,style:a,...l}=r,u=hn(Ao,n),d=pn(Ao,n),h=Ly(Ao,n),m=V1(Ao,n),[v,y]=w.useState(null),b=Me(e,C=>y(C),h.onItemTextChange,C=>d.itemTextRefCallback?.(C,h.value,h.disabled)),S=v?.textContent,k=w.useMemo(()=>p.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:x,onNativeOptionRemove:E}=m;return _t(()=>(x(k),()=>E(k)),[x,E,k]),p.jsxs(p.Fragment,{children:[p.jsx(Ne.span,{id:h.textId,...l,ref:b}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qo.createPortal(l.children,u.valueNode):null]})});Fy.displayName=Ao;var Uy="SelectItemIndicator",zy=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r;return Ly(Uy,n).isSelected?p.jsx(Ne.span,{"aria-hidden":!0,...o,ref:e}):null});zy.displayName=Uy;var Bu="SelectScrollUpButton",By=w.forwardRef((r,e)=>{const n=pn(Bu,r.__scopeSelect),o=Nd(Bu,r.__scopeSelect),[a,l]=w.useState(!1),u=Me(e,o.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?p.jsx(Wy,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});By.displayName=Bu;var Vu="SelectScrollDownButton",Vy=w.forwardRef((r,e)=>{const n=pn(Vu,r.__scopeSelect),o=Nd(Vu,r.__scopeSelect),[a,l]=w.useState(!1),u=Me(e,o.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<m;l(v)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?p.jsx(Wy,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});Vy.displayName=Vu;var Wy=w.forwardRef((r,e)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=r,l=pn("SelectScrollButton",n),u=w.useRef(null),d=Ya(n),h=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),_t(()=>{d().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),p.jsx(Ne.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Te(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Te(a.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Te(a.onPointerLeave,()=>{h()})})}),tT="SelectSeparator",Hy=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r;return p.jsx(Ne.div,{"aria-hidden":!0,...o,ref:e})});Hy.displayName=tT;var Wu="SelectArrow",rT=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=Qa(n),l=hn(Wu,n),u=pn(Wu,n);return l.open&&u.position==="popper"?p.jsx(D1,{...a,...o,ref:e}):null});rT.displayName=Wu;var nT="SelectBubbleInput",qy=w.forwardRef(({__scopeSelect:r,value:e,...n},o)=>{const a=w.useRef(null),l=Me(o,a),u=gg(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&v){const y=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(y)}},[u,e]),p.jsx(Ne.select,{...n,style:{..._y,...n.style},ref:l,defaultValue:e})});qy.displayName=nT;function Ky(r){return r===""||r===void 0}function Gy(r){const e=un(r),n=w.useRef(""),o=w.useRef(0),a=w.useCallback(u=>{const d=n.current+u;e(d),(function h(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),l=w.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,l]}function Jy(r,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?r.indexOf(n):-1;let u=sT(r,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function sT(r,e){return r.map((n,o)=>r[(e+o)%r.length])}var oT=by,Yy=Ey,iT=Cy,aT=Ry,lT=Ty,Qy=Ny,cT=Oy,Xy=$y,Zy=My,uT=Fy,dT=zy,ew=By,tw=Vy,rw=Hy;const Pd=oT,jd=iT,Xa=w.forwardRef(({className:r,children:e,...n},o)=>p.jsxs(Yy,{ref:o,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[e,p.jsx(aT,{asChild:!0,children:p.jsx(ed,{className:"h-4 w-4 opacity-50"})})]}));Xa.displayName=Yy.displayName;const nw=w.forwardRef(({className:r,...e},n)=>p.jsx(ew,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",r),...e,children:p.jsx(Fb,{className:"h-4 w-4"})}));nw.displayName=ew.displayName;const sw=w.forwardRef(({className:r,...e},n)=>p.jsx(tw,{ref:n,className:$e("flex cursor-default items-center justify-center py-1",r),...e,children:p.jsx(ed,{className:"h-4 w-4"})}));sw.displayName=tw.displayName;const Za=w.forwardRef(({className:r,children:e,position:n="popper",...o},a)=>p.jsx(lT,{children:p.jsxs(Qy,{ref:a,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[p.jsx(nw,{}),p.jsx(cT,{className:$e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(sw,{})]})}));Za.displayName=Qy.displayName;const fT=w.forwardRef(({className:r,...e},n)=>p.jsx(Xy,{ref:n,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...e}));fT.displayName=Xy.displayName;const pr=w.forwardRef(({className:r,children:e,...n},o)=>p.jsxs(Zy,{ref:o,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(dT,{children:p.jsx(Ag,{className:"h-4 w-4"})})}),p.jsx(uT,{children:e})]}));pr.displayName=Zy.displayName;const hT=w.forwardRef(({className:r,...e},n)=>p.jsx(rw,{ref:n,className:$e("-mx-1 my-1 h-px bg-muted",r),...e}));hT.displayName=rw.displayName;const pT=()=>{const[r,e]=w.useState([]),[n,o]=w.useState([]),[a,l]=w.useState("connecting");w.useEffect(()=>{(async()=>{try{console.log("Fetching sales from Supabase...");const{data:I,error:H}=await lt.from("sales").select(`
            *,
            products (*)
          `).order("created_at",{ascending:!1});if(H)throw console.error("Error fetching sales:",H),H;if(console.log("Raw sales data from Supabase:",I),I&&I.length>0){const $=I.map(q=>({id:q.id,customerName:q.customer_name,purchaseDate:q.purchase_date,paymentDate:q.payment_date,paymentMethod:q.payment_method,installments:q.installments,installmentValues:Array.isArray(q.installment_values)?q.installment_values:[],installmentDates:Array.isArray(q.installment_dates)?q.installment_dates:[],installmentType:q.installment_type,advancePayment:q.advance_payment,discount:0,products:q.products?q.products.map(re=>({id:re.id,productRef:re.product_ref,productName:re.product_name,purchaseValue:re.purchase_value,saleValue:re.sale_value})):[]}));console.log("Transformed sales data:",$),e($),l("connected")}else console.log("No sales data found"),e([]),l("connected")}catch(I){console.error("Error fetching sales:",I),Oe({title:"Erro ao carregar vendas",description:"Houve um erro ao carregar as vendas do banco de dados.",variant:"destructive"}),l("error")}})()},[]),w.useEffect(()=>{(async()=>{try{const{data:I,error:H}=await lt.from("expenses").select("*").order("created_at",{ascending:!1});if(H){console.error("Error fetching expenses:",H);return}if(I&&I.length>0){const $=I.map(q=>({id:q.id,descricao:q.descricao,categoria:q.categoria,data:q.data,valorTotal:q.valor_total,formaPagamento:q.forma_pagamento,parcelas:q.parcelas,parcelaAtual:q.parcela_atual,mesReferencia:q.mes_referencia,observacao:q.observacao}));o($)}}catch(I){console.error("Error fetching expenses:",I)}})()},[]),w.useEffect(()=>{const L=lt.channel("realtime-sales").on("postgres_changes",{event:"*",schema:"public",table:"sales"},async I=>{try{const H=I.new?.id||I.old?.id;if(!H)return;const{data:$,error:q}=await lt.from("sales").select("*, products (*)").eq("id",H).single();if(q){console.error("Realtime fetch error:",q),l("error");return}const re={id:$.id,customerName:$.customer_name,purchaseDate:$.purchase_date,paymentDate:$.payment_date,paymentMethod:$.payment_method,installments:$.installments,installmentValues:Array.isArray($.installment_values)?$.installment_values:[],installmentDates:Array.isArray($.installment_dates)?$.installment_dates:[],installmentType:$.installment_type,advancePayment:$.advance_payment,discount:0,products:$.products?$.products.map(se=>({id:se.id,productRef:se.product_ref,productName:se.product_name,purchaseValue:se.purchase_value,saleValue:se.sale_value})):[]};e(se=>se.find(Y=>Y.id===re.id)?se.map(Y=>Y.id===re.id?re:Y):[re,...se]),l("connected"),Oe({title:"Dados sincronizados",description:"Atualizao em tempo real aplicada."})}catch(H){console.error("Erro no realtime sales:",H),l("error")}}).on("postgres_changes",{event:"*",schema:"public",table:"products"},async I=>{try{const H=I.new?.sale_id||I.old?.sale_id;if(!H)return;const{data:$,error:q}=await lt.from("sales").select("*, products (*)").eq("id",H).single();if(q){console.error("Realtime fetch error (products):",q),l("error");return}const re={id:$.id,customerName:$.customer_name,purchaseDate:$.purchase_date,paymentDate:$.payment_date,paymentMethod:$.payment_method,installments:$.installments,installmentValues:Array.isArray($.installment_values)?$.installment_values:[],installmentDates:Array.isArray($.installment_dates)?$.installment_dates:[],installmentType:$.installment_type,advancePayment:$.advance_payment,discount:0,products:$.products?$.products.map(se=>({id:se.id,productRef:se.product_ref,productName:se.product_name,purchaseValue:se.purchase_value,saleValue:se.sale_value})):[]};e(se=>se.map(G=>G.id===re.id?re:G)),l("connected"),Oe({title:"Produtos sincronizados",description:"Atualizao em tempo real aplicada."})}catch(H){console.error("Erro no realtime products:",H),l("error")}}).subscribe();return()=>{lt.removeChannel(L)}},[]);const[u,d]=w.useState("total"),[h,m]=w.useState(null),[v,y]=w.useState(""),b=async L=>{console.log(" handleSaleAdded CHAMADO com dados:",L),console.log(" Estado atual de sales:",r.length,"vendas");const I=`tmp-${Date.now()}`,H={...L,id:I};console.log(" Adicionando venda temporria no estado:",H),e($=>[H,...$]),m(null);try{console.log(" Tentando inserir venda no Supabase...");const{data:$,error:q}=await lt.from("sales").insert({customer_name:L.customerName,purchase_date:L.purchaseDate,payment_date:L.paymentDate,payment_method:L.paymentMethod,installments:L.installments,installment_values:L.installmentValues,installment_dates:L.installmentDates,installment_type:L.installmentType,advance_payment:L.advancePayment}).select().single();if(q)throw console.error(" Erro ao inserir venda:",q),e(G=>G.filter(Y=>Y.id!==I)),q;const re=$.id;console.log(" Sale inserted with ID:",re);const se={...L,id:re};if(console.log(" Substituindo venda temporria pela persistida:",se),e(G=>G.map(Y=>Y.id===I?se:Y)),L.products&&L.products.length>0){const G=L.products.map(V=>({sale_id:re,product_ref:V.productRef,product_name:V.productName,purchase_value:V.purchaseValue,sale_value:V.saleValue}));console.log(" Inserting products:",G);const{error:Y}=await lt.from("products").insert(G);Y?(console.error(" Error inserting products:",Y),Oe({title:"Produtos no salvos",description:"A venda foi criada, mas houve erro ao salvar os produtos.",variant:"destructive"})):console.log(" Products inserted successfully")}console.log(" Processo completo, mostrando toast de sucesso"),Oe({title:"Venda salva!",description:"A venda foi salva com sucesso no banco de dados."})}catch($){console.error(" Erro geral em handleSaleAdded:",$),Oe({title:"Erro ao salvar venda",description:"Houve um erro ao salvar a venda.",variant:"destructive"})}},S=async L=>{try{console.log(" Atualizando venda (payload recebido):",L);const I=r.find(G=>G.id===L.id);if(!I)throw console.error(" Venda no encontrada localmente:",L.id),new Error("Venda no encontrada localmente");if(L.installmentDates!==void 0&&L.customerName===void 0&&L.purchaseDate===void 0&&L.paymentDate===void 0&&L.paymentMethod===void 0&&L.installments===void 0&&L.installmentValues===void 0&&L.advancePayment===void 0&&L.discount===void 0&&L.products===void 0){console.log(" Atualizao apenas de installment_dates");const{data:G,error:Y}=await lt.from("sales").update({installment_dates:L.installmentDates??null}).eq("id",L.id).select().single();if(Y)throw console.error(" Erro ao atualizar installment_dates:",Y),Y;console.log(" Linha de venda atualizada (retorno):",G),e(V=>V.map(Q=>Q.id===L.id?{...Q,installmentDates:L.installmentDates}:Q)),Oe({title:"Parcelas atualizadas",description:"Datas de parcelas atualizadas com sucesso."});return}const $={...I,...L};console.log(" Dados mesclados para update:",$);let{data:q,error:re}=await lt.from("sales").update({customer_name:$.customerName,purchase_date:$.purchaseDate,payment_date:$.paymentDate,payment_method:$.paymentMethod,installments:$.installments??null,installment_values:$.installmentValues??null,installment_dates:$.installmentDates??null,installment_type:$.installmentType??null,advance_payment:$.advancePayment??null,discount:$.discount??null}).eq("id",$.id).select().single();if(re){const G=String(re?.message??""),Y=String(re?.hint??""),V=String(re?.details??""),Q=`${G} ${Y} ${V}`.toLowerCase();if(Q.includes("discount")&&(Q.includes("column")||Q.includes("schema"))){console.warn(" Coluna discount ausente no banco. Tentando update sem discount...");const{data:ee,error:A}=await lt.from("sales").update({customer_name:$.customerName,purchase_date:$.purchaseDate,payment_date:$.paymentDate,payment_method:$.paymentMethod,installments:$.installments??null,installment_values:$.installmentValues??null,installment_dates:$.installmentDates??null,installment_type:$.installmentType??null,advance_payment:$.advancePayment??null}).eq("id",$.id).select().single();if(A)throw console.error(" Erro ao atualizar venda (fallback sem discount) tambm falhou:",A),A;q=ee,re=null,delete $.discount}else throw console.error(" Erro ao atualizar venda:",re),re}console.log(" Venda atualizada no banco (retorno):",q),console.log(" Deletando produtos atuais da venda:",$.id);const{error:se}=await lt.from("products").delete().eq("sale_id",$.id);if(se){console.error(" Erro ao deletar produtos:",se);const G=String(se?.message??"").toLowerCase();G.includes("relation")&&G.includes("products")&&G.includes("does not exist")?Oe({title:"Tabela de produtos ausente",description:"Venda atualizada, mas tabela products no existe no banco.",variant:"destructive"}):Oe({title:"Erro ao atualizar produtos",description:"Venda atualizada, mas falhou ao atualizar produtos.",variant:"destructive"})}if($.products&&$.products.length>0){const G=$.products.map(V=>({sale_id:$.id,product_ref:V.productRef,product_name:V.productName,purchase_value:V.purchaseValue,sale_value:V.saleValue}));console.log(" Inserindo novos produtos:",G);const{error:Y}=await lt.from("products").insert(G);if(Y){console.error(" Erro ao inserir novos produtos:",Y);const V=String(Y?.message??"").toLowerCase();V.includes("relation")&&V.includes("products")&&V.includes("does not exist")?Oe({title:"Tabela de produtos ausente",description:"Venda atualizada, mas tabela products no existe no banco.",variant:"destructive"}):Oe({title:"Produtos no atualizados",description:"Venda atualizada, mas houve erro ao salvar produtos.",variant:"destructive"})}}e(G=>G.map(Y=>Y.id===$.id?$:Y)),m(null),console.log(" Atualizao concluda com sucesso para venda:",$.id),Oe({title:"Venda atualizada!",description:"A venda foi atualizada com sucesso."})}catch(I){console.error(" Erro ao atualizar venda no Supabase:",I),Oe({title:"Erro ao atualizar venda",description:"Houve um erro ao atualizar a venda. Verifique o console para mais detalhes.",variant:"destructive"}),m(null)}},k=L=>{m(L),window.scrollTo({top:0,behavior:"smooth"})},x=async L=>{try{const{error:I}=await lt.from("sales").delete().eq("id",L);if(I)throw console.error("Error deleting sale from Supabase:",I),I;e(H=>H.filter($=>$.id!==L)),Oe({title:"Venda removida!",description:"A venda foi excluda com sucesso."})}catch(I){console.error("Error deleting sale from Supabase:",I),Oe({title:"Erro ao excluir venda",description:"Houve um erro ao excluir a venda. Verifique o console para mais detalhes.",variant:"destructive"})}},E=L=>u==="total"?L:L.filter(I=>{if(I.paymentMethod==="pix"){const H=new Date(I.paymentDate);return`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`===u}else if(I.paymentMethod==="installment"&&I.installmentDates)return I.installmentDates.some(H=>{const $=new Date(H);return`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}`===u});return!1});console.log(" DEBUG FILTROS:"),console.log("- sales.length:",r.length),console.log("- selectedMonth:",u),console.log("- searchTerm:",v);const C=E(r);console.log("- aps filterSalesByMonth:",C.length);const R=C.filter(L=>L.customerName.toLowerCase().includes(v.toLowerCase()));console.log("- aps filtro de busca:",R.length),console.log("- filteredSales:",R);const N=Array.from(new Set(r.flatMap(L=>{if(L.paymentMethod==="pix"){const I=new Date(L.paymentDate);return[`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`]}else if(L.installmentDates)return L.installmentDates.map(I=>{const H=new Date(I);return`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`});return[]}))).sort(),D=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],U=L=>{const[I,H]=L.split("-");return`${D[parseInt(H)-1]} ${I}`},F=R.reduce((L,I)=>{if(u==="total"){const H=I.products.reduce(($,q)=>$+(q.saleValue-q.purchaseValue),0);return L+H}if(I.paymentMethod==="pix"){const H=new Date(I.paymentDate);if(`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`===u){const q=I.products.reduce((re,se)=>re+(se.saleValue-se.purchaseValue),0);return L+q}return L}if(I.paymentMethod==="installment"&&I.installmentValues&&I.installmentDates){const H=I.products.reduce((G,Y)=>G+Y.saleValue,0),$=I.products.reduce((G,Y)=>G+Y.purchaseValue,0),q=I.installmentValues.reduce((G,Y,V)=>{const Q=I.installmentDates?.[V];if(!Q)return G;const ee=new Date(Q);if(`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}`!==u)return G;if(H>0){const K=Y*($/H);G+=Y-K}else G+=0;return G},0),se=I.installmentValues.reduce((G,Y)=>G+Y,0)>0?(I.discount||0)*(q/(H-$)):0;return L+q-se}return L},0),P=R.reduce((L,I)=>{if(u==="total"){const H=I.products.reduce(($,q)=>$+q.saleValue,0)-(I.discount||0);return L+H}if(I.paymentMethod==="pix"){const H=new Date(I.paymentDate);if(`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`===u){const q=I.products.reduce((re,se)=>re+se.saleValue,0)-(I.discount||0);return L+q}return L}if(I.paymentMethod==="installment"&&I.installmentValues&&I.installmentDates){const H=I.installmentValues.reduce(($,q,re)=>{const se=I.installmentDates?.[re];if(!se)return $;const G=new Date(se);return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`===u?$+q:$},0);return L+H}return L},0),W=n.reduce((L,I)=>{if(u==="total")return L+I.valorTotal;const H=new Date(I.data).toLocaleString("pt-BR",{month:"long"}).replace(/^./,q=>q.toUpperCase())+" "+new Date(I.data).getFullYear(),$=U(u);return H===$?L+I.valorTotal:L},0);return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-secondary/20",children:[p.jsx("header",{className:"bg-card/70 backdrop-blur-md border-b border-border/40 shadow-[var(--shadow-card)] sticky top-0 z-50 backdrop-saturate-110",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:Xv,alt:"Ellas Concept",className:"h-12 md:h-16 w-auto"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Controle de Vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground hidden md:block",children:"Gesto elegante e eficiente"})]})]}),p.jsxs("nav",{className:"flex gap-2 items-center",children:[p.jsx(Vo,{variant:a==="connected"?"default":"outline",className:a==="connected"?"bg-emerald-600 text-white":a==="error"?"border-red-600 text-red-600":"",children:a==="connected"?"Conectado":a==="error"?"Offline":"Conectando..."}),p.jsx(ct,{variant:"outline",asChild:!0,children:p.jsx(Jm,{to:"/a-pagar",children:"A Pagar"})})]})]})})}),p.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.length>0&&p.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[p.jsxs("div",{className:"max-w-xs",children:[p.jsx(Ie,{htmlFor:"month-filter",className:"text-foreground mb-2 block",children:"Filtrar por ms"}),p.jsxs(Pd,{value:u,onValueChange:d,children:[p.jsx(Xa,{id:"month-filter",className:"bg-card",children:p.jsx(jd,{placeholder:"Selecione o ms"})}),p.jsxs(Za,{children:[p.jsx(pr,{value:"total",children:"Total (Todos os meses)"}),N.map(L=>p.jsx(pr,{value:L,children:U(L)},L))]})]})]}),p.jsxs("div",{className:"flex-1 max-w-xs relative",children:[p.jsx(Ie,{htmlFor:"search",className:"text-foreground mb-2 block",children:"Buscar"}),p.jsxs("div",{className:"relative",children:[p.jsx(mt,{id:"search",className:"pl-8",value:v,onChange:L=>y(L.target.value)}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})]})]})]}),r.length>0&&p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 dark:from-violet-950/30 dark:to-fuchsia-950/30 p-6 rounded-2xl shadow-lg border border-violet-100/50 dark:border-violet-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-2 group-hover:text-violet-800 transition-colors",children:"Total de Vendas"}),p.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent",children:R.length})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 p-6 rounded-2xl shadow-lg border border-blue-100/50 dark:border-blue-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2 group-hover:text-blue-800 transition-colors",children:["Total a receber",p.jsx("br",{}),p.jsxs("span",{className:"text-xs opacity-75",children:["(",u==="total"?"Todos os meses":U(u),")"]})]}),p.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["R$ ",P.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 dark:from-rose-950/30 dark:to-red-950/30 p-6 rounded-2xl shadow-lg border border-rose-100/50 dark:border-rose-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-sm font-semibold text-rose-700 dark:text-rose-300 mb-2 group-hover:text-rose-800 transition-colors",children:["Total a Pagar",p.jsx("br",{}),p.jsxs("span",{className:"text-xs opacity-75",children:["(",u==="total"?"Todos os meses":U(u),")"]})]}),p.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 to-red-600 bg-clip-text text-transparent",children:["R$ ",W.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 p-6 rounded-2xl shadow-lg border border-emerald-100/50 dark:border-emerald-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsx("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2 group-hover:text-emerald-800 transition-colors",children:"Lucro Total"}),p.jsxs("p",{className:`text-3xl font-bold ${F>=0?"bg-gradient-to-r from-emerald-600 to-teal-600":"bg-gradient-to-r from-rose-600 to-red-600"} bg-clip-text text-transparent`,children:["R$ ",F.toFixed(2)]})]})]}),r.length>0&&u!=="total"&&p.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:p.jsx("div",{className:`p-6 rounded-xl shadow-lg border-2 transition-all ${P>=W?"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-400 dark:border-green-600":"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-400 dark:border-red-600"}`,children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:`text-sm font-semibold mb-2 ${P>=W?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:P>=W?" Receitas cobrem as despesas":" Receitas no cobrem as despesas"}),p.jsxs("div",{className:"flex items-center justify-center gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs opacity-75",children:"Diferena"}),p.jsxs("p",{className:`text-3xl font-bold ${P>=W?"text-green-600":"text-red-600"}`,children:["R$ ",Math.abs(P-W).toFixed(2)]})]}),P>=W&&p.jsx("div",{className:"text-green-600 dark:text-green-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),P<W&&p.jsx("div",{className:"text-red-600 dark:text-red-400",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]})]})})}),p.jsx("div",{className:"mb-8",children:p.jsx(Jb,{onSaleAdded:b,editingSale:h,onSaleUpdated:S})}),p.jsx(hR,{sales:R,onDeleteSale:x,onEditSale:k,onUpdateSale:S,selectedMonth:u})]}),p.jsx("footer",{className:"mt-16 py-6 border-t border-border bg-card/50",children:p.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:p.jsx("p",{children:" 2025 Ellas Concept - Sistema de Controle de Vendas"})})})]})},ow=w.forwardRef(({className:r,...e},n)=>p.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:n,...e}));ow.displayName="Textarea";const mT=({onExpenseAdded:r,editingExpense:e,onExpenseUpdated:n})=>{const[o,a]=w.useState(""),[l,u]=w.useState("Estoque"),[d,h]=w.useState(new Date().toISOString().split("T")[0]),[m,v]=w.useState(""),[y,b]=w.useState("PIX"),[S,k]=w.useState("2"),[x,E]=w.useState(""),C=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];w.useEffect(()=>{e&&(a(e.descricao),u(e.categoria),h(e.data),v(e.valorTotal.toString()),b(e.formaPagamento),e.parcelas&&k(e.parcelas.toString()),E(e.observacao||""))},[e]);const R=(U,F,P)=>{const W=crypto.randomUUID(),L=U/F,I=new Date(P);I.setMonth(I.getMonth()+1);const H=[];for(let $=0;$<F;$++){const q=new Date(I);q.setMonth(I.getMonth()+$);const re=`${C[q.getMonth()]} ${q.getFullYear()}`;H.push({id:`${Date.now()}-${$}-${Math.random()}`,grupo_id:W,descricao:o,categoria:l,data:q.toISOString().split("T")[0],valorTotal:L,formaPagamento:"Parcelado",parcelas:F,parcelaAtual:$+1,mesReferencia:re,observacao:x})}return H},N=U=>{if(U.preventDefault(),!o.trim()){Oe({title:"Erro",description:"Por favor, preencha a descrio da despesa.",variant:"destructive"});return}if(!m||parseFloat(m)<=0){Oe({title:"Erro",description:"Por favor, informe um valor vlido.",variant:"destructive"});return}const F=parseFloat(m);if(e){if(e.formaPagamento==="Parcelado"&&e.grupo_id){const P={...e,descricao:o,categoria:l,data:d,valorTotal:F,observacao:x};n?.([P])}else{const P={...e,descricao:o,categoria:l,data:d,valorTotal:F,observacao:x};n?.([P])}Oe({title:"Despesa atualizada!",description:"A despesa foi atualizada com sucesso."}),D()}else{if(y==="PIX"){const P=new Date(d),W=new Date(P);W.setMonth(P.getMonth()+1);const L=`${C[W.getMonth()]} ${W.getFullYear()}`,I={id:`${Date.now()}-${Math.random()}`,grupo_id:crypto.randomUUID(),descricao:o,categoria:l,data:d,valorTotal:F,formaPagamento:"PIX",mesReferencia:L,observacao:x};r([I]),Oe({title:"Despesa registrada!",description:"PIX registrado com sucesso."})}else{const P=parseInt(S);if(P<1||P>12){Oe({title:"Erro",description:"O nmero de parcelas deve estar entre 1 e 12.",variant:"destructive"});return}const W=R(F,P,d);r(W),Oe({title:"Despesa parcelada registrada!",description:`${P} parcelas de R$ ${(F/P).toFixed(2)} criadas.`})}D()}},D=()=>{a(""),u("Estoque"),h(new Date().toISOString().split("T")[0]),v(""),b("PIX"),k("2"),E("")};return p.jsxs($n,{className:"w-full shadow-lg rounded-xl border",children:[p.jsx(La,{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 rounded-t-xl",children:p.jsx(Ma,{className:"text-xl md:text-2xl font-bold text-foreground",children:e?"Editar Despesa":"Registrar Nova Despesa"})}),p.jsx(Jo,{className:"p-6",children:p.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ie,{htmlFor:"descricao",children:"Descrio da Despesa *"}),p.jsx(mt,{id:"descricao",value:o,onChange:U=>a(U.target.value),placeholder:"Ex: Compra de embalagens",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"categoria",children:"Categoria *"}),p.jsxs(Pd,{value:l,onValueChange:U=>u(U),children:[p.jsx(Xa,{id:"categoria",children:p.jsx(jd,{})}),p.jsxs(Za,{children:[p.jsx(pr,{value:"Estoque",children:"Estoque"}),p.jsx(pr,{value:"Embalagens",children:"Embalagens"}),p.jsx(pr,{value:"Fornecedor",children:"Fornecedor"}),p.jsx(pr,{value:"Despesa Operacional",children:"Despesa Operacional"}),p.jsx(pr,{value:"Outros",children:"Outros"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"data",children:"Data da Despesa *"}),p.jsx(mt,{id:"data",type:"date",value:d,onChange:U=>h(U.target.value),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"valorTotal",children:"Valor Total (R$) *"}),p.jsx(mt,{id:"valorTotal",type:"number",step:"0.01",min:"0.01",value:m,onChange:U=>v(U.target.value),placeholder:"0.00",required:!0})]}),!e&&p.jsxs("div",{children:[p.jsx(Ie,{children:"Forma de Pagamento *"}),p.jsxs(Ca,{value:y,onValueChange:U=>b(U),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"PIX",id:"pix"}),p.jsx(Ie,{htmlFor:"pix",className:"font-normal cursor-pointer",children:"PIX ( vista)"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"Parcelado",id:"parcelado"}),p.jsx(Ie,{htmlFor:"parcelado",className:"font-normal cursor-pointer",children:"Parcelado"})]})]})]}),!e&&y==="Parcelado"&&p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"parcelas",children:"Quantidade de Parcelas *"}),p.jsx(mt,{id:"parcelas",type:"number",min:"1",max:"12",value:S,onChange:U=>k(U.target.value),required:!0}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Entre 1 e 12 parcelas"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ie,{htmlFor:"observacao",children:"Observao (opcional)"}),p.jsx(ow,{id:"observacao",value:x,onChange:U=>E(U.target.value),placeholder:"Informaes adicionais...",rows:3})]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(ct,{type:"submit",className:"flex-1",children:e?"Atualizar Despesa":"Registrar Despesa"}),p.jsx(ct,{type:"button",variant:"outline",onClick:D,children:e?"Cancelar Edio":"Limpar"})]})]})})]})},gT=({expense:r,installments:e,isPaid:n=!1,onEdit:o,onDelete:a,getCategoryBadge:l,formatCurrency:u,formatDate:d})=>{const[h,m]=w.useState(!1),v=r.formaPagamento==="Parcelado"&&e&&e.length>1,y=r.formaPagamento==="Parcelado"&&r.parcelas&&r.parcelas>1?r.valorTotal*r.parcelas:r.valorTotal,b=r.valorTotal,S=n,k=Array.isArray(e)&&e.length>0?e.map(E=>new Date(E.data)).reduce((E,C)=>C<E?C:E,new Date(e[0].data)).toLocaleDateString("pt-BR"):d(r.data);return p.jsxs($n,{className:`w-full shadow-md hover:shadow-lg transition-shadow border ${S?"opacity-75 grayscale":""}`,children:[p.jsxs(La,{className:"pb-3 relative",children:[S&&p.jsx("div",{className:"absolute -rotate-12 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-500 text-2xl font-bold border-2 border-red-500 rounded px-2 py-1 z-10",children:"QUITADO"}),p.jsxs("div",{className:"flex items-start justify-between w-full",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx(Ma,{className:"text-lg font-semibold",children:r.descricao}),p.jsx(ng,{className:"text-sm",children:k})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-lg font-bold",children:[u(y)," ",r.formaPagamento==="Parcelado"&&p.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Total)"})]}),r.formaPagamento==="Parcelado"&&p.jsxs("div",{className:"text-sm text-muted-foreground",children:[u(b)," (",r.mesReferencia,")"]})]})]}),p.jsx("div",{className:"mt-2",children:l(r.categoria)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{variant:"outline",size:"icon",onClick:()=>o(r),title:"Editar despesa",children:p.jsx(Og,{className:"h-4 w-4"})}),p.jsxs(Jv,{children:[p.jsx(Yv,{asChild:!0,children:p.jsx(ct,{variant:"outline",size:"icon",title:"Excluir despesa",children:p.jsx(Ig,{className:"h-4 w-4 text-destructive"})})}),p.jsxs(hd,{children:[p.jsxs(pd,{children:[p.jsx(gd,{children:"Confirmar excluso"}),p.jsxs(vd,{children:["Tem certeza que deseja excluir esta despesa?",r.formaPagamento==="Parcelado"&&p.jsxs("span",{className:"block mt-2 font-semibold text-destructive",children:[" ATENO: Todas as ",r.parcelas," parcelas desta compra sero excludas permanentemente."]})]})]}),p.jsxs(md,{children:[p.jsx(wd,{children:"Cancelar"}),p.jsx(yd,{onClick:()=>a(r.grupo_id||r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})]})]}),p.jsxs(Jo,{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Vo,{variant:r.formaPagamento==="PIX"?"default":"outline",children:r.formaPagamento}),r.formaPagamento==="Parcelado"&&p.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.parcelaAtual||1,"/",r.parcelas," parcelas"]})]}),r.observacao&&(()=>{const x=r.observacao.replace(/\s*pago_em[:=]\s*\d{4}-\d{2}-\d{2}\s*/g," ").trim();return x?p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Observao"}),p.jsx("p",{className:"text-sm",children:x})]}):null})(),v&&p.jsxs(Au,{open:h,onOpenChange:m,children:[p.jsx(Ou,{asChild:!0,children:p.jsx("div",{className:"w-full",children:p.jsxs(ct,{variant:"outline",className:"w-full mt-2",onClick:()=>m(x=>!x),children:[p.jsx("span",{className:"flex-1 text-left",children:"VER MAIS"}),p.jsx(ed,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})})}),p.jsx(Iu,{className:"mt-3 space-y-2",children:p.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.sort((x,E)=>(x.parcelaAtual||0)-(E.parcelaAtual||0)).map((x,E)=>p.jsxs("div",{className:`p-3 flex items-center justify-between ${E!==e.length-1?"border-b":""} bg-muted/30`,children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium text-sm",children:["Parcela ",x.parcelaAtual,"/",x.parcelas]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:x.mesReferencia})]}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:"font-semibold",children:u(x.valorTotal)})})]},x.id))})})]})]})]})},vT=({expenses:r,onEditExpense:e,onDeleteExpense:n})=>{const o=m=>{const y={Estoque:{variant:"default",className:"bg-blue-500 hover:bg-blue-600"},Embalagens:{variant:"default",className:"bg-green-500 hover:bg-green-600"},Fornecedor:{variant:"default",className:"bg-purple-500 hover:bg-purple-600"},"Despesa Operacional":{variant:"default",className:"bg-orange-500 hover:bg-orange-600"},Outros:{variant:"secondary",className:""}}[m];return p.jsx(Vo,{variant:y.variant,className:y.className,children:m})},a=m=>m.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),l=m=>new Date(m).toLocaleDateString("pt-BR"),u=m=>{if(m.length===0||m[0].formaPagamento==="PIX")return!1;const v=new Date;return v.setHours(0,0,0,0),m.every(y=>{const b=new Date(y.data);return b.setHours(0,0,0,0),b<v})},d=r.reduce((m,v)=>{const y=v.grupo_id||v.id;return m[y]||(m[y]=[]),m[y].push(v),m},{}),h=Object.values(d).sort((m,v)=>{const y=u(m),b=u(v);if(y!==b)return y?1:-1;const S=Math.max(...m.map(x=>new Date(x.data).getTime()));return Math.max(...v.map(x=>new Date(x.data).getTime()))-S});return r.length===0?p.jsx($n,{className:"w-full shadow-lg rounded-xl border",children:p.jsx(Jo,{className:"p-8 text-center",children:p.jsx("p",{className:"text-muted-foreground",children:"Nenhuma despesa registrada neste perodo."})})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(m=>{const v=m[0],y=m.length>1,b=u(m);return p.jsx(gT,{expense:v,installments:y?m:void 0,isPaid:b,onEdit:e,onDelete:n,getCategoryBadge:o,formatCurrency:a,formatDate:l},v.id)})})},yT=()=>{const[r,e]=w.useState([]),[n,o]=w.useState("TODOS"),[a,l]=w.useState(null),[u,d]=w.useState(""),[h,m]=w.useState([]);w.useEffect(()=>{(async()=>{try{const{data:P,error:W}=await lt.from("sales").select(`
            *,
            products (*)
          `).order("created_at",{ascending:!1});if(W){console.error("Error fetching sales:",W);return}if(P&&P.length>0){const L=P.map(I=>({id:I.id,customerName:I.customer_name,purchaseDate:I.purchase_date,paymentDate:I.payment_date,paymentMethod:I.payment_method,installments:I.installments,installmentValues:Array.isArray(I.installment_values)?I.installment_values:[],installmentDates:Array.isArray(I.installment_dates)?I.installment_dates:[],advancePayment:I.advance_payment,discount:0,products:I.products?I.products.map(H=>({id:H.id,productRef:H.product_ref,productName:H.product_name,purchaseValue:H.purchase_value,saleValue:H.sale_value})):[]}));m(L)}}catch(P){console.error("Error fetching sales:",P)}})()},[]),w.useEffect(()=>{(async()=>{try{const{data:P,error:W}=await lt.from("expenses").select("*").order("created_at",{ascending:!1});if(W){console.error("Error fetching expenses:",W);return}if(P&&P.length>0){const L=P.map(I=>({id:I.id,grupo_id:I.grupo_id,descricao:I.descricao,categoria:I.categoria,data:I.data,valorTotal:I.valor_total,formaPagamento:I.forma_pagamento,parcelas:I.parcelas,parcelaAtual:I.parcela_atual,mesReferencia:I.mes_referencia,observacao:I.observacao}));e(L)}}catch(P){console.error("Error fetching expenses:",P)}})()},[]);const v=async F=>{try{for(const P of F){const{data:W,error:L}=await lt.from("expenses").insert({descricao:P.descricao,categoria:P.categoria,data:P.data,valor_total:P.valorTotal,forma_pagamento:P.formaPagamento,parcelas:P.parcelas??null,parcela_atual:P.parcelaAtual??null,mes_referencia:P.mesReferencia,observacao:P.observacao??null,grupo_id:P.grupo_id}).select("id").single();if(L)throw L;const I={...P,id:W.id};e(H=>[...H,I])}}catch(P){console.error("Error inserting expenses to Supabase:",P),e(W=>[...W,...F])}},y=async F=>{try{for(const P of F){const{error:W}=await lt.from("expenses").update({descricao:P.descricao,categoria:P.categoria,data:P.data,valor_total:P.valorTotal,observacao:P.observacao??null}).eq("id",P.id);if(W)throw W}e(P=>P.map(W=>F.find(I=>I.id===W.id)||W)),l(null)}catch(P){console.error("Error updating expense in Supabase:",P)}},b=F=>{l(F),window.scrollTo({top:0,behavior:"smooth"})},S=async F=>{try{const{error:P}=await lt.from("expenses").delete().eq("grupo_id",F);if(P)throw P;e(r.filter(W=>W.grupo_id!==F)),Oe({title:"Despesa excluda!",description:"Todas as parcelas foram removidas com sucesso."})}catch(P){console.error("Error deleting expense group from Supabase:",P),Oe({title:"Erro ao excluir",description:"Ocorreu um erro ao excluir a despesa.",variant:"destructive"})}},k=r.filter(F=>n==="TODOS"||F.mesReferencia===n).filter(F=>{if(!u)return!0;const P=u.toLowerCase(),W=F.descricao.toLowerCase().includes(P),L=F.valorTotal.toString().includes(u);return W||L}),x=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=Array.from(new Set(r.map(F=>F.mesReferencia))).sort((F,P)=>{const[W,L]=F.split(" "),[I,H]=P.split(" "),$=new Date(`${L}-${String(x.indexOf(W)+1).padStart(2,"0")}-01`),q=new Date(`${H}-${String(x.indexOf(I)+1).padStart(2,"0")}-01`);return $.getTime()-q.getTime()}),C=k.reduce((F,P)=>F+P.valorTotal,0);r.reduce((F,P)=>F+P.valorTotal,0);const R=h.reduce((F,P)=>{if(n==="TODOS")return P.paymentMethod==="pix"?F+P.products.reduce((W,L)=>W+L.saleValue,0):P.installmentValues?F+P.installmentValues.reduce((W,L)=>W+L,0):F;if(P.paymentMethod==="pix"){if(new Date(P.paymentDate).toLocaleString("pt-BR",{month:"long"}).replace(/^./,L=>L.toUpperCase())+" "+new Date(P.paymentDate).getFullYear()===n)return F+P.products.reduce((L,I)=>L+I.saleValue,0)}else if(P.installmentDates&&P.installmentValues){const W=P.installmentDates.findIndex(L=>new Date(L).toLocaleString("pt-BR",{month:"long"}).replace(/^./,H=>H.toUpperCase())+" "+new Date(L).getFullYear()===n);if(W>=0&&P.installmentValues[W])return F+P.installmentValues[W]}return F},0),N=k.reduce((F,P)=>(F[P.categoria]=(F[P.categoria]||0)+P.valorTotal,F),{}),[D,U]=Object.entries(N).sort(([,F],[,P])=>P-F)[0]||["Nenhuma",0];return r.length>0&&[...r].sort((F,P)=>new Date(P.data).getTime()-new Date(F.data).getTime())[0],p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("header",{className:"bg-card/70 backdrop-blur-md border-b border-border/40 shadow-md sticky top-0 z-50 backdrop-saturate-110",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:Xv,alt:"Ellas Concept",className:"h-12 md:h-16 w-auto rounded-lg"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent",children:"A Pagar"}),p.jsx("p",{className:"text-sm text-muted-foreground hidden md:block",children:"Controle de compras e despesas mensais"})]})]}),p.jsx("nav",{className:"flex gap-2",children:p.jsx(ct,{variant:"outline",asChild:!0,children:p.jsx(Jm,{to:"/",children:"Vendas"})})})]})})}),p.jsxs("main",{className:"container mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[p.jsxs("div",{className:"max-w-xs",children:[p.jsx(Ie,{htmlFor:"month-filter",children:"Filtrar por ms"}),p.jsxs(Pd,{value:n,onValueChange:o,children:[p.jsx(Xa,{id:"month-filter",children:p.jsx(jd,{placeholder:"Selecione o ms"})}),p.jsxs(Za,{children:[p.jsx(pr,{value:"TODOS",children:"TODOS"}),E.map(F=>p.jsx(pr,{value:F,children:F},F))]})]})]}),p.jsxs("div",{className:"flex-1 max-w-xs relative",children:[p.jsx(Ie,{htmlFor:"search",children:"Buscar"}),p.jsxs("div",{className:"relative",children:[p.jsx(mt,{id:"search",className:"pl-8",value:u,onChange:F=>d(F.target.value)}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-2xl mx-auto mb-6",children:[p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 p-4 rounded-xl shadow-lg border border-blue-100 dark:border-blue-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-blue-600 dark:text-blue-300 mb-1 group-hover:text-blue-700 transition-colors font-bold text-lg",children:["Total a receber",p.jsx("br",{}),p.jsxs("span",{className:"text-[10px] opacity-75",children:["(",n==="TODOS"?"Todos os meses":n,")"]})]}),p.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["R$ ",R.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 dark:from-rose-950/30 dark:to-red-950/30 p-4 rounded-xl shadow-lg border border-rose-100 dark:border-rose-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-rose-600 dark:text-rose-300 mb-1 group-hover:text-rose-700 transition-colors text-lg font-bold",children:["Total a Pagar",p.jsx("br",{}),p.jsxs("span",{className:"text-[10px] opacity-75",children:["(",n==="TODOS"?"Todos os meses":n,")"]})]}),p.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-rose-600 to-red-600 bg-clip-text text-transparent",children:["R$ ",C.toFixed(2)]})]})]}),n!=="TODOS"&&p.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:p.jsx("div",{className:`p-6 rounded-xl shadow-lg border-2 transition-all ${R>=C?"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-400 dark:border-green-600":"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-400 dark:border-red-600"}`,children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:`text-sm font-semibold mb-2 ${R>=C?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:R>=C?" Receitas cobrem as despesas":" Receitas no cobrem as despesas"}),p.jsxs("div",{className:"flex items-center justify-center gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs opacity-75",children:"Diferena"}),p.jsxs("p",{className:`text-3xl font-bold ${R>=C?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["R$ ",Math.abs(R-C).toFixed(2)]})]}),p.jsxs("div",{className:"text-xs opacity-75",children:[p.jsx("div",{children:R>=C?"de saldo positivo":"de dficit"}),p.jsx("div",{className:"mt-1 font-semibold",children:R>0?`(${((R-C)/R*100).toFixed(1)}%)`:""})]})]})]})})}),p.jsx("div",{className:"mb-8 max-w-[70%] mx-auto",children:p.jsx(mT,{onExpenseAdded:v,editingExpense:a,onExpenseUpdated:y})}),p.jsx(vT,{expenses:k,onEditExpense:b,onDeleteExpense:S})]})]})},wT=()=>{const r=Go();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},xT=()=>p.jsx(u_,{children:p.jsxs(n_,{children:[p.jsx(xa,{path:"/",element:p.jsx(pT,{})}),p.jsx(xa,{path:"/a-pagar",element:p.jsx(yT,{})}),p.jsx(xa,{path:"*",element:p.jsx(wT,{})})]})}),_T=ux.createRoot(document.getElementById("root"));_T.render(p.jsx(Nr.StrictMode,{children:p.jsx(xT,{})}));
