function sx(r,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Lm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hc={exports:{}},Ro={},qc={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function ox(){if(bp)return Re;bp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function E(A,J,he){this.props=A,this.context=J,this.refs=x,this.updater=he||S}E.prototype.isReactComponent={},E.prototype.setState=function(A,J){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,J,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=E.prototype;function T(A,J,he){this.props=A,this.context=J,this.refs=x,this.updater=he||S}var N=T.prototype=new C;N.constructor=T,k(N,E.prototype),N.isPureReactComponent=!0;var I=Array.isArray,z=Object.prototype.hasOwnProperty,M={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function q(A,J,he){var we,be={},ve=null,oe=null;if(J!=null)for(we in J.ref!==void 0&&(oe=J.ref),J.key!==void 0&&(ve=""+J.key),J)z.call(J,we)&&!j.hasOwnProperty(we)&&(be[we]=J[we]);var fe=arguments.length-2;if(fe===1)be.children=he;else if(1<fe){for(var Se=Array(fe),Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];be.children=Se}if(A&&A.defaultProps)for(we in fe=A.defaultProps,fe)be[we]===void 0&&(be[we]=fe[we]);return{$$typeof:r,type:A,key:ve,ref:oe,props:be,_owner:M.current}}function K(A,J){return{$$typeof:r,type:A.type,key:J,ref:A.ref,props:A.props,_owner:A._owner}}function D(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function V(A){var J={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(he){return J[he]})}var G=/\/+/g;function W(A,J){return typeof A=="object"&&A!==null&&A.key!=null?V(""+A.key):J.toString(36)}function Z(A,J,he,we,be){var ve=typeof A;(ve==="undefined"||ve==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(ve){case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case r:case e:oe=!0}}if(oe)return oe=A,be=be(oe),A=we===""?"."+W(oe,0):we,I(be)?(he="",A!=null&&(he=A.replace(G,"$&/")+"/"),Z(be,J,he,"",function(Ee){return Ee})):be!=null&&(D(be)&&(be=K(be,he+(!be.key||oe&&oe.key===be.key?"":(""+be.key).replace(G,"$&/")+"/")+A)),J.push(be)),1;if(oe=0,we=we===""?".":we+":",I(A))for(var fe=0;fe<A.length;fe++){ve=A[fe];var Se=we+W(ve,fe);oe+=Z(ve,J,he,Se,be)}else if(Se=b(A),typeof Se=="function")for(A=Se.call(A),fe=0;!(ve=A.next()).done;)ve=ve.value,Se=we+W(ve,fe++),oe+=Z(ve,J,he,Se,be);else if(ve==="object")throw J=String(A),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return oe}function se(A,J,he){if(A==null)return A;var we=[],be=0;return Z(A,we,"","",function(ve){return J.call(he,ve,be++)}),we}function H(A){if(A._status===-1){var J=A._result;J=J(),J.then(function(he){(A._status===0||A._status===-1)&&(A._status=1,A._result=he)},function(he){(A._status===0||A._status===-1)&&(A._status=2,A._result=he)}),A._status===-1&&(A._status=0,A._result=J)}if(A._status===1)return A._result.default;throw A._result}var Y={current:null},$={transition:null},U={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:M};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:se,forEach:function(A,J,he){se(A,function(){J.apply(this,arguments)},he)},count:function(A){var J=0;return se(A,function(){J++}),J},toArray:function(A){return se(A,function(J){return J})||[]},only:function(A){if(!D(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Re.Component=E,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=T,Re.StrictMode=o,Re.Suspense=h,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Re.act=Q,Re.cloneElement=function(A,J,he){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var we=k({},A.props),be=A.key,ve=A.ref,oe=A._owner;if(J!=null){if(J.ref!==void 0&&(ve=J.ref,oe=M.current),J.key!==void 0&&(be=""+J.key),A.type&&A.type.defaultProps)var fe=A.type.defaultProps;for(Se in J)z.call(J,Se)&&!j.hasOwnProperty(Se)&&(we[Se]=J[Se]===void 0&&fe!==void 0?fe[Se]:J[Se])}var Se=arguments.length-2;if(Se===1)we.children=he;else if(1<Se){fe=Array(Se);for(var Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];we.children=fe}return{$$typeof:r,type:A.type,key:be,ref:ve,props:we,_owner:oe}},Re.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Re.createElement=q,Re.createFactory=function(A){var J=q.bind(null,A);return J.type=A,J},Re.createRef=function(){return{current:null}},Re.forwardRef=function(A){return{$$typeof:d,render:A}},Re.isValidElement=D,Re.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:H}},Re.memo=function(A,J){return{$$typeof:m,type:A,compare:J===void 0?null:J}},Re.startTransition=function(A){var J=$.transition;$.transition={};try{A()}finally{$.transition=J}},Re.unstable_act=Q,Re.useCallback=function(A,J){return Y.current.useCallback(A,J)},Re.useContext=function(A){return Y.current.useContext(A)},Re.useDebugValue=function(){},Re.useDeferredValue=function(A){return Y.current.useDeferredValue(A)},Re.useEffect=function(A,J){return Y.current.useEffect(A,J)},Re.useId=function(){return Y.current.useId()},Re.useImperativeHandle=function(A,J,he){return Y.current.useImperativeHandle(A,J,he)},Re.useInsertionEffect=function(A,J){return Y.current.useInsertionEffect(A,J)},Re.useLayoutEffect=function(A,J){return Y.current.useLayoutEffect(A,J)},Re.useMemo=function(A,J){return Y.current.useMemo(A,J)},Re.useReducer=function(A,J,he){return Y.current.useReducer(A,J,he)},Re.useRef=function(A){return Y.current.useRef(A)},Re.useState=function(A){return Y.current.useState(A)},Re.useSyncExternalStore=function(A,J,he){return Y.current.useSyncExternalStore(A,J,he)},Re.useTransition=function(){return Y.current.useTransition()},Re.version="18.3.1",Re}var Sp;function Ku(){return Sp||(Sp=1,qc.exports=ox()),qc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function ix(){if(Ep)return Ro;Ep=1;var r=Ku(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var v,y={},b=null,S=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)o.call(h,v)&&!l.hasOwnProperty(v)&&(y[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:d,key:b,ref:S,props:y,_owner:a.current}}return Ro.Fragment=n,Ro.jsx=u,Ro.jsxs=u,Ro}var kp;function ax(){return kp||(kp=1,Hc.exports=ix()),Hc.exports}var p=ax(),w=Ku();const Nr=Lm(w),Gu=sx({__proto__:null,default:Nr},[w]);var aa={},Kc={exports:{}},Ot={},Gc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function lx(){return Cp||(Cp=1,(function(r){function e($,U){var Q=$.length;$.push(U);e:for(;0<Q;){var A=Q-1>>>1,J=$[A];if(0<a(J,U))$[A]=U,$[Q]=J,Q=A;else break e}}function n($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var U=$[0],Q=$.pop();if(Q!==U){$[0]=Q;e:for(var A=0,J=$.length,he=J>>>1;A<he;){var we=2*(A+1)-1,be=$[we],ve=we+1,oe=$[ve];if(0>a(be,Q))ve<J&&0>a(oe,be)?($[A]=oe,$[ve]=Q,A=ve):($[A]=be,$[we]=Q,A=we);else if(ve<J&&0>a(oe,Q))$[A]=oe,$[ve]=Q,A=ve;else break e}}return U}function a($,U){var Q=$.sortIndex-U.sortIndex;return Q!==0?Q:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,y=null,b=3,S=!1,k=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var U=n(m);U!==null;){if(U.callback===null)o(m);else if(U.startTime<=$)o(m),U.sortIndex=U.expirationTime,e(h,U);else break;U=n(m)}}function I($){if(x=!1,N($),!k)if(n(h)!==null)k=!0,H(z);else{var U=n(m);U!==null&&Y(I,U.startTime-$)}}function z($,U){k=!1,x&&(x=!1,C(q),q=-1),S=!0;var Q=b;try{for(N(U),y=n(h);y!==null&&(!(y.expirationTime>U)||$&&!V());){var A=y.callback;if(typeof A=="function"){y.callback=null,b=y.priorityLevel;var J=A(y.expirationTime<=U);U=r.unstable_now(),typeof J=="function"?y.callback=J:y===n(h)&&o(h),N(U)}else o(h);y=n(h)}if(y!==null)var he=!0;else{var we=n(m);we!==null&&Y(I,we.startTime-U),he=!1}return he}finally{y=null,b=Q,S=!1}}var M=!1,j=null,q=-1,K=5,D=-1;function V(){return!(r.unstable_now()-D<K)}function G(){if(j!==null){var $=r.unstable_now();D=$;var U=!0;try{U=j(!0,$)}finally{U?W():(M=!1,j=null)}}else M=!1}var W;if(typeof T=="function")W=function(){T(G)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=G,W=function(){se.postMessage(null)}}else W=function(){E(G,0)};function H($){j=$,M||(M=!0,W())}function Y($,U){q=E(function(){$(r.unstable_now())},U)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){k||S||(k=!0,H(z))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return n(h)},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var U=3;break;default:U=b}var Q=b;b=U;try{return $()}finally{b=Q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=b;b=$;try{return U()}finally{b=Q}},r.unstable_scheduleCallback=function($,U,Q){var A=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?A+Q:A):Q=A,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Q+J,$={id:v++,callback:U,priorityLevel:$,startTime:Q,expirationTime:J,sortIndex:-1},Q>A?($.sortIndex=Q,e(m,$),n(h)===null&&$===n(m)&&(x?(C(q),q=-1):x=!0,Y(I,Q-A))):($.sortIndex=J,e(h,$),k||S||(k=!0,H(z))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var U=b;return function(){var Q=b;b=U;try{return $.apply(this,arguments)}finally{b=Q}}}})(Jc)),Jc}var Rp;function cx(){return Rp||(Rp=1,Gc.exports=lx()),Gc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function ux(){if(Tp)return Ot;Tp=1;var r=Ku(),e=cx();function n(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)o.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function b(t){return h.call(y,t)?!0:h.call(v,t)?!1:m.test(t)?y[t]=!0:(v[t]=!0,!1)}function S(t,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,s,i,c){if(s===null||typeof s>"u"||S(t,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(t,s,i,c,f,g,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=t,this.type=s,this.sanitizeURL=g,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new x(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];E[s]=new x(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new x(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new x(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new x(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new x(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new x(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new x(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new x(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(C,T);E[s]=new x(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(C,T);E[s]=new x(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(C,T);E[s]=new x(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new x(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new x(t,1,!1,t.toLowerCase(),null,!0,!0)});function N(t,s,i,c){var f=E.hasOwnProperty(s)?E[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,i,f,c)&&(i=null),c||f===null?b(s)&&(i===null?t.removeAttribute(s):t.setAttribute(s,""+i)):f.mustUseProperty?t[f.propertyName]=i===null?f.type===3?!1:"":i:(s=f.attributeName,c=f.attributeNamespace,i===null?t.removeAttribute(s):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,c?t.setAttributeNS(c,s,i):t.setAttribute(s,i))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,A;function J(t){if(A===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+t}var he=!1;function we(t,s){if(!t||he)return"";he=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(t,[],s)}else{try{s.call()}catch(B){c=B}t.call(s.prototype)}else{try{throw Error()}catch(B){c=B}t()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=c.stack.split(`
`),_=f.length-1,R=g.length-1;1<=_&&0<=R&&f[_]!==g[R];)R--;for(;1<=_&&0<=R;_--,R--)if(f[_]!==g[R]){if(_!==1||R!==1)do if(_--,R--,0>R||f[_]!==g[R]){var P=`
`+f[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=R);break}}}finally{he=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?J(t):""}function be(t){switch(t.tag){case 5:return J(t.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case M:return"Portal";case K:return"Profiler";case q:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case G:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case se:return s=t.displayName||null,s!==null?s:ve(t.type)||"Memo";case H:s=t._payload,t=t._init;try{return ve(t(s))}catch{}}return null}function oe(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Se(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ee(t){var s=Se(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,g.call(this,_)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Oe(t){t._valueTracker||(t._valueTracker=Ee(t))}function ze(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return t&&(c=Se(t)?t.checked?"true":"false":t.value),t=c,t!==i?(s.setValue(t),!0):!1}function st(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function re(t,s){var i=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function _e(t,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=fe(s.value!=null?s.value:i),t._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ke(t,s){s=s.checked,s!=null&&N(t,"checked",s,!1)}function Ie(t,s){ke(t,s);var i=fe(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ut(t,s.type,i):s.hasOwnProperty("defaultValue")&&ut(t,s.type,fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function ot(t,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,i||s===t.value||(t.value=s),t.defaultValue=s}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function ut(t,s,i){(s!=="number"||st(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Xe=Array.isArray;function dt(t,s,i,c){if(t=t.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=s.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&c&&(t[i].defaultSelected=!0)}else{for(i=""+fe(i),s=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function gt(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function It(t,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(Xe(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}t._wrapperState={initialValue:fe(i)}}function mn(t,s){var i=fe(s.value),c=fe(s.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),s.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),c!=null&&(t.defaultValue=""+c)}function Vt(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rl(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Id(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zo,Dd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,f){MSApp.execUnsafeLocalFunction(function(){return t(s,i,c,f)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Vs(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(t){lw.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Bs[s]=Bs[t]})});function $d(t,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||Bs.hasOwnProperty(t)&&Bs[t]?(""+s).trim():s+"px"}function Ld(t,s){t=t.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,f=$d(i,s[i],c);i==="float"&&(i="cssFloat"),c?t.setProperty(i,f):t[i]=f}}var cw=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(t,s){if(s){if(cw[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function sl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=null;function il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var al=null,Bn=null,Wn=null;function Md(t){if(t=fo(t)){if(typeof al!="function")throw Error(n(280));var s=t.stateNode;s&&(s=bi(s),al(t.stateNode,t.type,s))}}function Fd(t){Bn?Wn?Wn.push(t):Wn=[t]:Bn=t}function Ud(){if(Bn){var t=Bn,s=Wn;if(Wn=Bn=null,Md(t),s)for(t=0;t<s.length;t++)Md(s[t])}}function zd(t,s){return t(s)}function Vd(){}var ll=!1;function Bd(t,s,i){if(ll)return t(s,i);ll=!0;try{return zd(t,s,i)}finally{ll=!1,(Bn!==null||Wn!==null)&&(Vd(),Ud())}}function Ws(t,s){var i=t.stateNode;if(i===null)return null;var c=bi(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var cl=!1;if(d)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{cl=!1}function uw(t,s,i,c,f,g,_,R,P){var B=Array.prototype.slice.call(arguments,3);try{s.apply(i,B)}catch(ee){this.onError(ee)}}var qs=!1,ei=null,ti=!1,ul=null,dw={onError:function(t){qs=!0,ei=t}};function fw(t,s,i,c,f,g,_,R,P){qs=!1,ei=null,uw.apply(dw,arguments)}function hw(t,s,i,c,f,g,_,R,P){if(fw.apply(this,arguments),qs){if(qs){var B=ei;qs=!1,ei=null}else throw Error(n(198));ti||(ti=!0,ul=B)}}function gn(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function Wd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Hd(t){if(gn(t)!==t)throw Error(n(188))}function pw(t){var s=t.alternate;if(!s){if(s=gn(t),s===null)throw Error(n(188));return s!==t?null:t}for(var i=t,c=s;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return Hd(f),t;if(g===c)return Hd(f),s;g=g.sibling}throw Error(n(188))}if(i.return!==c.return)i=f,c=g;else{for(var _=!1,R=f.child;R;){if(R===i){_=!0,i=f,c=g;break}if(R===c){_=!0,c=f,i=g;break}R=R.sibling}if(!_){for(R=g.child;R;){if(R===i){_=!0,i=g,c=f;break}if(R===c){_=!0,c=g,i=f;break}R=R.sibling}if(!_)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?t:s}function qd(t){return t=pw(t),t!==null?Kd(t):null}function Kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Kd(t);if(s!==null)return s;t=t.sibling}return null}var Gd=e.unstable_scheduleCallback,Jd=e.unstable_cancelCallback,mw=e.unstable_shouldYield,gw=e.unstable_requestPaint,Ze=e.unstable_now,vw=e.unstable_getCurrentPriorityLevel,dl=e.unstable_ImmediatePriority,Yd=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,yw=e.unstable_LowPriority,Qd=e.unstable_IdlePriority,ni=null,lr=null;function ww(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:bw,xw=Math.log,_w=Math.LN2;function bw(t){return t>>>=0,t===0?32:31-(xw(t)/_w|0)|0}var si=64,oi=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,s){var i=t.pendingLanes;if(i===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes,_=i&268435455;if(_!==0){var R=_&~f;R!==0?c=Ks(R):(g&=_,g!==0&&(c=Ks(g)))}else _=i&~f,_!==0?c=Ks(_):g!==0&&(c=Ks(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)i=31-Jt(s),f=1<<i,c|=t[i],s&=~f;return c}function Sw(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ew(t,s){for(var i=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes;0<g;){var _=31-Jt(g),R=1<<_,P=f[_];P===-1?((R&i)===0||(R&c)!==0)&&(f[_]=Sw(R,s)):P<=s&&(t.expiredLanes|=R),g&=~R}}function fl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xd(){var t=si;return si<<=1,(si&4194240)===0&&(si=64),t}function hl(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function Gs(t,s,i){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Jt(s),t[s]=i}function kw(t,s){var i=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<i;){var f=31-Jt(i),g=1<<f;s[f]=0,c[f]=-1,t[f]=-1,i&=~g}}function pl(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var c=31-Jt(i),f=1<<c;f&s|t[c]&s&&(t[c]|=s),i&=~f}}var $e=0;function Zd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var ef,ml,tf,rf,nf,gl=!1,ai=[],$r=null,Lr=null,Mr=null,Js=new Map,Ys=new Map,Fr=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(t,s){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Js.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(s.pointerId)}}function Qs(t,s,i,c,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=fo(s),s!==null&&ml(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function Rw(t,s,i,c,f){switch(s){case"focusin":return $r=Qs($r,t,s,i,c,f),!0;case"dragenter":return Lr=Qs(Lr,t,s,i,c,f),!0;case"mouseover":return Mr=Qs(Mr,t,s,i,c,f),!0;case"pointerover":var g=f.pointerId;return Js.set(g,Qs(Js.get(g)||null,t,s,i,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Ys.set(g,Qs(Ys.get(g)||null,t,s,i,c,f)),!0}return!1}function of(t){var s=vn(t.target);if(s!==null){var i=gn(s);if(i!==null){if(s=i.tag,s===13){if(s=Wd(i),s!==null){t.blockedOn=s,nf(t.priority,function(){tf(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function li(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=yl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);ol=c,i.target.dispatchEvent(c),ol=null}else return s=fo(i),s!==null&&ml(s),t.blockedOn=i,!1;s.shift()}return!0}function af(t,s,i){li(t)&&i.delete(s)}function Tw(){gl=!1,$r!==null&&li($r)&&($r=null),Lr!==null&&li(Lr)&&(Lr=null),Mr!==null&&li(Mr)&&(Mr=null),Js.forEach(af),Ys.forEach(af)}function Xs(t,s){t.blockedOn===s&&(t.blockedOn=null,gl||(gl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tw)))}function Zs(t){function s(f){return Xs(f,t)}if(0<ai.length){Xs(ai[0],t);for(var i=1;i<ai.length;i++){var c=ai[i];c.blockedOn===t&&(c.blockedOn=null)}}for($r!==null&&Xs($r,t),Lr!==null&&Xs(Lr,t),Mr!==null&&Xs(Mr,t),Js.forEach(s),Ys.forEach(s),i=0;i<Fr.length;i++)c=Fr[i],c.blockedOn===t&&(c.blockedOn=null);for(;0<Fr.length&&(i=Fr[0],i.blockedOn===null);)of(i),i.blockedOn===null&&Fr.shift()}var Hn=I.ReactCurrentBatchConfig,ci=!0;function Nw(t,s,i,c){var f=$e,g=Hn.transition;Hn.transition=null;try{$e=1,vl(t,s,i,c)}finally{$e=f,Hn.transition=g}}function Pw(t,s,i,c){var f=$e,g=Hn.transition;Hn.transition=null;try{$e=4,vl(t,s,i,c)}finally{$e=f,Hn.transition=g}}function vl(t,s,i,c){if(ci){var f=yl(t,s,i,c);if(f===null)Dl(t,s,c,ui,i),sf(t,c);else if(Rw(f,t,s,i,c))c.stopPropagation();else if(sf(t,c),s&4&&-1<Cw.indexOf(t)){for(;f!==null;){var g=fo(f);if(g!==null&&ef(g),g=yl(t,s,i,c),g===null&&Dl(t,s,c,ui,i),g===f)break;f=g}f!==null&&c.stopPropagation()}else Dl(t,s,c,null,i)}}var ui=null;function yl(t,s,i,c){if(ui=null,t=il(c),t=vn(t),t!==null)if(s=gn(t),s===null)t=null;else if(i=s.tag,i===13){if(t=Wd(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ui=t,null}function lf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vw()){case dl:return 1;case Yd:return 4;case ri:case yw:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Ur=null,wl=null,di=null;function cf(){if(di)return di;var t,s=wl,i=s.length,c,f="value"in Ur?Ur.value:Ur.textContent,g=f.length;for(t=0;t<i&&s[t]===f[t];t++);var _=i-t;for(c=1;c<=_&&s[i-c]===f[g-c];c++);return di=f.slice(t,1<c?1-c:void 0)}function fi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function uf(){return!1}function Dt(t){function s(i,c,f,g,_){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(i=t[R],this[R]=i?i(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:uf,this.isPropagationStopped=uf,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),s}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Dt(qn),eo=Q({},qn,{view:0,detail:0}),jw=Dt(eo),_l,bl,to,pi=Q({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(_l=t.screenX-to.screenX,bl=t.screenY-to.screenY):bl=_l=0,to=t),_l)},movementY:function(t){return"movementY"in t?t.movementY:bl}}),df=Dt(pi),Aw=Q({},pi,{dataTransfer:0}),Ow=Dt(Aw),Iw=Q({},eo,{relatedTarget:0}),Sl=Dt(Iw),Dw=Q({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=Dt(Dw),Lw=Q({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mw=Dt(Lw),Fw=Q({},qn,{data:0}),ff=Dt(Fw),Uw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bw(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Vw[t])?!!s[t]:!1}function El(){return Bw}var Ww=Q({},eo,{key:function(t){if(t.key){var s=Uw[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hw=Dt(Ww),qw=Q({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=Dt(qw),Kw=Q({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),Gw=Dt(Kw),Jw=Q({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=Dt(Jw),Qw=Q({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xw=Dt(Qw),Zw=[9,13,27,32],kl=d&&"CompositionEvent"in window,ro=null;d&&"documentMode"in document&&(ro=document.documentMode);var e0=d&&"TextEvent"in window&&!ro,pf=d&&(!kl||ro&&8<ro&&11>=ro),mf=" ",gf=!1;function vf(t,s){switch(t){case"keyup":return Zw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kn=!1;function t0(t,s){switch(t){case"compositionend":return yf(s);case"keypress":return s.which!==32?null:(gf=!0,mf);case"textInput":return t=s.data,t===mf&&gf?null:t;default:return null}}function r0(t,s){if(Kn)return t==="compositionend"||!kl&&vf(t,s)?(t=cf(),di=wl=Ur=null,Kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return pf&&s.locale!=="ko"?null:s.data;default:return null}}var n0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!n0[t.type]:s==="textarea"}function xf(t,s,i,c){Fd(c),s=wi(s,"onChange"),0<s.length&&(i=new xl("onChange","change",null,i,c),t.push({event:i,listeners:s}))}var no=null,so=null;function s0(t){Mf(t,0)}function mi(t){var s=Xn(t);if(ze(s))return t}function o0(t,s){if(t==="change")return s}var _f=!1;if(d){var Cl;if(d){var Rl="oninput"in document;if(!Rl){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Rl=typeof bf.oninput=="function"}Cl=Rl}else Cl=!1;_f=Cl&&(!document.documentMode||9<document.documentMode)}function Sf(){no&&(no.detachEvent("onpropertychange",Ef),so=no=null)}function Ef(t){if(t.propertyName==="value"&&mi(so)){var s=[];xf(s,so,t,il(t)),Bd(s0,s)}}function i0(t,s,i){t==="focusin"?(Sf(),no=s,so=i,no.attachEvent("onpropertychange",Ef)):t==="focusout"&&Sf()}function a0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mi(so)}function l0(t,s){if(t==="click")return mi(s)}function c0(t,s){if(t==="input"||t==="change")return mi(s)}function u0(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Yt=typeof Object.is=="function"?Object.is:u0;function oo(t,s){if(Yt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!h.call(s,f)||!Yt(t[f],s[f]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cf(t,s){var i=kf(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=s&&c>=s)return{node:i,offset:s-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kf(i)}}function Rf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Tf(){for(var t=window,s=st();s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=st(t.document)}return s}function Tl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function d0(t){var s=Tf(),i=t.focusedElem,c=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&Rf(i.ownerDocument.documentElement,i)){if(c!==null&&Tl(i)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(t,i.value.length);else if(t=(s=i.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var f=i.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!t.extend&&g>c&&(f=c,c=g,g=f),f=Cf(i,g);var _=Cf(i,c);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),t.removeAllRanges(),g>c?(t.addRange(s),t.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),t.addRange(s)))}}for(s=[],t=i;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)t=s[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f0=d&&"documentMode"in document&&11>=document.documentMode,Gn=null,Nl=null,io=null,Pl=!1;function Nf(t,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Pl||Gn==null||Gn!==st(c)||(c=Gn,"selectionStart"in c&&Tl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),io&&oo(io,c)||(io=c,c=wi(Nl,"onSelect"),0<c.length&&(s=new xl("onSelect","select",null,s,i),t.push({event:s,listeners:c}),s.target=Gn)))}function gi(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var Jn={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},jl={},Pf={};d&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function vi(t){if(jl[t])return jl[t];if(!Jn[t])return t;var s=Jn[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in Pf)return jl[t]=s[i];return t}var jf=vi("animationend"),Af=vi("animationiteration"),Of=vi("animationstart"),If=vi("transitionend"),Df=new Map,$f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,s){Df.set(t,s),l(s,[t])}for(var Al=0;Al<$f.length;Al++){var Ol=$f[Al],h0=Ol.toLowerCase(),p0=Ol[0].toUpperCase()+Ol.slice(1);zr(h0,"on"+p0)}zr(jf,"onAnimationEnd"),zr(Af,"onAnimationIteration"),zr(Of,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(If,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Lf(t,s,i){var c=t.type||"unknown-event";t.currentTarget=i,hw(c,s,void 0,t),t.currentTarget=null}function Mf(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var _=c.length-1;0<=_;_--){var R=c[_],P=R.instance,B=R.currentTarget;if(R=R.listener,P!==g&&f.isPropagationStopped())break e;Lf(f,R,B),g=P}else for(_=0;_<c.length;_++){if(R=c[_],P=R.instance,B=R.currentTarget,R=R.listener,P!==g&&f.isPropagationStopped())break e;Lf(f,R,B),g=P}}}if(ti)throw t=ul,ti=!1,ul=null,t}function Ve(t,s){var i=s[zl];i===void 0&&(i=s[zl]=new Set);var c=t+"__bubble";i.has(c)||(Ff(s,t,2,!1),i.add(c))}function Il(t,s,i){var c=0;s&&(c|=4),Ff(i,t,c,s)}var yi="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[yi]){t[yi]=!0,o.forEach(function(i){i!=="selectionchange"&&(m0.has(i)||Il(i,!1,t),Il(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yi]||(s[yi]=!0,Il("selectionchange",!1,s))}}function Ff(t,s,i,c){switch(lf(s)){case 1:var f=Nw;break;case 4:f=Pw;break;default:f=vl}i=f.bind(null,s,i,t),f=void 0,!cl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,i,{capture:!0,passive:f}):t.addEventListener(s,i,!0):f!==void 0?t.addEventListener(s,i,{passive:f}):t.addEventListener(s,i,!1)}function Dl(t,s,i,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var R=c.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;R!==null;){if(_=vn(R),_===null)return;if(P=_.tag,P===5||P===6){c=g=_;continue e}R=R.parentNode}}c=c.return}Bd(function(){var B=g,ee=il(i),te=[];e:{var X=Df.get(t);if(X!==void 0){var ie=xl,le=t;switch(t){case"keypress":if(fi(i)===0)break e;case"keydown":case"keyup":ie=Hw;break;case"focusin":le="focus",ie=Sl;break;case"focusout":le="blur",ie=Sl;break;case"beforeblur":case"afterblur":ie=Sl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Gw;break;case jf:case Af:case Of:ie=$w;break;case If:ie=Yw;break;case"scroll":ie=jw;break;case"wheel":ie=Xw;break;case"copy":case"cut":case"paste":ie=Mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=hf}var ce=(s&4)!==0,et=!ce&&t==="scroll",L=ce?X!==null?X+"Capture":null:X;ce=[];for(var O=B,F;O!==null;){F=O;var ne=F.stateNode;if(F.tag===5&&ne!==null&&(F=ne,L!==null&&(ne=Ws(O,L),ne!=null&&ce.push(co(O,ne,F)))),et)break;O=O.return}0<ce.length&&(X=new ie(X,le,null,i,ee),te.push({event:X,listeners:ce}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",X&&i!==ol&&(le=i.relatedTarget||i.fromElement)&&(vn(le)||le[xr]))break e;if((ie||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,ie?(le=i.relatedTarget||i.toElement,ie=B,le=le?vn(le):null,le!==null&&(et=gn(le),le!==et||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ce=df,ne="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ce=hf,ne="onPointerLeave",L="onPointerEnter",O="pointer"),et=ie==null?X:Xn(ie),F=le==null?X:Xn(le),X=new ce(ne,O+"leave",ie,i,ee),X.target=et,X.relatedTarget=F,ne=null,vn(ee)===B&&(ce=new ce(L,O+"enter",le,i,ee),ce.target=F,ce.relatedTarget=et,ne=ce),et=ne,ie&&le)t:{for(ce=ie,L=le,O=0,F=ce;F;F=Yn(F))O++;for(F=0,ne=L;ne;ne=Yn(ne))F++;for(;0<O-F;)ce=Yn(ce),O--;for(;0<F-O;)L=Yn(L),F--;for(;O--;){if(ce===L||L!==null&&ce===L.alternate)break t;ce=Yn(ce),L=Yn(L)}ce=null}else ce=null;ie!==null&&Uf(te,X,ie,ce,!1),le!==null&&et!==null&&Uf(te,et,le,ce,!0)}}e:{if(X=B?Xn(B):window,ie=X.nodeName&&X.nodeName.toLowerCase(),ie==="select"||ie==="input"&&X.type==="file")var ue=o0;else if(wf(X))if(_f)ue=c0;else{ue=a0;var pe=i0}else(ie=X.nodeName)&&ie.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ue=l0);if(ue&&(ue=ue(t,B))){xf(te,ue,i,ee);break e}pe&&pe(t,X,B),t==="focusout"&&(pe=X._wrapperState)&&pe.controlled&&X.type==="number"&&ut(X,"number",X.value)}switch(pe=B?Xn(B):window,t){case"focusin":(wf(pe)||pe.contentEditable==="true")&&(Gn=pe,Nl=B,io=null);break;case"focusout":io=Nl=Gn=null;break;case"mousedown":Pl=!0;break;case"contextmenu":case"mouseup":case"dragend":Pl=!1,Nf(te,i,ee);break;case"selectionchange":if(f0)break;case"keydown":case"keyup":Nf(te,i,ee)}var me;if(kl)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Kn?vf(t,i)&&(xe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(pf&&i.locale!=="ko"&&(Kn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Kn&&(me=cf()):(Ur=ee,wl="value"in Ur?Ur.value:Ur.textContent,Kn=!0)),pe=wi(B,xe),0<pe.length&&(xe=new ff(xe,t,null,i,ee),te.push({event:xe,listeners:pe}),me?xe.data=me:(me=yf(i),me!==null&&(xe.data=me)))),(me=e0?t0(t,i):r0(t,i))&&(B=wi(B,"onBeforeInput"),0<B.length&&(ee=new ff("onBeforeInput","beforeinput",null,i,ee),te.push({event:ee,listeners:B}),ee.data=me))}Mf(te,s)})}function co(t,s,i){return{instance:t,listener:s,currentTarget:i}}function wi(t,s){for(var i=s+"Capture",c=[];t!==null;){var f=t,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ws(t,i),g!=null&&c.unshift(co(t,g,f)),g=Ws(t,s),g!=null&&c.push(co(t,g,f))),t=t.return}return c}function Yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uf(t,s,i,c,f){for(var g=s._reactName,_=[];i!==null&&i!==c;){var R=i,P=R.alternate,B=R.stateNode;if(P!==null&&P===c)break;R.tag===5&&B!==null&&(R=B,f?(P=Ws(i,g),P!=null&&_.unshift(co(i,P,R))):f||(P=Ws(i,g),P!=null&&_.push(co(i,P,R)))),i=i.return}_.length!==0&&t.push({event:s,listeners:_})}var g0=/\r\n?/g,v0=/\u0000|\uFFFD/g;function zf(t){return(typeof t=="string"?t:""+t).replace(g0,`
`).replace(v0,"")}function xi(t,s,i){if(s=zf(s),zf(t)!==s&&i)throw Error(n(425))}function _i(){}var $l=null,Ll=null;function Ml(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,y0=typeof clearTimeout=="function"?clearTimeout:void 0,Vf=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vf<"u"?function(t){return Vf.resolve(null).then(t).catch(x0)}:Fl;function x0(t){setTimeout(function(){throw t})}function Ul(t,s){var i=s,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(c===0){t.removeChild(f),Zs(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=f}while(i);Zs(s)}function Vr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Bf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),cr="__reactFiber$"+Qn,uo="__reactProps$"+Qn,xr="__reactContainer$"+Qn,zl="__reactEvents$"+Qn,_0="__reactListeners$"+Qn,b0="__reactHandles$"+Qn;function vn(t){var s=t[cr];if(s)return s;for(var i=t.parentNode;i;){if(s=i[xr]||i[cr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=Bf(t);t!==null;){if(i=t[cr])return i;t=Bf(t)}return s}t=i,i=t.parentNode}return null}function fo(t){return t=t[cr]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function bi(t){return t[uo]||null}var Vl=[],Zn=-1;function Br(t){return{current:t}}function Be(t){0>Zn||(t.current=Vl[Zn],Vl[Zn]=null,Zn--)}function Fe(t,s){Zn++,Vl[Zn]=t.current,t.current=s}var Wr={},bt=Br(Wr),Tt=Br(!1),yn=Wr;function es(t,s){var i=t.type.contextTypes;if(!i)return Wr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in i)f[g]=s[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=f),f}function Nt(t){return t=t.childContextTypes,t!=null}function Si(){Be(Tt),Be(bt)}function Wf(t,s,i){if(bt.current!==Wr)throw Error(n(168));Fe(bt,s),Fe(Tt,i)}function Hf(t,s,i){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,oe(t)||"Unknown",f));return Q({},i,c)}function Ei(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,yn=bt.current,Fe(bt,t),Fe(Tt,Tt.current),!0}function qf(t,s,i){var c=t.stateNode;if(!c)throw Error(n(169));i?(t=Hf(t,s,yn),c.__reactInternalMemoizedMergedChildContext=t,Be(Tt),Be(bt),Fe(bt,t)):Be(Tt),Fe(Tt,i)}var _r=null,ki=!1,Bl=!1;function Kf(t){_r===null?_r=[t]:_r.push(t)}function S0(t){ki=!0,Kf(t)}function Hr(){if(!Bl&&_r!==null){Bl=!0;var t=0,s=$e;try{var i=_r;for($e=1;t<i.length;t++){var c=i[t];do c=c(!0);while(c!==null)}_r=null,ki=!1}catch(f){throw _r!==null&&(_r=_r.slice(t+1)),Gd(dl,Hr),f}finally{$e=s,Bl=!1}}return null}var ts=[],rs=0,Ci=null,Ri=0,Bt=[],Wt=0,wn=null,br=1,Sr="";function xn(t,s){ts[rs++]=Ri,ts[rs++]=Ci,Ci=t,Ri=s}function Gf(t,s,i){Bt[Wt++]=br,Bt[Wt++]=Sr,Bt[Wt++]=wn,wn=t;var c=br;t=Sr;var f=32-Jt(c)-1;c&=~(1<<f),i+=1;var g=32-Jt(s)+f;if(30<g){var _=f-f%5;g=(c&(1<<_)-1).toString(32),c>>=_,f-=_,br=1<<32-Jt(s)+f|i<<f|c,Sr=g+t}else br=1<<g|i<<f|c,Sr=t}function Wl(t){t.return!==null&&(xn(t,1),Gf(t,1,0))}function Hl(t){for(;t===Ci;)Ci=ts[--rs],ts[rs]=null,Ri=ts[--rs],ts[rs]=null;for(;t===wn;)wn=Bt[--Wt],Bt[Wt]=null,Sr=Bt[--Wt],Bt[Wt]=null,br=Bt[--Wt],Bt[Wt]=null}var $t=null,Lt=null,He=!1,Qt=null;function Jf(t,s){var i=Gt(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=t,s=t.deletions,s===null?(t.deletions=[i],t.flags|=16):s.push(i)}function Yf(t,s){switch(t.tag){case 5:var i=t.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,$t=t,Lt=Vr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,$t=t,Lt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=wn!==null?{id:br,overflow:Sr}:null,t.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Gt(18,null,null,0),i.stateNode=s,i.return=t,t.child=i,$t=t,Lt=null,!0):!1;default:return!1}}function ql(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kl(t){if(He){var s=Lt;if(s){var i=s;if(!Yf(t,s)){if(ql(t))throw Error(n(418));s=Vr(i.nextSibling);var c=$t;s&&Yf(t,s)?Jf(c,i):(t.flags=t.flags&-4097|2,He=!1,$t=t)}}else{if(ql(t))throw Error(n(418));t.flags=t.flags&-4097|2,He=!1,$t=t}}}function Qf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ti(t){if(t!==$t)return!1;if(!He)return Qf(t),He=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Ml(t.type,t.memoizedProps)),s&&(s=Lt)){if(ql(t))throw Xf(),Error(n(418));for(;s;)Jf(t,s),s=Vr(s.nextSibling)}if(Qf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(s===0){Lt=Vr(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}t=t.nextSibling}Lt=null}}else Lt=$t?Vr(t.stateNode.nextSibling):null;return!0}function Xf(){for(var t=Lt;t;)t=Vr(t.nextSibling)}function ns(){Lt=$t=null,He=!1}function Gl(t){Qt===null?Qt=[t]:Qt.push(t)}var E0=I.ReactCurrentBatchConfig;function ho(t,s,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,t));var f=c,g=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var R=f.refs;_===null?delete R[g]:R[g]=_},s._stringRef=g,s)}if(typeof t!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,t))}return t}function Ni(t,s){throw t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Zf(t){var s=t._init;return s(t._payload)}function eh(t){function s(L,O){if(t){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function i(L,O){if(!t)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function c(L,O){for(L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function f(L,O){return L=Zr(L,O),L.index=0,L.sibling=null,L}function g(L,O,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=2,O):F):(L.flags|=2,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=2),L}function R(L,O,F,ne){return O===null||O.tag!==6?(O=Fc(F,L.mode,ne),O.return=L,O):(O=f(O,F),O.return=L,O)}function P(L,O,F,ne){var ue=F.type;return ue===j?ee(L,O,F.props.children,ne,F.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===H&&Zf(ue)===O.type)?(ne=f(O,F.props),ne.ref=ho(L,O,F),ne.return=L,ne):(ne=Zi(F.type,F.key,F.props,null,L.mode,ne),ne.ref=ho(L,O,F),ne.return=L,ne)}function B(L,O,F,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Uc(F,L.mode,ne),O.return=L,O):(O=f(O,F.children||[]),O.return=L,O)}function ee(L,O,F,ne,ue){return O===null||O.tag!==7?(O=Tn(F,L.mode,ne,ue),O.return=L,O):(O=f(O,F),O.return=L,O)}function te(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Fc(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return F=Zi(O.type,O.key,O.props,null,L.mode,F),F.ref=ho(L,null,O),F.return=L,F;case M:return O=Uc(O,L.mode,F),O.return=L,O;case H:var ne=O._init;return te(L,ne(O._payload),F)}if(Xe(O)||U(O))return O=Tn(O,L.mode,F,null),O.return=L,O;Ni(L,O)}return null}function X(L,O,F,ne){var ue=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:R(L,O,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case z:return F.key===ue?P(L,O,F,ne):null;case M:return F.key===ue?B(L,O,F,ne):null;case H:return ue=F._init,X(L,O,ue(F._payload),ne)}if(Xe(F)||U(F))return ue!==null?null:ee(L,O,F,ne,null);Ni(L,F)}return null}function ie(L,O,F,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get(F)||null,R(O,L,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case z:return L=L.get(ne.key===null?F:ne.key)||null,P(O,L,ne,ue);case M:return L=L.get(ne.key===null?F:ne.key)||null,B(O,L,ne,ue);case H:var pe=ne._init;return ie(L,O,F,pe(ne._payload),ue)}if(Xe(ne)||U(ne))return L=L.get(F)||null,ee(O,L,ne,ue,null);Ni(O,ne)}return null}function le(L,O,F,ne){for(var ue=null,pe=null,me=O,xe=O=0,pt=null;me!==null&&xe<F.length;xe++){me.index>xe?(pt=me,me=null):pt=me.sibling;var je=X(L,me,F[xe],ne);if(je===null){me===null&&(me=pt);break}t&&me&&je.alternate===null&&s(L,me),O=g(je,O,xe),pe===null?ue=je:pe.sibling=je,pe=je,me=pt}if(xe===F.length)return i(L,me),He&&xn(L,xe),ue;if(me===null){for(;xe<F.length;xe++)me=te(L,F[xe],ne),me!==null&&(O=g(me,O,xe),pe===null?ue=me:pe.sibling=me,pe=me);return He&&xn(L,xe),ue}for(me=c(L,me);xe<F.length;xe++)pt=ie(me,L,xe,F[xe],ne),pt!==null&&(t&&pt.alternate!==null&&me.delete(pt.key===null?xe:pt.key),O=g(pt,O,xe),pe===null?ue=pt:pe.sibling=pt,pe=pt);return t&&me.forEach(function(en){return s(L,en)}),He&&xn(L,xe),ue}function ce(L,O,F,ne){var ue=U(F);if(typeof ue!="function")throw Error(n(150));if(F=ue.call(F),F==null)throw Error(n(151));for(var pe=ue=null,me=O,xe=O=0,pt=null,je=F.next();me!==null&&!je.done;xe++,je=F.next()){me.index>xe?(pt=me,me=null):pt=me.sibling;var en=X(L,me,je.value,ne);if(en===null){me===null&&(me=pt);break}t&&me&&en.alternate===null&&s(L,me),O=g(en,O,xe),pe===null?ue=en:pe.sibling=en,pe=en,me=pt}if(je.done)return i(L,me),He&&xn(L,xe),ue;if(me===null){for(;!je.done;xe++,je=F.next())je=te(L,je.value,ne),je!==null&&(O=g(je,O,xe),pe===null?ue=je:pe.sibling=je,pe=je);return He&&xn(L,xe),ue}for(me=c(L,me);!je.done;xe++,je=F.next())je=ie(me,L,xe,je.value,ne),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?xe:je.key),O=g(je,O,xe),pe===null?ue=je:pe.sibling=je,pe=je);return t&&me.forEach(function(nx){return s(L,nx)}),He&&xn(L,xe),ue}function et(L,O,F,ne){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case z:e:{for(var ue=F.key,pe=O;pe!==null;){if(pe.key===ue){if(ue=F.type,ue===j){if(pe.tag===7){i(L,pe.sibling),O=f(pe,F.props.children),O.return=L,L=O;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===H&&Zf(ue)===pe.type){i(L,pe.sibling),O=f(pe,F.props),O.ref=ho(L,pe,F),O.return=L,L=O;break e}i(L,pe);break}else s(L,pe);pe=pe.sibling}F.type===j?(O=Tn(F.props.children,L.mode,ne,F.key),O.return=L,L=O):(ne=Zi(F.type,F.key,F.props,null,L.mode,ne),ne.ref=ho(L,O,F),ne.return=L,L=ne)}return _(L);case M:e:{for(pe=F.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){i(L,O.sibling),O=f(O,F.children||[]),O.return=L,L=O;break e}else{i(L,O);break}else s(L,O);O=O.sibling}O=Uc(F,L.mode,ne),O.return=L,L=O}return _(L);case H:return pe=F._init,et(L,O,pe(F._payload),ne)}if(Xe(F))return le(L,O,F,ne);if(U(F))return ce(L,O,F,ne);Ni(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,O!==null&&O.tag===6?(i(L,O.sibling),O=f(O,F),O.return=L,L=O):(i(L,O),O=Fc(F,L.mode,ne),O.return=L,L=O),_(L)):i(L,O)}return et}var ss=eh(!0),th=eh(!1),Pi=Br(null),ji=null,os=null,Jl=null;function Yl(){Jl=os=ji=null}function Ql(t){var s=Pi.current;Be(Pi),t._currentValue=s}function Xl(t,s,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===i)break;t=t.return}}function is(t,s){ji=t,Jl=os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Pt=!0),t.firstContext=null)}function Ht(t){var s=t._currentValue;if(Jl!==t)if(t={context:t,memoizedValue:s,next:null},os===null){if(ji===null)throw Error(n(308));os=t,ji.dependencies={lanes:0,firstContext:t}}else os=os.next=t;return s}var _n=null;function Zl(t){_n===null?_n=[t]:_n.push(t)}function rh(t,s,i,c){var f=s.interleaved;return f===null?(i.next=i,Zl(s)):(i.next=f.next,f.next=i),s.interleaved=i,Er(t,c)}function Er(t,s){t.lanes|=s;var i=t.alternate;for(i!==null&&(i.lanes|=s),i=t,t=t.return;t!==null;)t.childLanes|=s,i=t.alternate,i!==null&&(i.childLanes|=s),i=t,t=t.return;return i.tag===3?i.stateNode:null}var qr=!1;function ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kr(t,s,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Er(t,i)}return f=c.interleaved,f===null?(s.next=s,Zl(c)):(s.next=f.next,f.next=s),c.interleaved=s,Er(t,i)}function Ai(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,pl(t,i)}}function sh(t,s){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var _={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?f=g=_:g=g.next=_,i=i.next}while(i!==null);g===null?f=g=s:g=g.next=s}else f=g=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}function Oi(t,s,i,c){var f=t.updateQueue;qr=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,B=P.next;P.next=null,_===null?g=B:_.next=B,_=P;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==_&&(R===null?ee.firstBaseUpdate=B:R.next=B,ee.lastBaseUpdate=P))}if(g!==null){var te=f.baseState;_=0,ee=B=P=null,R=g;do{var X=R.lane,ie=R.eventTime;if((c&X)===X){ee!==null&&(ee=ee.next={eventTime:ie,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var le=t,ce=R;switch(X=s,ie=i,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){te=le.call(ie,te,X);break e}te=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,X=typeof le=="function"?le.call(ie,te,X):le,X==null)break e;te=Q({},te,X);break e;case 2:qr=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,X=f.effects,X===null?f.effects=[R]:X.push(R))}else ie={eventTime:ie,lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(B=ee=ie,P=te):ee=ee.next=ie,_|=X;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;X=R,R=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(ee===null&&(P=te),f.baseState=P,f.firstBaseUpdate=B,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do _|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);En|=_,t.lanes=_,t.memoizedState=te}}function oh(t,s,i){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],f=c.callback;if(f!==null){if(c.callback=null,c=i,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var po={},ur=Br(po),mo=Br(po),go=Br(po);function bn(t){if(t===po)throw Error(n(174));return t}function tc(t,s){switch(Fe(go,s),Fe(mo,t),Fe(ur,po),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:rl(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=rl(s,t)}Be(ur),Fe(ur,s)}function as(){Be(ur),Be(mo),Be(go)}function ih(t){bn(go.current);var s=bn(ur.current),i=rl(s,t.type);s!==i&&(Fe(mo,t),Fe(ur,i))}function rc(t){mo.current===t&&(Be(ur),Be(mo))}var Ke=Br(0);function Ii(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nc=[];function sc(){for(var t=0;t<nc.length;t++)nc[t]._workInProgressVersionPrimary=null;nc.length=0}var Di=I.ReactCurrentDispatcher,oc=I.ReactCurrentBatchConfig,Sn=0,Ge=null,it=null,ft=null,$i=!1,vo=!1,yo=0,k0=0;function St(){throw Error(n(321))}function ic(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!Yt(t[i],s[i]))return!1;return!0}function ac(t,s,i,c,f,g){if(Sn=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Di.current=t===null||t.memoizedState===null?N0:P0,t=i(c,f),vo){g=0;do{if(vo=!1,yo=0,25<=g)throw Error(n(301));g+=1,ft=it=null,s.updateQueue=null,Di.current=j0,t=i(c,f)}while(vo)}if(Di.current=Fi,s=it!==null&&it.next!==null,Sn=0,ft=it=Ge=null,$i=!1,s)throw Error(n(300));return t}function lc(){var t=yo!==0;return yo=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ge.memoizedState=ft=t:ft=ft.next=t,ft}function qt(){if(it===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var s=ft===null?Ge.memoizedState:ft.next;if(s!==null)ft=s,it=t;else{if(t===null)throw Error(n(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ft===null?Ge.memoizedState=ft=t:ft=ft.next=t}return ft}function wo(t,s){return typeof s=="function"?s(t):s}function cc(t){var s=qt(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=it,f=c.baseQueue,g=i.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}c.baseQueue=f=g,i.pending=null}if(f!==null){g=f.next,c=c.baseState;var R=_=null,P=null,B=g;do{var ee=B.lane;if((Sn&ee)===ee)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:t(c,B.action);else{var te={lane:ee,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(R=P=te,_=c):P=P.next=te,Ge.lanes|=ee,En|=ee}B=B.next}while(B!==null&&B!==g);P===null?_=c:P.next=R,Yt(c,s.memoizedState)||(Pt=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=P,i.lastRenderedState=c}if(t=i.interleaved,t!==null){f=t;do g=f.lane,Ge.lanes|=g,En|=g,f=f.next;while(f!==t)}else f===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function uc(t){var s=qt(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=t;var c=i.dispatch,f=i.pending,g=s.memoizedState;if(f!==null){i.pending=null;var _=f=f.next;do g=t(g,_.action),_=_.next;while(_!==f);Yt(g,s.memoizedState)||(Pt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,c]}function ah(){}function lh(t,s){var i=Ge,c=qt(),f=s(),g=!Yt(c.memoizedState,f);if(g&&(c.memoizedState=f,Pt=!0),c=c.queue,dc(dh.bind(null,i,c,t),[t]),c.getSnapshot!==s||g||ft!==null&&ft.memoizedState.tag&1){if(i.flags|=2048,xo(9,uh.bind(null,i,c,f,s),void 0,null),ht===null)throw Error(n(349));(Sn&30)!==0||ch(i,s,f)}return f}function ch(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function uh(t,s,i,c){s.value=i,s.getSnapshot=c,fh(s)&&hh(t)}function dh(t,s,i){return i(function(){fh(s)&&hh(t)})}function fh(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!Yt(t,i)}catch{return!0}}function hh(t){var s=Er(t,1);s!==null&&tr(s,t,1,-1)}function ph(t){var s=dr();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},s.queue=t,t=t.dispatch=T0.bind(null,Ge,t),[s.memoizedState,t]}function xo(t,s,i,c){return t={tag:t,create:s,destroy:i,deps:c,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=t.next=t):(i=s.lastEffect,i===null?s.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,s.lastEffect=t)),t}function mh(){return qt().memoizedState}function Li(t,s,i,c){var f=dr();Ge.flags|=t,f.memoizedState=xo(1|s,i,void 0,c===void 0?null:c)}function Mi(t,s,i,c){var f=qt();c=c===void 0?null:c;var g=void 0;if(it!==null){var _=it.memoizedState;if(g=_.destroy,c!==null&&ic(c,_.deps)){f.memoizedState=xo(s,i,g,c);return}}Ge.flags|=t,f.memoizedState=xo(1|s,i,g,c)}function gh(t,s){return Li(8390656,8,t,s)}function dc(t,s){return Mi(2048,8,t,s)}function vh(t,s){return Mi(4,2,t,s)}function yh(t,s){return Mi(4,4,t,s)}function wh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function xh(t,s,i){return i=i!=null?i.concat([t]):null,Mi(4,4,wh.bind(null,s,t),i)}function fc(){}function _h(t,s){var i=qt();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&ic(s,c[1])?c[0]:(i.memoizedState=[t,s],t)}function bh(t,s){var i=qt();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&ic(s,c[1])?c[0]:(t=t(),i.memoizedState=[t,s],t)}function Sh(t,s,i){return(Sn&21)===0?(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=i):(Yt(i,s)||(i=Xd(),Ge.lanes|=i,En|=i,t.baseState=!0),s)}function C0(t,s){var i=$e;$e=i!==0&&4>i?i:4,t(!0);var c=oc.transition;oc.transition={};try{t(!1),s()}finally{$e=i,oc.transition=c}}function Eh(){return qt().memoizedState}function R0(t,s,i){var c=Qr(t);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},kh(t))Ch(s,i);else if(i=rh(t,s,i,c),i!==null){var f=Rt();tr(i,t,c,f),Rh(i,s,c)}}function T0(t,s,i){var c=Qr(t),f={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(kh(t))Ch(s,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,R=g(_,i);if(f.hasEagerState=!0,f.eagerState=R,Yt(R,_)){var P=s.interleaved;P===null?(f.next=f,Zl(s)):(f.next=P.next,P.next=f),s.interleaved=f;return}}catch{}finally{}i=rh(t,s,f,c),i!==null&&(f=Rt(),tr(i,t,c,f),Rh(i,s,c))}}function kh(t){var s=t.alternate;return t===Ge||s!==null&&s===Ge}function Ch(t,s){vo=$i=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function Rh(t,s,i){if((i&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,pl(t,i)}}var Fi={readContext:Ht,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},N0={readContext:Ht,useCallback:function(t,s){return dr().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:gh,useImperativeHandle:function(t,s,i){return i=i!=null?i.concat([t]):null,Li(4194308,4,wh.bind(null,s,t),i)},useLayoutEffect:function(t,s){return Li(4194308,4,t,s)},useInsertionEffect:function(t,s){return Li(4,2,t,s)},useMemo:function(t,s){var i=dr();return s=s===void 0?null:s,t=t(),i.memoizedState=[t,s],t},useReducer:function(t,s,i){var c=dr();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=R0.bind(null,Ge,t),[c.memoizedState,t]},useRef:function(t){var s=dr();return t={current:t},s.memoizedState=t},useState:ph,useDebugValue:fc,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=ph(!1),s=t[0];return t=C0.bind(null,t[1]),dr().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,i){var c=Ge,f=dr();if(He){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),ht===null)throw Error(n(349));(Sn&30)!==0||ch(c,s,i)}f.memoizedState=i;var g={value:i,getSnapshot:s};return f.queue=g,gh(dh.bind(null,c,g,t),[t]),c.flags|=2048,xo(9,uh.bind(null,c,g,i,s),void 0,null),i},useId:function(){var t=dr(),s=ht.identifierPrefix;if(He){var i=Sr,c=br;i=(c&~(1<<32-Jt(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=yo++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=k0++,s=":"+s+"r"+i.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},P0={readContext:Ht,useCallback:_h,useContext:Ht,useEffect:dc,useImperativeHandle:xh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:bh,useReducer:cc,useRef:mh,useState:function(){return cc(wo)},useDebugValue:fc,useDeferredValue:function(t){var s=qt();return Sh(s,it.memoizedState,t)},useTransition:function(){var t=cc(wo)[0],s=qt().memoizedState;return[t,s]},useMutableSource:ah,useSyncExternalStore:lh,useId:Eh,unstable_isNewReconciler:!1},j0={readContext:Ht,useCallback:_h,useContext:Ht,useEffect:dc,useImperativeHandle:xh,useInsertionEffect:vh,useLayoutEffect:yh,useMemo:bh,useReducer:uc,useRef:mh,useState:function(){return uc(wo)},useDebugValue:fc,useDeferredValue:function(t){var s=qt();return it===null?s.memoizedState=t:Sh(s,it.memoizedState,t)},useTransition:function(){var t=uc(wo)[0],s=qt().memoizedState;return[t,s]},useMutableSource:ah,useSyncExternalStore:lh,useId:Eh,unstable_isNewReconciler:!1};function Xt(t,s){if(t&&t.defaultProps){s=Q({},s),t=t.defaultProps;for(var i in t)s[i]===void 0&&(s[i]=t[i]);return s}return s}function hc(t,s,i,c){s=t.memoizedState,i=i(c,s),i=i==null?s:Q({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ui={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,s,i){t=t._reactInternals;var c=Rt(),f=Qr(t),g=kr(c,f);g.payload=s,i!=null&&(g.callback=i),s=Kr(t,g,f),s!==null&&(tr(s,t,f,c),Ai(s,t,f))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var c=Rt(),f=Qr(t),g=kr(c,f);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=Kr(t,g,f),s!==null&&(tr(s,t,f,c),Ai(s,t,f))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=Rt(),c=Qr(t),f=kr(i,c);f.tag=2,s!=null&&(f.callback=s),s=Kr(t,f,c),s!==null&&(tr(s,t,c,i),Ai(s,t,c))}};function Th(t,s,i,c,f,g,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,_):s.prototype&&s.prototype.isPureReactComponent?!oo(i,c)||!oo(f,g):!0}function Nh(t,s,i){var c=!1,f=Wr,g=s.contextType;return typeof g=="object"&&g!==null?g=Ht(g):(f=Nt(s)?yn:bt.current,c=s.contextTypes,g=(c=c!=null)?es(t,f):Wr),s=new s(i,g),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ui,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=g),s}function Ph(t,s,i,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==t&&Ui.enqueueReplaceState(s,s.state,null)}function pc(t,s,i,c){var f=t.stateNode;f.props=i,f.state=t.memoizedState,f.refs={},ec(t);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Ht(g):(g=Nt(s)?yn:bt.current,f.context=es(t,g)),f.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(hc(t,s,g,i),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ui.enqueueReplaceState(f,f.state,null),Oi(t,i,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,s){try{var i="",c=s;do i+=be(c),c=c.return;while(c);var f=i}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:s,stack:f,digest:null}}function mc(t,s,i){return{value:t,source:null,stack:i??null,digest:s??null}}function gc(t,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var A0=typeof WeakMap=="function"?WeakMap:Map;function jh(t,s,i){i=kr(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){Ki||(Ki=!0,jc=c),gc(t,s)},i}function Ah(t,s,i){i=kr(-1,i),i.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;i.payload=function(){return c(f)},i.callback=function(){gc(t,s)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){gc(t,s),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),i}function Oh(t,s,i){var c=t.pingCache;if(c===null){c=t.pingCache=new A0;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(f.add(i),t=q0.bind(null,t,s,i),s.then(t,t))}function Ih(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Dh(t,s,i,c,f){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=kr(-1,1),s.tag=2,Kr(i,s,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var O0=I.ReactCurrentOwner,Pt=!1;function Ct(t,s,i,c){s.child=t===null?th(s,null,i,c):ss(s,t.child,i,c)}function $h(t,s,i,c,f){i=i.render;var g=s.ref;return is(s,f),c=ac(t,s,i,c,g,f),i=lc(),t!==null&&!Pt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,Cr(t,s,f)):(He&&i&&Wl(s),s.flags|=1,Ct(t,s,c,f),s.child)}function Lh(t,s,i,c,f){if(t===null){var g=i.type;return typeof g=="function"&&!Mc(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,Mh(t,s,g,c,f)):(t=Zi(i.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,(t.lanes&f)===0){var _=g.memoizedProps;if(i=i.compare,i=i!==null?i:oo,i(_,c)&&t.ref===s.ref)return Cr(t,s,f)}return s.flags|=1,t=Zr(g,c),t.ref=s.ref,t.return=s,s.child=t}function Mh(t,s,i,c,f){if(t!==null){var g=t.memoizedProps;if(oo(g,c)&&t.ref===s.ref)if(Pt=!1,s.pendingProps=c=g,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Pt=!0);else return s.lanes=t.lanes,Cr(t,s,f)}return vc(t,s,i,c,f)}function Fh(t,s,i){var c=s.pendingProps,f=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(us,Mt),Mt|=i;else{if((i&1073741824)===0)return t=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Fe(us,Mt),Mt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:i,Fe(us,Mt),Mt|=c}else g!==null?(c=g.baseLanes|i,s.memoizedState=null):c=i,Fe(us,Mt),Mt|=c;return Ct(t,s,f,i),s.child}function Uh(t,s){var i=s.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function vc(t,s,i,c,f){var g=Nt(i)?yn:bt.current;return g=es(s,g),is(s,f),i=ac(t,s,i,c,g,f),c=lc(),t!==null&&!Pt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,Cr(t,s,f)):(He&&c&&Wl(s),s.flags|=1,Ct(t,s,i,f),s.child)}function zh(t,s,i,c,f){if(Nt(i)){var g=!0;Ei(s)}else g=!1;if(is(s,f),s.stateNode===null)Vi(t,s),Nh(s,i,c),pc(s,i,c,f),c=!0;else if(t===null){var _=s.stateNode,R=s.memoizedProps;_.props=R;var P=_.context,B=i.contextType;typeof B=="object"&&B!==null?B=Ht(B):(B=Nt(i)?yn:bt.current,B=es(s,B));var ee=i.getDerivedStateFromProps,te=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==c||P!==B)&&Ph(s,_,c,B),qr=!1;var X=s.memoizedState;_.state=X,Oi(s,c,_,f),P=s.memoizedState,R!==c||X!==P||Tt.current||qr?(typeof ee=="function"&&(hc(s,i,ee,c),P=s.memoizedState),(R=qr||Th(s,i,R,c,X,P,B))?(te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),_.props=c,_.state=P,_.context=B,c=R):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,nh(t,s),R=s.memoizedProps,B=s.type===s.elementType?R:Xt(s.type,R),_.props=B,te=s.pendingProps,X=_.context,P=i.contextType,typeof P=="object"&&P!==null?P=Ht(P):(P=Nt(i)?yn:bt.current,P=es(s,P));var ie=i.getDerivedStateFromProps;(ee=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==te||X!==P)&&Ph(s,_,c,P),qr=!1,X=s.memoizedState,_.state=X,Oi(s,c,_,f);var le=s.memoizedState;R!==te||X!==le||Tt.current||qr?(typeof ie=="function"&&(hc(s,i,ie,c),le=s.memoizedState),(B=qr||Th(s,i,B,c,X,le,P)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,P)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=le),_.props=c,_.state=le,_.context=P,c=B):(typeof _.componentDidUpdate!="function"||R===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),c=!1)}return yc(t,s,i,c,g,f)}function yc(t,s,i,c,f,g){Uh(t,s);var _=(s.flags&128)!==0;if(!c&&!_)return f&&qf(s,i,!1),Cr(t,s,g);c=s.stateNode,O0.current=s;var R=_&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&_?(s.child=ss(s,t.child,null,g),s.child=ss(s,null,R,g)):Ct(t,s,R,g),s.memoizedState=c.state,f&&qf(s,i,!0),s.child}function Vh(t){var s=t.stateNode;s.pendingContext?Wf(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Wf(t,s.context,!1),tc(t,s.containerInfo)}function Bh(t,s,i,c,f){return ns(),Gl(f),s.flags|=256,Ct(t,s,i,c),s.child}var wc={dehydrated:null,treeContext:null,retryLane:0};function xc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wh(t,s,i){var c=s.pendingProps,f=Ke.current,g=!1,_=(s.flags&128)!==0,R;if((R=_)||(R=t!==null&&t.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Fe(Ke,f&1),t===null)return Kl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,t=c.fallback,g?(c=s.mode,g=s.child,_={mode:"hidden",children:_},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=_):g=ea(_,c,0,null),t=Tn(t,c,i,null),g.return=s,t.return=s,g.sibling=t,s.child=g,s.child.memoizedState=xc(i),s.memoizedState=wc,t):_c(s,_));if(f=t.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return I0(t,s,_,c,R,f,i);if(g){g=c.fallback,_=s.mode,f=t.child,R=f.sibling;var P={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=Zr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Zr(R,g):(g=Tn(g,_,i,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,_=t.child.memoizedState,_=_===null?xc(i):{baseLanes:_.baseLanes|i,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=t.childLanes&~i,s.memoizedState=wc,c}return g=t.child,t=g.sibling,c=Zr(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,t!==null&&(i=s.deletions,i===null?(s.deletions=[t],s.flags|=16):i.push(t)),s.child=c,s.memoizedState=null,c}function _c(t,s){return s=ea({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function zi(t,s,i,c){return c!==null&&Gl(c),ss(s,t.child,null,i),t=_c(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function I0(t,s,i,c,f,g,_){if(i)return s.flags&256?(s.flags&=-257,c=mc(Error(n(422))),zi(t,s,_,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=ea({mode:"visible",children:c.children},f,0,null),g=Tn(g,f,_,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&ss(s,t.child,null,_),s.child.memoizedState=xc(_),s.memoizedState=wc,g);if((s.mode&1)===0)return zi(t,s,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(n(419)),c=mc(g,c,void 0),zi(t,s,_,c)}if(R=(_&t.childLanes)!==0,Pt||R){if(c=ht,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Er(t,f),tr(c,t,f,-1))}return Lc(),c=mc(Error(n(421))),zi(t,s,_,c)}return f.data==="$?"?(s.flags|=128,s.child=t.child,s=K0.bind(null,t),f._reactRetry=s,null):(t=g.treeContext,Lt=Vr(f.nextSibling),$t=s,He=!0,Qt=null,t!==null&&(Bt[Wt++]=br,Bt[Wt++]=Sr,Bt[Wt++]=wn,br=t.id,Sr=t.overflow,wn=s),s=_c(s,c.children),s.flags|=4096,s)}function Hh(t,s,i){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Xl(t.return,s,i)}function bc(t,s,i,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=f)}function qh(t,s,i){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(Ct(t,s,c.children,i),c=Ke.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hh(t,i,s);else if(t.tag===19)Hh(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Fe(Ke,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(i=s.child,f=null;i!==null;)t=i.alternate,t!==null&&Ii(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),bc(s,!1,f,i,g);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Ii(t)===null){s.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}bc(s,!0,i,null,g);break;case"together":bc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vi(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Cr(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),En|=s.lanes,(i&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,i=Zr(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=Zr(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function D0(t,s,i){switch(s.tag){case 3:Vh(s),ns();break;case 5:ih(s);break;case 1:Nt(s.type)&&Ei(s);break;case 4:tc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Fe(Pi,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Fe(Ke,Ke.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?Wh(t,s,i):(Fe(Ke,Ke.current&1),t=Cr(t,s,i),t!==null?t.sibling:null);Fe(Ke,Ke.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(t.flags&128)!==0){if(c)return qh(t,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Fe(Ke,Ke.current),c)break;return null;case 22:case 23:return s.lanes=0,Fh(t,s,i)}return Cr(t,s,i)}var Kh,Sc,Gh,Jh;Kh=function(t,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Sc=function(){},Gh=function(t,s,i,c){var f=t.memoizedProps;if(f!==c){t=s.stateNode,bn(ur.current);var g=null;switch(i){case"input":f=re(t,f),c=re(t,c),g=[];break;case"select":f=Q({},f,{value:void 0}),c=Q({},c,{value:void 0}),g=[];break;case"textarea":f=gt(t,f),c=gt(t,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=_i)}nl(i,c);var _;i=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var R=f[B];for(_ in R)R.hasOwnProperty(_)&&(i||(i={}),i[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in c){var P=c[B];if(R=f?.[B],c.hasOwnProperty(B)&&P!==R&&(P!=null||R!=null))if(B==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(i||(i={}),i[_]="");for(_ in P)P.hasOwnProperty(_)&&R[_]!==P[_]&&(i||(i={}),i[_]=P[_])}else i||(g||(g=[]),g.push(B,i)),i=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,R=R?R.__html:void 0,P!=null&&R!==P&&(g=g||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&Ve("scroll",t),g||R===P||(g=[])):(g=g||[]).push(B,P))}i&&(g=g||[]).push("style",i);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},Jh=function(t,s,i,c){i!==c&&(s.flags|=4)};function _o(t,s){if(!He)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Et(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(s)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=i,s}function $0(t,s,i){var c=s.pendingProps;switch(Hl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Nt(s.type)&&Si(),Et(s),null;case 3:return c=s.stateNode,as(),Be(Tt),Be(bt),sc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ti(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qt!==null&&(Ic(Qt),Qt=null))),Sc(t,s),Et(s),null;case 5:rc(s);var f=bn(go.current);if(i=s.type,t!==null&&s.stateNode!=null)Gh(t,s,i,c,f),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Et(s),null}if(t=bn(ur.current),Ti(s)){c=s.stateNode,i=s.type;var g=s.memoizedProps;switch(c[cr]=s,c[uo]=g,t=(s.mode&1)!==0,i){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(f=0;f<ao.length;f++)Ve(ao[f],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":_e(c,g),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ve("invalid",c);break;case"textarea":It(c,g),Ve("invalid",c)}nl(i,g),f=null;for(var _ in g)if(g.hasOwnProperty(_)){var R=g[_];_==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&xi(c.textContent,R,t),f=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&xi(c.textContent,R,t),f=["children",""+R]):a.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&Ve("scroll",c)}switch(i){case"input":Oe(c),ot(c,g,!0);break;case"textarea":Oe(c),Vt(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=_i)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Id(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(i,{is:c.is}):(t=_.createElement(i),i==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,i),t[cr]=s,t[uo]=c,Kh(t,s,!1,!1),s.stateNode=t;e:{switch(_=sl(i,c),i){case"dialog":Ve("cancel",t),Ve("close",t),f=c;break;case"iframe":case"object":case"embed":Ve("load",t),f=c;break;case"video":case"audio":for(f=0;f<ao.length;f++)Ve(ao[f],t);f=c;break;case"source":Ve("error",t),f=c;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),f=c;break;case"details":Ve("toggle",t),f=c;break;case"input":_e(t,c),f=re(t,c),Ve("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=Q({},c,{value:void 0}),Ve("invalid",t);break;case"textarea":It(t,c),f=gt(t,c),Ve("invalid",t);break;default:f=c}nl(i,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var P=R[g];g==="style"?Ld(t,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Dd(t,P)):g==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&Vs(t,P):typeof P=="number"&&Vs(t,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ve("scroll",t):P!=null&&N(t,g,P,_))}switch(i){case"input":Oe(t),ot(t,c,!1);break;case"textarea":Oe(t),Vt(t);break;case"option":c.value!=null&&t.setAttribute("value",""+fe(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?dt(t,!!c.multiple,g,!1):c.defaultValue!=null&&dt(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=_i)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Et(s),null;case 6:if(t&&s.stateNode!=null)Jh(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=bn(go.current),bn(ur.current),Ti(s)){if(c=s.stateNode,i=s.memoizedProps,c[cr]=s,(g=c.nodeValue!==i)&&(t=$t,t!==null))switch(t.tag){case 3:xi(c.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xi(c.nodeValue,i,(t.mode&1)!==0)}g&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[cr]=s,s.stateNode=c}return Et(s),null;case 13:if(Be(Ke),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Lt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xf(),ns(),s.flags|=98560,g=!1;else if(g=Ti(s),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[cr]=s}else ns(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),g=!1}else Qt!==null&&(Ic(Qt),Qt=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ke.current&1)!==0?at===0&&(at=3):Lc())),s.updateQueue!==null&&(s.flags|=4),Et(s),null);case 4:return as(),Sc(t,s),t===null&&lo(s.stateNode.containerInfo),Et(s),null;case 10:return Ql(s.type._context),Et(s),null;case 17:return Nt(s.type)&&Si(),Et(s),null;case 19:if(Be(Ke),g=s.memoizedState,g===null)return Et(s),null;if(c=(s.flags&128)!==0,_=g.rendering,_===null)if(c)_o(g,!1);else{if(at!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(_=Ii(t),_!==null){for(s.flags|=128,_o(g,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)g=i,t=c,g.flags&=14680066,_=g.alternate,_===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,t=_.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Fe(Ke,Ke.current&1|2),s.child}t=t.sibling}g.tail!==null&&Ze()>ds&&(s.flags|=128,c=!0,_o(g,!1),s.lanes=4194304)}else{if(!c)if(t=Ii(_),t!==null){if(s.flags|=128,c=!0,i=t.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),_o(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!He)return Et(s),null}else 2*Ze()-g.renderingStartTime>ds&&i!==1073741824&&(s.flags|=128,c=!0,_o(g,!1),s.lanes=4194304);g.isBackwards?(_.sibling=s.child,s.child=_):(i=g.last,i!==null?i.sibling=_:s.child=_,g.last=_)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ze(),s.sibling=null,i=Ke.current,Fe(Ke,c?i&1|2:i&1),s):(Et(s),null);case 22:case 23:return $c(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Mt&1073741824)!==0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function L0(t,s){switch(Hl(s),s.tag){case 1:return Nt(s.type)&&Si(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return as(),Be(Tt),Be(bt),sc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return rc(s),null;case 13:if(Be(Ke),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ns()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Be(Ke),null;case 4:return as(),null;case 10:return Ql(s.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var Bi=!1,kt=!1,M0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function cs(t,s){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Je(t,s,c)}else i.current=null}function Ec(t,s,i){try{i()}catch(c){Je(t,s,c)}}var Yh=!1;function F0(t,s){if($l=ci,t=Tf(),Tl(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var _=0,R=-1,P=-1,B=0,ee=0,te=t,X=null;t:for(;;){for(var ie;te!==i||f!==0&&te.nodeType!==3||(R=_+f),te!==g||c!==0&&te.nodeType!==3||(P=_+c),te.nodeType===3&&(_+=te.nodeValue.length),(ie=te.firstChild)!==null;)X=te,te=ie;for(;;){if(te===t)break t;if(X===i&&++B===f&&(R=_),X===g&&++ee===c&&(P=_),(ie=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=ie}i=R===-1||P===-1?null:{start:R,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ll={focusedElem:t,selectionRange:i},ci=!1,ae=s;ae!==null;)if(s=ae,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ae=t;else for(;ae!==null;){s=ae;try{var le=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,et=le.memoizedState,L=s.stateNode,O=L.getSnapshotBeforeUpdate(s.elementType===s.type?ce:Xt(s.type,ce),et);L.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){Je(s,s.return,ne)}if(t=s.sibling,t!==null){t.return=s.return,ae=t;break}ae=s.return}return le=Yh,Yh=!1,le}function bo(t,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var g=f.destroy;f.destroy=void 0,g!==void 0&&Ec(s,i,g)}f=f.next}while(f!==c)}}function Wi(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function kc(t){var s=t.ref;if(s!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof s=="function"?s(t):s.current=t}}function Qh(t){var s=t.alternate;s!==null&&(t.alternate=null,Qh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cr],delete s[uo],delete s[zl],delete s[_0],delete s[b0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xh(t){return t.tag===5||t.tag===3||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(t,s):i.insertBefore(t,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(t,i)):(s=i,s.appendChild(t)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=_i));else if(c!==4&&(t=t.child,t!==null))for(Cc(t,s,i),t=t.sibling;t!==null;)Cc(t,s,i),t=t.sibling}function Rc(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Rc(t,s,i),t=t.sibling;t!==null;)Rc(t,s,i),t=t.sibling}var vt=null,Zt=!1;function Gr(t,s,i){for(i=i.child;i!==null;)ep(t,s,i),i=i.sibling}function ep(t,s,i){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(ni,i)}catch{}switch(i.tag){case 5:kt||cs(i,s);case 6:var c=vt,f=Zt;vt=null,Gr(t,s,i),vt=c,Zt=f,vt!==null&&(Zt?(t=vt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):vt.removeChild(i.stateNode));break;case 18:vt!==null&&(Zt?(t=vt,i=i.stateNode,t.nodeType===8?Ul(t.parentNode,i):t.nodeType===1&&Ul(t,i),Zs(t)):Ul(vt,i.stateNode));break;case 4:c=vt,f=Zt,vt=i.stateNode.containerInfo,Zt=!0,Gr(t,s,i),vt=c,Zt=f;break;case 0:case 11:case 14:case 15:if(!kt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,_=g.destroy;g=g.tag,_!==void 0&&((g&2)!==0||(g&4)!==0)&&Ec(i,s,_),f=f.next}while(f!==c)}Gr(t,s,i);break;case 1:if(!kt&&(cs(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(R){Je(i,s,R)}Gr(t,s,i);break;case 21:Gr(t,s,i);break;case 22:i.mode&1?(kt=(c=kt)||i.memoizedState!==null,Gr(t,s,i),kt=c):Gr(t,s,i);break;default:Gr(t,s,i)}}function tp(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new M0),s.forEach(function(c){var f=G0.bind(null,t,c);i.has(c)||(i.add(c),c.then(f,f))})}}function er(t,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];try{var g=t,_=s,R=_;e:for(;R!==null;){switch(R.tag){case 5:vt=R.stateNode,Zt=!1;break e;case 3:vt=R.stateNode.containerInfo,Zt=!0;break e;case 4:vt=R.stateNode.containerInfo,Zt=!0;break e}R=R.return}if(vt===null)throw Error(n(160));ep(g,_,f),vt=null,Zt=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(B){Je(f,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)rp(s,t),s=s.sibling}function rp(t,s){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(s,t),fr(t),c&4){try{bo(3,t,t.return),Wi(3,t)}catch(ce){Je(t,t.return,ce)}try{bo(5,t,t.return)}catch(ce){Je(t,t.return,ce)}}break;case 1:er(s,t),fr(t),c&512&&i!==null&&cs(i,i.return);break;case 5:if(er(s,t),fr(t),c&512&&i!==null&&cs(i,i.return),t.flags&32){var f=t.stateNode;try{Vs(f,"")}catch(ce){Je(t,t.return,ce)}}if(c&4&&(f=t.stateNode,f!=null)){var g=t.memoizedProps,_=i!==null?i.memoizedProps:g,R=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&ke(f,g),sl(R,_);var B=sl(R,g);for(_=0;_<P.length;_+=2){var ee=P[_],te=P[_+1];ee==="style"?Ld(f,te):ee==="dangerouslySetInnerHTML"?Dd(f,te):ee==="children"?Vs(f,te):N(f,ee,te,B)}switch(R){case"input":Ie(f,g);break;case"textarea":mn(f,g);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ie=g.value;ie!=null?dt(f,!!g.multiple,ie,!1):X!==!!g.multiple&&(g.defaultValue!=null?dt(f,!!g.multiple,g.defaultValue,!0):dt(f,!!g.multiple,g.multiple?[]:"",!1))}f[uo]=g}catch(ce){Je(t,t.return,ce)}}break;case 6:if(er(s,t),fr(t),c&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,g=t.memoizedProps;try{f.nodeValue=g}catch(ce){Je(t,t.return,ce)}}break;case 3:if(er(s,t),fr(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Zs(s.containerInfo)}catch(ce){Je(t,t.return,ce)}break;case 4:er(s,t),fr(t);break;case 13:er(s,t),fr(t),f=t.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Pc=Ze())),c&4&&tp(t);break;case 22:if(ee=i!==null&&i.memoizedState!==null,t.mode&1?(kt=(B=kt)||ee,er(s,t),kt=B):er(s,t),fr(t),c&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!ee&&(t.mode&1)!==0)for(ae=t,ee=t.child;ee!==null;){for(te=ae=ee;ae!==null;){switch(X=ae,ie=X.child,X.tag){case 0:case 11:case 14:case 15:bo(4,X,X.return);break;case 1:cs(X,X.return);var le=X.stateNode;if(typeof le.componentWillUnmount=="function"){c=X,i=X.return;try{s=c,le.props=s.memoizedProps,le.state=s.memoizedState,le.componentWillUnmount()}catch(ce){Je(c,i,ce)}}break;case 5:cs(X,X.return);break;case 22:if(X.memoizedState!==null){op(te);continue}}ie!==null?(ie.return=X,ae=ie):op(te)}ee=ee.sibling}e:for(ee=null,te=t;;){if(te.tag===5){if(ee===null){ee=te;try{f=te.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,P=te.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,R.style.display=$d("display",_))}catch(ce){Je(t,t.return,ce)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=B?"":te.memoizedProps}catch(ce){Je(t,t.return,ce)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:er(s,t),fr(t),c&4&&tp(t);break;case 21:break;default:er(s,t),fr(t)}}function fr(t){var s=t.flags;if(s&2){try{e:{for(var i=t.return;i!==null;){if(Xh(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Vs(f,""),c.flags&=-33);var g=Zh(t);Rc(t,g,f);break;case 3:case 4:var _=c.stateNode.containerInfo,R=Zh(t);Cc(t,R,_);break;default:throw Error(n(161))}}catch(P){Je(t,t.return,P)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function U0(t,s,i){ae=t,np(t)}function np(t,s,i){for(var c=(t.mode&1)!==0;ae!==null;){var f=ae,g=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Bi;if(!_){var R=f.alternate,P=R!==null&&R.memoizedState!==null||kt;R=Bi;var B=kt;if(Bi=_,(kt=P)&&!B)for(ae=f;ae!==null;)_=ae,P=_.child,_.tag===22&&_.memoizedState!==null?ip(f):P!==null?(P.return=_,ae=P):ip(f);for(;g!==null;)ae=g,np(g),g=g.sibling;ae=f,Bi=R,kt=B}sp(t)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ae=g):sp(t)}}function sp(t){for(;ae!==null;){var s=ae;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:kt||Wi(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!kt)if(i===null)c.componentDidMount();else{var f=s.elementType===s.type?i.memoizedProps:Xt(s.type,i.memoizedProps);c.componentDidUpdate(f,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&oh(s,g,c);break;case 3:var _=s.updateQueue;if(_!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}oh(s,_,i)}break;case 5:var R=s.stateNode;if(i===null&&s.flags&4){i=R;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var ee=B.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&Zs(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||s.flags&512&&kc(s)}catch(X){Je(s,s.return,X)}}if(s===t){ae=null;break}if(i=s.sibling,i!==null){i.return=s.return,ae=i;break}ae=s.return}}function op(t){for(;ae!==null;){var s=ae;if(s===t){ae=null;break}var i=s.sibling;if(i!==null){i.return=s.return,ae=i;break}ae=s.return}}function ip(t){for(;ae!==null;){var s=ae;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Wi(4,s)}catch(P){Je(s,i,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(P){Je(s,f,P)}}var g=s.return;try{kc(s)}catch(P){Je(s,g,P)}break;case 5:var _=s.return;try{kc(s)}catch(P){Je(s,_,P)}}}catch(P){Je(s,s.return,P)}if(s===t){ae=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ae=R;break}ae=s.return}}var z0=Math.ceil,Hi=I.ReactCurrentDispatcher,Tc=I.ReactCurrentOwner,Kt=I.ReactCurrentBatchConfig,Pe=0,ht=null,tt=null,yt=0,Mt=0,us=Br(0),at=0,So=null,En=0,qi=0,Nc=0,Eo=null,jt=null,Pc=0,ds=1/0,Rr=null,Ki=!1,jc=null,Jr=null,Gi=!1,Yr=null,Ji=0,ko=0,Ac=null,Yi=-1,Qi=0;function Rt(){return(Pe&6)!==0?Ze():Yi!==-1?Yi:Yi=Ze()}function Qr(t){return(t.mode&1)===0?1:(Pe&2)!==0&&yt!==0?yt&-yt:E0.transition!==null?(Qi===0&&(Qi=Xd()),Qi):(t=$e,t!==0||(t=window.event,t=t===void 0?16:lf(t.type)),t)}function tr(t,s,i,c){if(50<ko)throw ko=0,Ac=null,Error(n(185));Gs(t,i,c),((Pe&2)===0||t!==ht)&&(t===ht&&((Pe&2)===0&&(qi|=i),at===4&&Xr(t,yt)),At(t,c),i===1&&Pe===0&&(s.mode&1)===0&&(ds=Ze()+500,ki&&Hr()))}function At(t,s){var i=t.callbackNode;Ew(t,s);var c=ii(t,t===ht?yt:0);if(c===0)i!==null&&Jd(i),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(i!=null&&Jd(i),s===1)t.tag===0?S0(lp.bind(null,t)):Kf(lp.bind(null,t)),w0(function(){(Pe&6)===0&&Hr()}),i=null;else{switch(Zd(c)){case 1:i=dl;break;case 4:i=Yd;break;case 16:i=ri;break;case 536870912:i=Qd;break;default:i=ri}i=gp(i,ap.bind(null,t))}t.callbackPriority=s,t.callbackNode=i}}function ap(t,s){if(Yi=-1,Qi=0,(Pe&6)!==0)throw Error(n(327));var i=t.callbackNode;if(fs()&&t.callbackNode!==i)return null;var c=ii(t,t===ht?yt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Xi(t,c);else{s=c;var f=Pe;Pe|=2;var g=up();(ht!==t||yt!==s)&&(Rr=null,ds=Ze()+500,Cn(t,s));do try{W0();break}catch(R){cp(t,R)}while(!0);Yl(),Hi.current=g,Pe=f,tt!==null?s=0:(ht=null,yt=0,s=at)}if(s!==0){if(s===2&&(f=fl(t),f!==0&&(c=f,s=Oc(t,f))),s===1)throw i=So,Cn(t,0),Xr(t,c),At(t,Ze()),i;if(s===6)Xr(t,c);else{if(f=t.current.alternate,(c&30)===0&&!V0(f)&&(s=Xi(t,c),s===2&&(g=fl(t),g!==0&&(c=g,s=Oc(t,g))),s===1))throw i=So,Cn(t,0),Xr(t,c),At(t,Ze()),i;switch(t.finishedWork=f,t.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rn(t,jt,Rr);break;case 3:if(Xr(t,c),(c&130023424)===c&&(s=Pc+500-Ze(),10<s)){if(ii(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){Rt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Fl(Rn.bind(null,t,jt,Rr),s);break}Rn(t,jt,Rr);break;case 4:if(Xr(t,c),(c&4194240)===c)break;for(s=t.eventTimes,f=-1;0<c;){var _=31-Jt(c);g=1<<_,_=s[_],_>f&&(f=_),c&=~g}if(c=f,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*z0(c/1960))-c,10<c){t.timeoutHandle=Fl(Rn.bind(null,t,jt,Rr),c);break}Rn(t,jt,Rr);break;case 5:Rn(t,jt,Rr);break;default:throw Error(n(329))}}}return At(t,Ze()),t.callbackNode===i?ap.bind(null,t):null}function Oc(t,s){var i=Eo;return t.current.memoizedState.isDehydrated&&(Cn(t,s).flags|=256),t=Xi(t,s),t!==2&&(s=jt,jt=i,s!==null&&Ic(s)),t}function Ic(t){jt===null?jt=t:jt.push.apply(jt,t)}function V0(t){for(var s=t;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var f=i[c],g=f.getSnapshot;f=f.value;try{if(!Yt(g(),f))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(t,s){for(s&=~Nc,s&=~qi,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var i=31-Jt(s),c=1<<i;t[i]=-1,s&=~c}}function lp(t){if((Pe&6)!==0)throw Error(n(327));fs();var s=ii(t,0);if((s&1)===0)return At(t,Ze()),null;var i=Xi(t,s);if(t.tag!==0&&i===2){var c=fl(t);c!==0&&(s=c,i=Oc(t,c))}if(i===1)throw i=So,Cn(t,0),Xr(t,s),At(t,Ze()),i;if(i===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Rn(t,jt,Rr),At(t,Ze()),null}function Dc(t,s){var i=Pe;Pe|=1;try{return t(s)}finally{Pe=i,Pe===0&&(ds=Ze()+500,ki&&Hr())}}function kn(t){Yr!==null&&Yr.tag===0&&(Pe&6)===0&&fs();var s=Pe;Pe|=1;var i=Kt.transition,c=$e;try{if(Kt.transition=null,$e=1,t)return t()}finally{$e=c,Kt.transition=i,Pe=s,(Pe&6)===0&&Hr()}}function $c(){Mt=us.current,Be(us)}function Cn(t,s){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,y0(i)),tt!==null)for(i=tt.return;i!==null;){var c=i;switch(Hl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Si();break;case 3:as(),Be(Tt),Be(bt),sc();break;case 5:rc(c);break;case 4:as();break;case 13:Be(Ke);break;case 19:Be(Ke);break;case 10:Ql(c.type._context);break;case 22:case 23:$c()}i=i.return}if(ht=t,tt=t=Zr(t.current,null),yt=Mt=s,at=0,So=null,Nc=qi=En=0,jt=Eo=null,_n!==null){for(s=0;s<_n.length;s++)if(i=_n[s],c=i.interleaved,c!==null){i.interleaved=null;var f=c.next,g=i.pending;if(g!==null){var _=g.next;g.next=f,c.next=_}i.pending=c}_n=null}return t}function cp(t,s){do{var i=tt;try{if(Yl(),Di.current=Fi,$i){for(var c=Ge.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}$i=!1}if(Sn=0,ft=it=Ge=null,vo=!1,yo=0,Tc.current=null,i===null||i.return===null){at=1,So=s,tt=null;break}e:{var g=t,_=i.return,R=i,P=s;if(s=yt,R.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ie=Ih(_);if(ie!==null){ie.flags&=-257,Dh(ie,_,R,g,s),ie.mode&1&&Oh(g,B,s),s=ie,P=B;var le=s.updateQueue;if(le===null){var ce=new Set;ce.add(P),s.updateQueue=ce}else le.add(P);break e}else{if((s&1)===0){Oh(g,B,s),Lc();break e}P=Error(n(426))}}else if(He&&R.mode&1){var et=Ih(_);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),Dh(et,_,R,g,s),Gl(ls(P,R));break e}}g=P=ls(P,R),at!==4&&(at=2),Eo===null?Eo=[g]:Eo.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var L=jh(g,P,s);sh(g,L);break e;case 1:R=P;var O=g.type,F=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Jr===null||!Jr.has(F)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Ah(g,R,s);sh(g,ne);break e}}g=g.return}while(g!==null)}fp(i)}catch(ue){s=ue,tt===i&&i!==null&&(tt=i=i.return);continue}break}while(!0)}function up(){var t=Hi.current;return Hi.current=Fi,t===null?Fi:t}function Lc(){(at===0||at===3||at===2)&&(at=4),ht===null||(En&268435455)===0&&(qi&268435455)===0||Xr(ht,yt)}function Xi(t,s){var i=Pe;Pe|=2;var c=up();(ht!==t||yt!==s)&&(Rr=null,Cn(t,s));do try{B0();break}catch(f){cp(t,f)}while(!0);if(Yl(),Pe=i,Hi.current=c,tt!==null)throw Error(n(261));return ht=null,yt=0,at}function B0(){for(;tt!==null;)dp(tt)}function W0(){for(;tt!==null&&!mw();)dp(tt)}function dp(t){var s=mp(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,s===null?fp(t):tt=s,Tc.current=null}function fp(t){var s=t;do{var i=s.alternate;if(t=s.return,(s.flags&32768)===0){if(i=$0(i,s,Mt),i!==null){tt=i;return}}else{if(i=L0(i,s),i!==null){i.flags&=32767,tt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,tt=null;return}}if(s=s.sibling,s!==null){tt=s;return}tt=s=t}while(s!==null);at===0&&(at=5)}function Rn(t,s,i){var c=$e,f=Kt.transition;try{Kt.transition=null,$e=1,H0(t,s,i,c)}finally{Kt.transition=f,$e=c}return null}function H0(t,s,i,c){do fs();while(Yr!==null);if((Pe&6)!==0)throw Error(n(327));i=t.finishedWork;var f=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=i.lanes|i.childLanes;if(kw(t,g),t===ht&&(tt=ht=null,yt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Gi||(Gi=!0,gp(ri,function(){return fs(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=Kt.transition,Kt.transition=null;var _=$e;$e=1;var R=Pe;Pe|=4,Tc.current=null,F0(t,i),rp(i,t),d0(Ll),ci=!!$l,Ll=$l=null,t.current=i,U0(i),gw(),Pe=R,$e=_,Kt.transition=g}else t.current=i;if(Gi&&(Gi=!1,Yr=t,Ji=f),g=t.pendingLanes,g===0&&(Jr=null),ww(i.stateNode),At(t,Ze()),s!==null)for(c=t.onRecoverableError,i=0;i<s.length;i++)f=s[i],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ki)throw Ki=!1,t=jc,jc=null,t;return(Ji&1)!==0&&t.tag!==0&&fs(),g=t.pendingLanes,(g&1)!==0?t===Ac?ko++:(ko=0,Ac=t):ko=0,Hr(),null}function fs(){if(Yr!==null){var t=Zd(Ji),s=Kt.transition,i=$e;try{if(Kt.transition=null,$e=16>t?16:t,Yr===null)var c=!1;else{if(t=Yr,Yr=null,Ji=0,(Pe&6)!==0)throw Error(n(331));var f=Pe;for(Pe|=4,ae=t.current;ae!==null;){var g=ae,_=g.child;if((ae.flags&16)!==0){var R=g.deletions;if(R!==null){for(var P=0;P<R.length;P++){var B=R[P];for(ae=B;ae!==null;){var ee=ae;switch(ee.tag){case 0:case 11:case 15:bo(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,ae=te;else for(;ae!==null;){ee=ae;var X=ee.sibling,ie=ee.return;if(Qh(ee),ee===B){ae=null;break}if(X!==null){X.return=ie,ae=X;break}ae=ie}}}var le=g.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var et=ce.sibling;ce.sibling=null,ce=et}while(ce!==null)}}ae=g}}if((g.subtreeFlags&2064)!==0&&_!==null)_.return=g,ae=_;else e:for(;ae!==null;){if(g=ae,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:bo(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,ae=L;break e}ae=g.return}}var O=t.current;for(ae=O;ae!==null;){_=ae;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,ae=F;else e:for(_=O;ae!==null;){if(R=ae,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Wi(9,R)}}catch(ue){Je(R,R.return,ue)}if(R===_){ae=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ae=ne;break e}ae=R.return}}if(Pe=f,Hr(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(ni,t)}catch{}c=!0}return c}finally{$e=i,Kt.transition=s}}return!1}function hp(t,s,i){s=ls(i,s),s=jh(t,s,1),t=Kr(t,s,1),s=Rt(),t!==null&&(Gs(t,1,s),At(t,s))}function Je(t,s,i){if(t.tag===3)hp(t,t,i);else for(;s!==null;){if(s.tag===3){hp(s,t,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){t=ls(i,t),t=Ah(s,t,1),s=Kr(s,t,1),t=Rt(),s!==null&&(Gs(s,1,t),At(s,t));break}}s=s.return}}function q0(t,s,i){var c=t.pingCache;c!==null&&c.delete(s),s=Rt(),t.pingedLanes|=t.suspendedLanes&i,ht===t&&(yt&i)===i&&(at===4||at===3&&(yt&130023424)===yt&&500>Ze()-Pc?Cn(t,0):Nc|=i),At(t,s)}function pp(t,s){s===0&&((t.mode&1)===0?s=1:(s=oi,oi<<=1,(oi&130023424)===0&&(oi=4194304)));var i=Rt();t=Er(t,s),t!==null&&(Gs(t,s,i),At(t,i))}function K0(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),pp(t,i)}function G0(t,s){var i=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),pp(t,i)}var mp;mp=function(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps||Tt.current)Pt=!0;else{if((t.lanes&i)===0&&(s.flags&128)===0)return Pt=!1,D0(t,s,i);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(s.flags&1048576)!==0&&Gf(s,Ri,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Vi(t,s),t=s.pendingProps;var f=es(s,bt.current);is(s,i),f=ac(null,s,c,t,f,i);var g=lc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Nt(c)?(g=!0,Ei(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ec(s),f.updater=Ui,s.stateNode=f,f._reactInternals=s,pc(s,c,t,i),s=yc(null,s,c,!0,g,i)):(s.tag=0,He&&g&&Wl(s),Ct(null,s,f,i),s=s.child),s;case 16:c=s.elementType;e:{switch(Vi(t,s),t=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Y0(c),t=Xt(c,t),f){case 0:s=vc(null,s,c,t,i);break e;case 1:s=zh(null,s,c,t,i);break e;case 11:s=$h(null,s,c,t,i);break e;case 14:s=Lh(null,s,c,Xt(c.type,t),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),vc(t,s,c,f,i);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),zh(t,s,c,f,i);case 3:e:{if(Vh(s),t===null)throw Error(n(387));c=s.pendingProps,g=s.memoizedState,f=g.element,nh(t,s),Oi(s,c,null,i);var _=s.memoizedState;if(c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ls(Error(n(423)),s),s=Bh(t,s,c,i,f);break e}else if(c!==f){f=ls(Error(n(424)),s),s=Bh(t,s,c,i,f);break e}else for(Lt=Vr(s.stateNode.containerInfo.firstChild),$t=s,He=!0,Qt=null,i=th(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ns(),c===f){s=Cr(t,s,i);break e}Ct(t,s,c,i)}s=s.child}return s;case 5:return ih(s),t===null&&Kl(s),c=s.type,f=s.pendingProps,g=t!==null?t.memoizedProps:null,_=f.children,Ml(c,f)?_=null:g!==null&&Ml(c,g)&&(s.flags|=32),Uh(t,s),Ct(t,s,_,i),s.child;case 6:return t===null&&Kl(s),null;case 13:return Wh(t,s,i);case 4:return tc(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=ss(s,null,c,i):Ct(t,s,c,i),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),$h(t,s,c,f,i);case 7:return Ct(t,s,s.pendingProps,i),s.child;case 8:return Ct(t,s,s.pendingProps.children,i),s.child;case 12:return Ct(t,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,_=f.value,Fe(Pi,c._currentValue),c._currentValue=_,g!==null)if(Yt(g.value,_)){if(g.children===f.children&&!Tt.current){s=Cr(t,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){_=g.child;for(var P=R.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=kr(-1,i&-i),P.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var ee=B.pending;ee===null?P.next=P:(P.next=ee.next,ee.next=P),B.pending=P}}g.lanes|=i,P=g.alternate,P!==null&&(P.lanes|=i),Xl(g.return,i,s),R.lanes|=i;break}P=P.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(n(341));_.lanes|=i,R=_.alternate,R!==null&&(R.lanes|=i),Xl(_,i,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ct(t,s,f.children,i),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,is(s,i),f=Ht(f),c=c(f),s.flags|=1,Ct(t,s,c,i),s.child;case 14:return c=s.type,f=Xt(c,s.pendingProps),f=Xt(c.type,f),Lh(t,s,c,f,i);case 15:return Mh(t,s,s.type,s.pendingProps,i);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Xt(c,f),Vi(t,s),s.tag=1,Nt(c)?(t=!0,Ei(s)):t=!1,is(s,i),Nh(s,c,f),pc(s,c,f,i),yc(null,s,c,!0,t,i);case 19:return qh(t,s,i);case 22:return Fh(t,s,i)}throw Error(n(156,s.tag))};function gp(t,s){return Gd(t,s)}function J0(t,s,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,s,i,c){return new J0(t,s,i,c)}function Mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y0(t){if(typeof t=="function")return Mc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G)return 11;if(t===se)return 14}return 2}function Zr(t,s){var i=t.alternate;return i===null?(i=Gt(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Zi(t,s,i,c,f,g){var _=2;if(c=t,typeof t=="function")Mc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case j:return Tn(i.children,f,g,s);case q:_=8,f|=8;break;case K:return t=Gt(12,i,s,f|2),t.elementType=K,t.lanes=g,t;case W:return t=Gt(13,i,s,f),t.elementType=W,t.lanes=g,t;case Z:return t=Gt(19,i,s,f),t.elementType=Z,t.lanes=g,t;case Y:return ea(i,f,g,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:_=10;break e;case V:_=9;break e;case G:_=11;break e;case se:_=14;break e;case H:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return s=Gt(_,i,s,f),s.elementType=t,s.type=c,s.lanes=g,s}function Tn(t,s,i,c){return t=Gt(7,t,c,s),t.lanes=i,t}function ea(t,s,i,c){return t=Gt(22,t,c,s),t.elementType=Y,t.lanes=i,t.stateNode={isHidden:!1},t}function Fc(t,s,i){return t=Gt(6,t,null,s),t.lanes=i,t}function Uc(t,s,i){return s=Gt(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Q0(t,s,i,c,f){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function zc(t,s,i,c,f,g,_,R,P){return t=new Q0(t,s,i,R,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Gt(3,null,null,s),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec(g),t}function X0(t,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:c==null?null:""+c,children:t,containerInfo:s,implementation:i}}function vp(t){if(!t)return Wr;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(n(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Nt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(t.tag===1){var i=t.type;if(Nt(i))return Hf(t,i,s)}return s}function yp(t,s,i,c,f,g,_,R,P){return t=zc(i,c,!0,t,f,g,_,R,P),t.context=vp(null),i=t.current,c=Rt(),f=Qr(i),g=kr(c,f),g.callback=s??null,Kr(i,g,f),t.current.lanes=f,Gs(t,f,c),At(t,c),t}function ta(t,s,i,c){var f=s.current,g=Rt(),_=Qr(f);return i=vp(i),s.context===null?s.context=i:s.pendingContext=i,s=kr(g,_),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Kr(f,s,_),t!==null&&(tr(t,f,_,g),Ai(t,f,_)),_}function ra(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function Vc(t,s){wp(t,s),(t=t.alternate)&&wp(t,s)}function Z0(){return null}var xp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bc(t){this._internalRoot=t}na.prototype.render=Bc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));ta(t,s,null,null)},na.prototype.unmount=Bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;kn(function(){ta(null,t,null,null)}),s[xr]=null}};function na(t){this._internalRoot=t}na.prototype.unstable_scheduleHydration=function(t){if(t){var s=rf();t={blockedOn:null,target:t,priority:s};for(var i=0;i<Fr.length&&s!==0&&s<Fr[i].priority;i++);Fr.splice(i,0,t),i===0&&of(t)}};function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _p(){}function ex(t,s,i,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var B=ra(_);g.call(B)}}var _=yp(s,c,t,0,null,!1,!1,"",_p);return t._reactRootContainer=_,t[xr]=_.current,lo(t.nodeType===8?t.parentNode:t),kn(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var R=c;c=function(){var B=ra(P);R.call(B)}}var P=zc(t,0,!1,null,null,!1,!1,"",_p);return t._reactRootContainer=P,t[xr]=P.current,lo(t.nodeType===8?t.parentNode:t),kn(function(){ta(s,P,i,c)}),P}function oa(t,s,i,c,f){var g=i._reactRootContainer;if(g){var _=g;if(typeof f=="function"){var R=f;f=function(){var P=ra(_);R.call(P)}}ta(s,_,t,f)}else _=ex(i,s,t,f,c);return ra(_)}ef=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var i=Ks(s.pendingLanes);i!==0&&(pl(s,i|1),At(s,Ze()),(Pe&6)===0&&(ds=Ze()+500,Hr()))}break;case 13:kn(function(){var c=Er(t,1);if(c!==null){var f=Rt();tr(c,t,1,f)}}),Vc(t,1)}},ml=function(t){if(t.tag===13){var s=Er(t,134217728);if(s!==null){var i=Rt();tr(s,t,134217728,i)}Vc(t,134217728)}},tf=function(t){if(t.tag===13){var s=Qr(t),i=Er(t,s);if(i!==null){var c=Rt();tr(i,t,s,c)}Vc(t,s)}},rf=function(){return $e},nf=function(t,s){var i=$e;try{return $e=t,s()}finally{$e=i}},al=function(t,s,i){switch(s){case"input":if(Ie(t,i),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==t&&c.form===t.form){var f=bi(c);if(!f)throw Error(n(90));ze(c),Ie(c,f)}}}break;case"textarea":mn(t,i);break;case"select":s=i.value,s!=null&&dt(t,!!i.multiple,s,!1)}},zd=Dc,Vd=kn;var tx={usingClientEntryPoint:!1,Events:[fo,Xn,bi,Fd,Ud,Dc]},Co={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rx={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qd(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{ni=ia.inject(rx),lr=ia}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,Ot.createPortal=function(t,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(s))throw Error(n(200));return X0(t,s,null,i)},Ot.createRoot=function(t,s){if(!Wc(t))throw Error(n(299));var i=!1,c="",f=xp;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=zc(t,1,!1,null,null,i,!1,c,f),t[xr]=s.current,lo(t.nodeType===8?t.parentNode:t),new Bc(s)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=qd(s),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return kn(t)},Ot.hydrate=function(t,s,i){if(!sa(s))throw Error(n(200));return oa(null,t,s,!0,i)},Ot.hydrateRoot=function(t,s,i){if(!Wc(t))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,f=!1,g="",_=xp;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),s=yp(s,null,t,1,i??null,f,!1,g,_),t[xr]=s.current,lo(t),c)for(t=0;t<c.length;t++)i=c[t],f=i._getVersion,f=f(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,f]:s.mutableSourceEagerHydrationData.push(i,f);return new na(s)},Ot.render=function(t,s,i){if(!sa(s))throw Error(n(200));return oa(null,t,s,!1,i)},Ot.unmountComponentAtNode=function(t){if(!sa(t))throw Error(n(40));return t._reactRootContainer?(kn(function(){oa(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1},Ot.unstable_batchedUpdates=Dc,Ot.unstable_renderSubtreeIntoContainer=function(t,s,i,c){if(!sa(i))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return oa(t,s,i,!1,c)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Np;function Mm(){if(Np)return Kc.exports;Np=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kc.exports=ux(),Kc.exports}var Pp;function dx(){if(Pp)return aa;Pp=1;var r=Mm();return aa.createRoot=r.createRoot,aa.hydrateRoot=r.hydrateRoot,aa}var fx=dx(),qo=Mm();const hx=Lm(qo);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Do.apply(this,arguments)}var an;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(an||(an={}));const jp="popstate";function px(r){r===void 0&&(r={});function e(o,a){let{pathname:l,search:u,hash:d}=o.location;return yu("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:Ca(a)}return gx(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fm(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mx(){return Math.random().toString(36).substr(2,8)}function Ap(r,e){return{usr:r.state,key:r.key,idx:e}}function yu(r,e,n,o){return n===void 0&&(n=null),Do({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Is(e):e,{state:n,key:e&&e.key||o||mx()})}function Ca(r){let{pathname:e="/",search:n="",hash:o=""}=r;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Is(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substr(n),r=r.substr(0,n));let o=r.indexOf("?");o>=0&&(e.search=r.substr(o),r=r.substr(0,o)),r&&(e.pathname=r)}return e}function gx(r,e,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:l=!1}=o,u=a.history,d=an.Pop,h=null,m=v();m==null&&(m=0,u.replaceState(Do({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function y(){d=an.Pop;let E=v(),C=E==null?null:E-m;m=E,h&&h({action:d,location:x.location,delta:C})}function b(E,C){d=an.Push;let T=yu(x.location,E,C);m=v()+1;let N=Ap(T,m),I=x.createHref(T);try{u.pushState(N,"",I)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(I)}l&&h&&h({action:d,location:x.location,delta:1})}function S(E,C){d=an.Replace;let T=yu(x.location,E,C);m=v();let N=Ap(T,m),I=x.createHref(T);u.replaceState(N,"",I),l&&h&&h({action:d,location:x.location,delta:0})}function k(E){let C=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof E=="string"?E:Ca(E);return T=T.replace(/ $/,"%20"),nt(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let x={get action(){return d},get location(){return r(a,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(jp,y),h=E,()=>{a.removeEventListener(jp,y),h=null}},createHref(E){return e(a,E)},createURL:k,encodeLocation(E){let C=k(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:S,go(E){return u.go(E)}};return x}var Op;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Op||(Op={}));function vx(r,e,n){return n===void 0&&(n="/"),yx(r,e,n)}function yx(r,e,n,o){let a=typeof e=="string"?Is(e):e,l=Ju(a.pathname||"/",n);if(l==null)return null;let u=Um(r);wx(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=jx(l);d=Tx(u[h],m)}return d}function Um(r,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(nt(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let m=ln([o,h.relativePath]),v=n.concat(h);l.children&&l.children.length>0&&(nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Um(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:Cx(m,l.index),routesMeta:v})};return r.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let h of zm(l.path))a(l,u,h)}),e}function zm(r){let e=r.split("/");if(e.length===0)return[];let[n,...o]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return a?[l,""]:[l];let u=zm(o.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...u),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function wx(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Rx(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const xx=/^:[\w-]+$/,_x=3,bx=2,Sx=1,Ex=10,kx=-2,Ip=r=>r==="*";function Cx(r,e){let n=r.split("/"),o=n.length;return n.some(Ip)&&(o+=kx),e&&(o+=bx),n.filter(a=>!Ip(a)).reduce((a,l)=>a+(xx.test(l)?_x:l===""?Sx:Ex),o)}function Rx(r,e){return r.length===e.length&&r.slice(0,-1).every((o,a)=>o===e[a])?r[r.length-1]-e[e.length-1]:0}function Tx(r,e,n){let{routesMeta:o}=r,a={},l="/",u=[];for(let d=0;d<o.length;++d){let h=o[d],m=d===o.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=Nx({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ln([l,y.pathname]),pathnameBase:Dx(ln([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=ln([l,y.pathnameBase]))}return u}function Nx(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,o]=Px(r.path,r.caseSensitive,r.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:o.reduce((m,v,y)=>{let{paramName:b,isOptional:S}=v;if(b==="*"){let x=d[y]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const k=d[y];return S&&!k?m[b]=void 0:m[b]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:r}}function Px(r,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fm(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function jx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fm(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Ju(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=r.charAt(n);return o&&o!=="/"?null:r.slice(n)||"/"}function Ax(r,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:a=""}=typeof r=="string"?Is(r):r;return{pathname:n?n.startsWith("/")?n:Ox(n,e):e,search:$x(o),hash:Lx(a)}}function Ox(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yc(r,e,n,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ix(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vm(r,e){let n=Ix(r);return e?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Bm(r,e,n,o){o===void 0&&(o=!1);let a;typeof r=="string"?a=Is(r):(a=Do({},r),nt(!a.pathname||!a.pathname.includes("?"),Yc("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),Yc("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),Yc("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=n;else{let y=e.length-1;if(!o&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=Ax(a,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}const ln=r=>r.join("/").replace(/\/\/+/g,"/"),Dx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Lx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Mx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Wm=["post","put","patch","delete"];new Set(Wm);const Fx=["get",...Wm];new Set(Fx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},$o.apply(this,arguments)}const Yu=w.createContext(null),Ux=w.createContext(null),zn=w.createContext(null),Ma=w.createContext(null),Vn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Hm=w.createContext(null);function zx(r,e){let{relative:n}=e===void 0?{}:e;Ko()||nt(!1);let{basename:o,navigator:a}=w.useContext(zn),{hash:l,pathname:u,search:d}=Km(r,{relative:n}),h=u;return o!=="/"&&(h=u==="/"?o:ln([o,u])),a.createHref({pathname:h,search:d,hash:l})}function Ko(){return w.useContext(Ma)!=null}function Go(){return Ko()||nt(!1),w.useContext(Ma).location}function qm(r){w.useContext(zn).static||w.useLayoutEffect(r)}function Vx(){let{isDataRoute:r}=w.useContext(Vn);return r?t_():Bx()}function Bx(){Ko()||nt(!1);let r=w.useContext(Yu),{basename:e,future:n,navigator:o}=w.useContext(zn),{matches:a}=w.useContext(Vn),{pathname:l}=Go(),u=JSON.stringify(Vm(a,n.v7_relativeSplatPath)),d=w.useRef(!1);return qm(()=>{d.current=!0}),w.useCallback(function(m,v){if(v===void 0&&(v={}),!d.current)return;if(typeof m=="number"){o.go(m);return}let y=Bm(m,JSON.parse(u),l,v.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ln([e,y.pathname])),(v.replace?o.replace:o.push)(y,v.state,v)},[e,o,u,l,r])}function Km(r,e){let{relative:n}=e===void 0?{}:e,{future:o}=w.useContext(zn),{matches:a}=w.useContext(Vn),{pathname:l}=Go(),u=JSON.stringify(Vm(a,o.v7_relativeSplatPath));return w.useMemo(()=>Bm(r,JSON.parse(u),l,n==="path"),[r,u,l,n])}function Wx(r,e){return Hx(r,e)}function Hx(r,e,n,o){Ko()||nt(!1);let{navigator:a}=w.useContext(zn),{matches:l}=w.useContext(Vn),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=Go(),v;if(e){var y;let E=typeof e=="string"?Is(e):e;h==="/"||(y=E.pathname)!=null&&y.startsWith(h)||nt(!1),v=E}else v=m;let b=v.pathname||"/",S=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=vx(r,{pathname:S}),x=Yx(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:ln([h,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ln([h,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,o);return e&&x?w.createElement(Ma.Provider,{value:{location:$o({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:an.Pop}},x):x}function qx(){let r=e_(),e=Mx(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,null)}const Kx=w.createElement(qx,null);class Gx extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Vn.Provider,{value:this.props.routeContext},w.createElement(Hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jx(r){let{routeContext:e,match:n,children:o}=r,a=w.useContext(Yu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Vn.Provider,{value:e},o)}function Yx(r,e,n,o){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),r==null){var l;if(!n)return null;if(n.errors)r=n.matches;else if((l=o)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,d=(a=n)==null?void 0:a.errors;if(d!=null){let v=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);v>=0||nt(!1),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,m=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<u.length;v++){let y=u[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=v),y.route.id){let{loaderData:b,errors:S}=n,k=y.route.loader&&b[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||k){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,y,b)=>{let S,k=!1,x=null,E=null;n&&(S=d&&y.route.id?d[y.route.id]:void 0,x=y.route.errorElement||Kx,h&&(m<0&&b===0?(r_("route-fallback"),k=!0,E=null):m===b&&(k=!0,E=y.route.hydrateFallbackElement||null)));let C=e.concat(u.slice(0,b+1)),T=()=>{let N;return S?N=x:k?N=E:y.route.Component?N=w.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=v,w.createElement(Jx,{match:y,routeContext:{outlet:v,matches:C,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?w.createElement(Gx,{location:n.location,revalidation:n.revalidation,component:x,error:S,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var Gm=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Gm||{}),Jm=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Jm||{});function Qx(r){let e=w.useContext(Yu);return e||nt(!1),e}function Xx(r){let e=w.useContext(Ux);return e||nt(!1),e}function Zx(r){let e=w.useContext(Vn);return e||nt(!1),e}function Ym(r){let e=Zx(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function e_(){var r;let e=w.useContext(Hm),n=Xx(),o=Ym();return e!==void 0?e:(r=n.errors)==null?void 0:r[o]}function t_(){let{router:r}=Qx(Gm.UseNavigateStable),e=Ym(Jm.UseNavigateStable),n=w.useRef(!1);return qm(()=>{n.current=!0}),w.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,$o({fromRouteId:e},l)))},[r,e])}const Dp={};function r_(r,e,n){Dp[r]||(Dp[r]=!0)}function n_(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function _a(r){nt(!1)}function s_(r){let{basename:e="/",children:n=null,location:o,navigationType:a=an.Pop,navigator:l,static:u=!1,future:d}=r;Ko()&&nt(!1);let h=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:h,navigator:l,static:u,future:$o({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);typeof o=="string"&&(o=Is(o));let{pathname:v="/",search:y="",hash:b="",state:S=null,key:k="default"}=o,x=w.useMemo(()=>{let E=Ju(v,h);return E==null?null:{location:{pathname:E,search:y,hash:b,state:S,key:k},navigationType:a}},[h,v,y,b,S,k,a]);return x==null?null:w.createElement(zn.Provider,{value:m},w.createElement(Ma.Provider,{children:n,value:x}))}function o_(r){let{children:e,location:n}=r;return Wx(wu(e),n)}new Promise(()=>{});function wu(r,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(r,(o,a)=>{if(!w.isValidElement(o))return;let l=[...e,a];if(o.type===w.Fragment){n.push.apply(n,wu(o.props.children,l));return}o.type!==_a&&nt(!1),!o.props.index||!o.props.children||nt(!1);let u={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=wu(o.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},xu.apply(this,arguments)}function i_(r,e){if(r==null)return{};var n={},o=Object.keys(r),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(n[a]=r[a]);return n}function a_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function l_(r,e){return r.button===0&&(!e||e==="_self")&&!a_(r)}const c_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u_="6";try{window.__reactRouterVersion=u_}catch{}const d_="startTransition",$p=Gu[d_];function f_(r){let{basename:e,children:n,future:o,window:a}=r,l=w.useRef();l.current==null&&(l.current=px({window:a,v5Compat:!0}));let u=l.current,[d,h]=w.useState({action:u.action,location:u.location}),{v7_startTransition:m}=o||{},v=w.useCallback(y=>{m&&$p?$p(()=>h(y)):h(y)},[h,m]);return w.useLayoutEffect(()=>u.listen(v),[u,v]),w.useEffect(()=>n_(o),[o]),w.createElement(s_,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:u,future:o})}const h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qm=w.forwardRef(function(e,n){let{onClick:o,relative:a,reloadDocument:l,replace:u,state:d,target:h,to:m,preventScrollReset:v,viewTransition:y}=e,b=i_(e,c_),{basename:S}=w.useContext(zn),k,x=!1;if(typeof m=="string"&&p_.test(m)&&(k=m,h_))try{let N=new URL(window.location.href),I=m.startsWith("//")?new URL(N.protocol+m):new URL(m),z=Ju(I.pathname,S);I.origin===N.origin&&z!=null?m=z+I.search+I.hash:x=!0}catch{}let E=zx(m,{relative:a}),C=m_(m,{replace:u,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:y});function T(N){o&&o(N),N.defaultPrevented||C(N)}return w.createElement("a",xu({},b,{href:k||E,onClick:x||l?o:T,ref:n,target:h}))});var Lp;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Lp||(Lp={}));var Mp;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Mp||(Mp={}));function m_(r,e){let{target:n,replace:o,state:a,preventScrollReset:l,relative:u,viewTransition:d}=e===void 0?{}:e,h=Vx(),m=Go(),v=Km(r,{relative:u});return w.useCallback(y=>{if(l_(y,n)){y.preventDefault();let b=o!==void 0?o:Ca(m)===Ca(v);h(r,{replace:b,state:a,preventScrollReset:l,relative:u,viewTransition:d})}},[m,h,v,o,a,n,r,l,u,d])}function Xm(r){var e,n,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(n=Xm(r[e]))&&(o&&(o+=" "),o+=n)}else for(n in r)r[n]&&(o&&(o+=" "),o+=n);return o}function Zm(){for(var r,e,n=0,o="",a=arguments.length;n<a;n++)(r=arguments[n])&&(e=Xm(r))&&(o&&(o+=" "),o+=e);return o}const Qu="-",g_=r=>{const e=y_(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:u=>{const d=u.split(Qu);return d[0]===""&&d.length!==1&&d.shift(),eg(d,e)||v_(u)},getConflictingClassGroupIds:(u,d)=>{const h=n[u]||[];return d&&o[u]?[...h,...o[u]]:h}}},eg=(r,e)=>{if(r.length===0)return e.classGroupId;const n=r[0],o=e.nextPart.get(n),a=o?eg(r.slice(1),o):void 0;if(a)return a;if(e.validators.length===0)return;const l=r.join(Qu);return e.validators.find(({validator:u})=>u(l))?.classGroupId},Fp=/^\[(.+)\]$/,v_=r=>{if(Fp.test(r)){const e=Fp.exec(r)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},y_=r=>{const{theme:e,prefix:n}=r,o={nextPart:new Map,validators:[]};return x_(Object.entries(r.classGroups),n).forEach(([l,u])=>{_u(u,o,l,e)}),o},_u=(r,e,n,o)=>{r.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Up(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(w_(a)){_u(a(o),e,n,o);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,u])=>{_u(u,Up(e,l),n,o)})})},Up=(r,e)=>{let n=r;return e.split(Qu).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},w_=r=>r.isThemeGetter,x_=(r,e)=>e?r.map(([n,o])=>{const a=o.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([u,d])=>[e+u,d])):l);return[n,a]}):r,__=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,o=new Map;const a=(l,u)=>{n.set(l,u),e++,e>r&&(e=0,o=n,n=new Map)};return{get(l){let u=n.get(l);if(u!==void 0)return u;if((u=o.get(l))!==void 0)return a(l,u),u},set(l,u){n.has(l)?n.set(l,u):a(l,u)}}},tg="!",b_=r=>{const{separator:e,experimentalParseClassName:n}=r,o=e.length===1,a=e[0],l=e.length,u=d=>{const h=[];let m=0,v=0,y;for(let E=0;E<d.length;E++){let C=d[E];if(m===0){if(C===a&&(o||d.slice(E,E+l)===e)){h.push(d.slice(v,E)),v=E+l;continue}if(C==="/"){y=E;continue}}C==="["?m++:C==="]"&&m--}const b=h.length===0?d:d.substring(v),S=b.startsWith(tg),k=S?b.substring(1):b,x=y&&y>v?y-v:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:x}};return n?d=>n({className:d,parseClassName:u}):u},S_=r=>{if(r.length<=1)return r;const e=[];let n=[];return r.forEach(o=>{o[0]==="["?(e.push(...n.sort(),o),n=[]):n.push(o)}),e.push(...n.sort()),e},E_=r=>({cache:__(r.cacheSize),parseClassName:b_(r),...g_(r)}),k_=/\s+/,C_=(r,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a}=e,l=[],u=r.trim().split(k_);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:v,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:S}=n(m);let k=!!S,x=o(k?b.substring(0,S):b);if(!x){if(!k){d=m+(d.length>0?" "+d:d);continue}if(x=o(b),!x){d=m+(d.length>0?" "+d:d);continue}k=!1}const E=S_(v).join(":"),C=y?E+tg:E,T=C+x;if(l.includes(T))continue;l.push(T);const N=a(x,k);for(let I=0;I<N.length;++I){const z=N[I];l.push(C+z)}d=m+(d.length>0?" "+d:d)}return d};function R_(){let r=0,e,n,o="";for(;r<arguments.length;)(e=arguments[r++])&&(n=rg(e))&&(o&&(o+=" "),o+=n);return o}const rg=r=>{if(typeof r=="string")return r;let e,n="";for(let o=0;o<r.length;o++)r[o]&&(e=rg(r[o]))&&(n&&(n+=" "),n+=e);return n};function T_(r,...e){let n,o,a,l=u;function u(h){const m=e.reduce((v,y)=>y(v),r());return n=E_(m),o=n.cache.get,a=n.cache.set,l=d,d(h)}function d(h){const m=o(h);if(m)return m;const v=C_(h,n);return a(h,v),v}return function(){return l(R_.apply(null,arguments))}}const We=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},ng=/^\[(?:([a-z-]+):)?(.+)\]$/i,N_=/^\d+\/\d+$/,P_=new Set(["px","full","screen"]),j_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tr=r=>Cs(r)||P_.has(r)||N_.test(r),tn=r=>Ds(r,"length",B_),Cs=r=>!!r&&!Number.isNaN(Number(r)),Qc=r=>Ds(r,"number",Cs),To=r=>!!r&&Number.isInteger(Number(r)),$_=r=>r.endsWith("%")&&Cs(r.slice(0,-1)),Ce=r=>ng.test(r),rn=r=>j_.test(r),L_=new Set(["length","size","percentage"]),M_=r=>Ds(r,L_,sg),F_=r=>Ds(r,"position",sg),U_=new Set(["image","url"]),z_=r=>Ds(r,U_,H_),V_=r=>Ds(r,"",W_),No=()=>!0,Ds=(r,e,n)=>{const o=ng.exec(r);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):n(o[2]):!1},B_=r=>A_.test(r)&&!O_.test(r),sg=()=>!1,W_=r=>I_.test(r),H_=r=>D_.test(r),q_=()=>{const r=We("colors"),e=We("spacing"),n=We("blur"),o=We("brightness"),a=We("borderColor"),l=We("borderRadius"),u=We("borderSpacing"),d=We("borderWidth"),h=We("contrast"),m=We("grayscale"),v=We("hueRotate"),y=We("invert"),b=We("gap"),S=We("gradientColorStops"),k=We("gradientColorStopPositions"),x=We("inset"),E=We("margin"),C=We("opacity"),T=We("padding"),N=We("saturate"),I=We("scale"),z=We("sepia"),M=We("skew"),j=We("space"),q=We("translate"),K=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ce,e],G=()=>[Ce,e],W=()=>["",Tr,tn],Z=()=>["auto",Cs,Ce],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ce],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[Cs,Ce];return{cacheSize:500,separator:":",theme:{colors:[No],spacing:[Tr,tn],blur:["none","",rn,Ce],brightness:A(),borderColor:[r],borderRadius:["none","","full",rn,Ce],borderSpacing:G(),borderWidth:W(),contrast:A(),grayscale:U(),hueRotate:A(),invert:U(),gap:G(),gradientColorStops:[r],gradientColorStopPositions:[$_,tn],inset:V(),margin:V(),opacity:A(),padding:G(),saturate:A(),scale:A(),sepia:U(),skew:A(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[rn]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Ce]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,Ce]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",To,Ce]}],"grid-cols":[{"grid-cols":[No]}],"col-start-end":[{col:["auto",{span:["full",To,Ce]},Ce]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[No]}],"row-start-end":[{row:["auto",{span:[To,Ce]},Ce]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[rn]},rn]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rn,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qc]}],"font-family":[{font:[No]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Cs,Qc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tr,tn]}],"underline-offset":[{"underline-offset":["auto",Tr,Ce]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),F_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z_]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Tr,Ce]}],"outline-w":[{outline:[Tr,tn]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Tr,tn]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",rn,V_]}],"shadow-color":[{shadow:[No]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",rn,Ce]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[N]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[To,Ce]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Tr,tn,Qc]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},K_=T_(q_);function Le(...r){return K_(Zm(r))}const $n=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:Le("rounded-2xl border bg-card/60 text-card-foreground shadow-sm backdrop-blur-[6px] border-border/50","hover:shadow-lg transition-[box-shadow,transform] duration-300",r),...e}));$n.displayName="Card";const Fa=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",r),...e}));Fa.displayName="CardHeader";const Ua=w.forwardRef(({className:r,...e},n)=>p.jsx("h3",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",r),...e}));Ua.displayName="CardTitle";const og=w.forwardRef(({className:r,...e},n)=>p.jsx("p",{ref:n,className:Le("text-sm text-muted-foreground",r),...e}));og.displayName="CardDescription";const Jo=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:Le("p-6 pt-0",r),...e}));Jo.displayName="CardContent";const G_=w.forwardRef(({className:r,...e},n)=>p.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",r),...e}));G_.displayName="CardFooter";function zp(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function ig(...r){return e=>{let n=!1;const o=r.map(a=>{const l=zp(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():zp(r[a],null)}}}}function Me(...r){return w.useCallback(ig(...r),r)}function js(r){const e=Y_(r),n=w.forwardRef((o,a)=>{const{children:l,...u}=o,d=w.Children.toArray(l),h=d.find(X_);if(h){const m=h.props.children,v=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...u,ref:a,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return p.jsx(e,{...u,ref:a,children:l})});return n.displayName=`${r}.Slot`,n}var J_=js("Slot");function Y_(r){const e=w.forwardRef((n,o)=>{const{children:a,...l}=n;if(w.isValidElement(a)){const u=eb(a),d=Z_(l,a.props);return a.type!==w.Fragment&&(d.ref=o?ig(o,u):u),w.cloneElement(a,d)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var ag=Symbol("radix.slottable");function Q_(r){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${r}.Slottable`,e.__radixId=ag,e}function X_(r){return w.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===ag}function Z_(r,e){const n={...e};for(const o in e){const a=r[o],l=e[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const h=l(...d);return a(...d),h}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...r,...n}}function eb(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var tb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=tb.reduce((r,e)=>{const n=js(`Primitive.${e}`),o=w.forwardRef((a,l)=>{const{asChild:u,...d}=a,h=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(h,{...d,ref:l})});return o.displayName=`Primitive.${e}`,{...r,[e]:o}},{});function rb(r,e){r&&qo.flushSync(()=>r.dispatchEvent(e))}var nb="Label",lg=w.forwardRef((r,e)=>p.jsx(Ne.label,{...r,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(r.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lg.displayName=nb;var cg=lg;const Vp=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Bp=Zm,Xu=(r,e)=>n=>{var o;if(e?.variants==null)return Bp(r,n?.class,n?.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(m=>{const v=n?.[m],y=l?.[m];if(v===null)return null;const b=Vp(v)||Vp(y);return a[m][b]}),d=n&&Object.entries(n).reduce((m,v)=>{let[y,b]=v;return b===void 0||(m[y]=b),m},{}),h=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((m,v)=>{let{class:y,className:b,...S}=v;return Object.entries(S).every(k=>{let[x,E]=k;return Array.isArray(E)?E.includes({...l,...d}[x]):{...l,...d}[x]===E})?[...m,y,b]:m},[]);return Bp(r,u,h,n?.class,n?.className)},sb=Xu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=w.forwardRef(({className:r,...e},n)=>p.jsx(cg,{ref:n,className:Le(sb(),r),...e}));De.displayName=cg.displayName;const mt=w.forwardRef(({className:r,type:e,...n},o)=>p.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:o,...n}));mt.displayName="Input";const Zu=Xu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=w.forwardRef(({className:r,variant:e,size:n,asChild:o=!1,...a},l)=>{const u=o?J_:"button";return p.jsx(u,{className:Le(Zu({variant:e,size:n,className:r})),ref:l,...a})});ct.displayName="Button";function Te(r,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(r?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function ob(r,e){const n=w.createContext(e),o=l=>{const{children:u,...d}=l,h=w.useMemo(()=>d,Object.values(d));return p.jsx(n.Provider,{value:h,children:u})};o.displayName=r+"Provider";function a(l){const u=w.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[o,a]}function Or(r,e=[]){let n=[];function o(l,u){const d=w.createContext(u),h=n.length;n=[...n,u];const m=y=>{const{scope:b,children:S,...k}=y,x=b?.[r]?.[h]||d,E=w.useMemo(()=>k,Object.values(k));return p.jsx(x.Provider,{value:E,children:S})};m.displayName=l+"Provider";function v(y,b){const S=b?.[r]?.[h]||d,k=w.useContext(S);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${l}\``)}return[m,v]}const a=()=>{const l=n.map(u=>w.createContext(u));return function(d){const h=d?.[r]||l;return w.useMemo(()=>({[`__scope${r}`]:{...d,[r]:h}}),[d,h])}};return a.scopeName=r,[o,ib(a,...e)]}function ib(...r){const e=r[0];if(r.length===1)return e;const n=()=>{const o=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=o.reduce((d,{useScope:h,scopeName:m})=>{const y=h(l)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function ug(r){const e=r+"CollectionProvider",[n,o]=Or(e),[a,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:E,children:C}=x,T=Nr.useRef(null),N=Nr.useRef(new Map).current;return p.jsx(a,{scope:E,itemMap:N,collectionRef:T,children:C})};u.displayName=e;const d=r+"CollectionSlot",h=js(d),m=Nr.forwardRef((x,E)=>{const{scope:C,children:T}=x,N=l(d,C),I=Me(E,N.collectionRef);return p.jsx(h,{ref:I,children:T})});m.displayName=d;const v=r+"CollectionItemSlot",y="data-radix-collection-item",b=js(v),S=Nr.forwardRef((x,E)=>{const{scope:C,children:T,...N}=x,I=Nr.useRef(null),z=Me(E,I),M=l(v,C);return Nr.useEffect(()=>(M.itemMap.set(I,{ref:I,...N}),()=>void M.itemMap.delete(I))),p.jsx(b,{[y]:"",ref:z,children:T})});S.displayName=v;function k(x){const E=l(r+"CollectionConsumer",x);return Nr.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const N=Array.from(T.querySelectorAll(`[${y}]`));return Array.from(E.itemMap.values()).sort((M,j)=>N.indexOf(M.ref.current)-N.indexOf(j.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},k,o]}var _t=globalThis?.document?w.useLayoutEffect:()=>{},ab=Gu[" useId ".trim().toString()]||(()=>{}),lb=0;function cn(r){const[e,n]=w.useState(ab());return _t(()=>{n(o=>o??String(lb++))},[r]),e?`radix-${e}`:""}function un(r){const e=w.useRef(r);return w.useEffect(()=>{e.current=r}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}var cb=Gu[" useInsertionEffect ".trim().toString()]||_t;function As({prop:r,defaultProp:e,onChange:n=()=>{},caller:o}){const[a,l,u]=ub({defaultProp:e,onChange:n}),d=r!==void 0,h=d?r:a;{const v=w.useRef(r!==void 0);w.useEffect(()=>{const y=v.current;y!==d&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,o])}const m=w.useCallback(v=>{if(d){const y=db(v)?v(r):v;y!==r&&u.current?.(y)}else l(v)},[d,r,l,u]);return[h,m]}function ub({defaultProp:r,onChange:e}){const[n,o]=w.useState(r),a=w.useRef(n),l=w.useRef(e);return cb(()=>{l.current=e},[e]),w.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,o,l]}function db(r){return typeof r=="function"}var fb=w.createContext(void 0);function ed(r){const e=w.useContext(fb);return r||e||"ltr"}var Xc="rovingFocusGroup.onEntryFocus",hb={bubbles:!1,cancelable:!0},Yo="RovingFocusGroup",[bu,dg,pb]=ug(Yo),[mb,fg]=Or(Yo,[pb]),[gb,vb]=mb(Yo),hg=w.forwardRef((r,e)=>p.jsx(bu.Provider,{scope:r.__scopeRovingFocusGroup,children:p.jsx(bu.Slot,{scope:r.__scopeRovingFocusGroup,children:p.jsx(yb,{...r,ref:e})})}));hg.displayName=Yo;var yb=w.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...y}=r,b=w.useRef(null),S=Me(e,b),k=ed(l),[x,E]=As({prop:u,defaultProp:d??null,onChange:h,caller:Yo}),[C,T]=w.useState(!1),N=un(m),I=dg(n),z=w.useRef(!1),[M,j]=w.useState(0);return w.useEffect(()=>{const q=b.current;if(q)return q.addEventListener(Xc,N),()=>q.removeEventListener(Xc,N)},[N]),p.jsx(gb,{scope:n,orientation:o,dir:k,loop:a,currentTabStopId:x,onItemFocus:w.useCallback(q=>E(q),[E]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>j(q=>q+1),[]),onFocusableItemRemove:w.useCallback(()=>j(q=>q-1),[]),children:p.jsx(Ne.div,{tabIndex:C||M===0?-1:0,"data-orientation":o,...y,ref:S,style:{outline:"none",...r.style},onMouseDown:Te(r.onMouseDown,()=>{z.current=!0}),onFocus:Te(r.onFocus,q=>{const K=!z.current;if(q.target===q.currentTarget&&K&&!C){const D=new CustomEvent(Xc,hb);if(q.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=I().filter(H=>H.focusable),G=V.find(H=>H.active),W=V.find(H=>H.id===x),se=[G,W,...V].filter(Boolean).map(H=>H.ref.current);gg(se,v)}}z.current=!1}),onBlur:Te(r.onBlur,()=>T(!1))})})}),pg="RovingFocusGroupItem",mg=w.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,children:u,...d}=r,h=cn(),m=l||h,v=vb(pg,n),y=v.currentTabStopId===m,b=dg(n),{onFocusableItemAdd:S,onFocusableItemRemove:k,currentTabStopId:x}=v;return w.useEffect(()=>{if(o)return S(),()=>k()},[o,S,k]),p.jsx(bu.ItemSlot,{scope:n,id:m,focusable:o,active:a,children:p.jsx(Ne.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...d,ref:e,onMouseDown:Te(r.onMouseDown,E=>{o?v.onItemFocus(m):E.preventDefault()}),onFocus:Te(r.onFocus,()=>v.onItemFocus(m)),onKeyDown:Te(r.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){v.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=_b(E,v.orientation,v.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let N=b().filter(I=>I.focusable).map(I=>I.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const I=N.indexOf(E.currentTarget);N=v.loop?bb(N,I+1):N.slice(I+1)}setTimeout(()=>gg(N))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:x!=null}):u})})});mg.displayName=pg;var wb={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xb(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function _b(r,e,n){const o=xb(r.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return wb[o]}function gg(r,e=!1){const n=document.activeElement;for(const o of r)if(o===n||(o.focus({preventScroll:e}),document.activeElement!==n))return}function bb(r,e){return r.map((n,o)=>r[(e+o)%r.length])}var Sb=hg,Eb=mg;function vg(r){const[e,n]=w.useState(void 0);return _t(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,d;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=r.offsetWidth,d=r.offsetHeight;n({width:u,height:d})});return o.observe(r,{box:"border-box"}),()=>o.unobserve(r)}else n(void 0)},[r]),e}function yg(r){const e=w.useRef({value:r,previous:r});return w.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}function kb(r,e){return w.useReducer((n,o)=>e[n][o]??n,r)}var $s=r=>{const{present:e,children:n}=r,o=Cb(e),a=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),l=Me(o.ref,Rb(a));return typeof n=="function"||o.isPresent?w.cloneElement(a,{ref:l}):null};$s.displayName="Presence";function Cb(r){const[e,n]=w.useState(),o=w.useRef(null),a=w.useRef(r),l=w.useRef("none"),u=r?"mounted":"unmounted",[d,h]=kb(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=la(o.current);l.current=d==="mounted"?m:"none"},[d]),_t(()=>{const m=o.current,v=a.current;if(v!==r){const b=l.current,S=la(m);r?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(v&&b!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,h]),_t(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,y=S=>{const x=la(o.current).includes(S.animationName);if(S.target===e&&x&&(h("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},b=S=>{S.target===e&&(l.current=la(o.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{o.current=m?getComputedStyle(m):null,n(m)},[])}}function la(r){return r?.animationName||"none"}function Rb(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var td="Radio",[Tb,wg]=Or(td),[Nb,Pb]=Tb(td),xg=w.forwardRef((r,e)=>{const{__scopeRadio:n,name:o,checked:a=!1,required:l,disabled:u,value:d="on",onCheck:h,form:m,...v}=r,[y,b]=w.useState(null),S=Me(e,E=>b(E)),k=w.useRef(!1),x=y?m||!!y.closest("form"):!0;return p.jsxs(Nb,{scope:n,checked:a,disabled:u,children:[p.jsx(Ne.button,{type:"button",role:"radio","aria-checked":a,"data-state":Eg(a),"data-disabled":u?"":void 0,disabled:u,value:d,...v,ref:S,onClick:Te(r.onClick,E=>{a||h?.(),x&&(k.current=E.isPropagationStopped(),k.current||E.stopPropagation())})}),x&&p.jsx(Sg,{control:y,bubbles:!k.current,name:o,value:d,checked:a,required:l,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});xg.displayName=td;var _g="RadioIndicator",bg=w.forwardRef((r,e)=>{const{__scopeRadio:n,forceMount:o,...a}=r,l=Pb(_g,n);return p.jsx($s,{present:o||l.checked,children:p.jsx(Ne.span,{"data-state":Eg(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e})})});bg.displayName=_g;var jb="RadioBubbleInput",Sg=w.forwardRef(({__scopeRadio:r,control:e,checked:n,bubbles:o=!0,...a},l)=>{const u=w.useRef(null),d=Me(u,l),h=yg(n),m=vg(e);return w.useEffect(()=>{const v=u.current;if(!v)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&S){const k=new Event("click",{bubbles:o});S.call(v,n),v.dispatchEvent(k)}},[h,n,o]),p.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Sg.displayName=jb;function Eg(r){return r?"checked":"unchecked"}var Ab=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],za="RadioGroup",[Ob]=Or(za,[fg,wg]),kg=fg(),Cg=wg(),[Ib,Db]=Ob(za),Rg=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,name:o,defaultValue:a,value:l,required:u=!1,disabled:d=!1,orientation:h,dir:m,loop:v=!0,onValueChange:y,...b}=r,S=kg(n),k=ed(m),[x,E]=As({prop:l,defaultProp:a??null,onChange:y,caller:za});return p.jsx(Ib,{scope:n,name:o,required:u,disabled:d,value:x,onValueChange:E,children:p.jsx(Sb,{asChild:!0,...S,orientation:h,dir:k,loop:v,children:p.jsx(Ne.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":d?"":void 0,dir:k,...b,ref:e})})})});Rg.displayName=za;var Tg="RadioGroupItem",Ng=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,disabled:o,...a}=r,l=Db(Tg,n),u=l.disabled||o,d=kg(n),h=Cg(n),m=w.useRef(null),v=Me(e,m),y=l.value===a.value,b=w.useRef(!1);return w.useEffect(()=>{const S=x=>{Ab.includes(x.key)&&(b.current=!0)},k=()=>b.current=!1;return document.addEventListener("keydown",S),document.addEventListener("keyup",k),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keyup",k)}},[]),p.jsx(Eb,{asChild:!0,...d,focusable:!u,active:y,children:p.jsx(xg,{disabled:u,required:l.required,checked:y,...h,...a,name:l.name,ref:v,onCheck:()=>l.onValueChange(a.value),onKeyDown:Te(S=>{S.key==="Enter"&&S.preventDefault()}),onFocus:Te(a.onFocus,()=>{b.current&&m.current?.click()})})})});Ng.displayName=Tg;var $b="RadioGroupIndicator",Pg=w.forwardRef((r,e)=>{const{__scopeRadioGroup:n,...o}=r,a=Cg(n);return p.jsx(bg,{...a,...o,ref:e})});Pg.displayName=$b;var jg=Rg,Ag=Ng,Lb=Pg;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Og=(...r)=>r.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=w.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...Fb,width:e,height:e,stroke:r,strokeWidth:o?Number(n)*24/Number(e):n,className:Og("lucide",a),...d},[...u.map(([m,v])=>w.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(r,e)=>{const n=w.forwardRef(({className:o,...a},l)=>w.createElement(Ub,{ref:l,iconNode:e,className:Og(`lucide-${Mb(r)}`,o),...a}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=yr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=yr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=yr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=yr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=yr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=yr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=yr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=yr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=yr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=yr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ra=w.forwardRef(({className:r,...e},n)=>p.jsx(jg,{className:Le("grid gap-2",r),...e,ref:n}));Ra.displayName=jg.displayName;const In=w.forwardRef(({className:r,...e},n)=>p.jsx(Ag,{ref:n,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:p.jsx(Lb,{className:"flex items-center justify-center",children:p.jsx(Vb,{className:"h-2.5 w-2.5 fill-current text-current"})})}));In.displayName=Ag.displayName;const qb=1,Kb=1e6;let Zc=0;function Gb(){return Zc=(Zc+1)%Number.MAX_SAFE_INTEGER,Zc.toString()}const eu=new Map,Wp=r=>{if(eu.has(r))return;const e=setTimeout(()=>{eu.delete(r),ba({type:"REMOVE_TOAST",toastId:r})},Kb);eu.set(r,e)},Jb=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,qb)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Wp(n):r.toasts.forEach(o=>{Wp(o.id)}),{...r,toasts:r.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(n=>n.id!==e.toastId)}}},Yb=[];let tu={toasts:[]};function ba(r){tu=Jb(tu,r),Yb.forEach(e=>{e(tu)})}function Ae({...r}){const e=Gb(),n=a=>ba({type:"UPDATE_TOAST",toast:{...a,id:e}}),o=()=>ba({type:"DISMISS_TOAST",toastId:e});return ba({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:a=>{a||o()}}}),{id:e,dismiss:o,update:n}}const Qb=({onSaleAdded:r,editingSale:e,onSaleUpdated:n})=>{const o=new Date,a=new Date(o);a.setMonth(a.getMonth()+1);const l=re=>{const _e=re.getFullYear(),ke=String(re.getMonth()+1).padStart(2,"0"),Ie=String(re.getDate()).padStart(2,"0");return`${_e}-${ke}-${Ie}`},u=(re,_e,ke="mensal")=>{const Ie=[],ot=new Date(re);for(let ut=0;ut<_e;ut++){const Xe=new Date(ot);ke==="quinzenal"?Xe.setDate(ot.getDate()+ut*15):Xe.setMonth(ot.getMonth()+ut),Ie.push(Xe.toISOString().split("T")[0])}return Ie},[d,h]=w.useState(""),[m,v]=w.useState(""),[y,b]=w.useState(""),[S,k]=w.useState(""),[x,E]=w.useState(""),[C,T]=w.useState(l(o)),[N,I]=w.useState(l(a)),[z,M]=w.useState("pix"),[j,q]=w.useState(1),[K,D]=w.useState([""]),[V,G]=w.useState([!1]),[W,Z]=w.useState("mensal"),[se,H]=w.useState(""),[Y,$]=w.useState(""),[U,Q]=w.useState([]),[A,J]=w.useState(null);w.useEffect(()=>{e&&(h(e.customerName),T(e.purchaseDate),I(e.paymentDate),M(e.paymentMethod),Q(e.products),H(e.advancePayment?.toString()||""),$(e.discount?.toString()||""),e.paymentMethod==="installment"&&e.installments&&e.installmentValues&&(q(e.installments),D(e.installmentValues.map(re=>re.toString())),G(Array(e.installments).fill(!0)),Z(e.installmentType||"mensal")))},[e]);const he=parseFloat(x||"0")-parseFloat(S||"0"),we=K.reduce((re,_e)=>re+parseFloat(_e||"0"),0),be=U.reduce((re,_e)=>re+_e.purchaseValue,0),ve=U.reduce((re,_e)=>re+_e.saleValue,0),oe=ve-be-parseFloat(Y||"0"),fe=re=>{q(re);const _e=[...V];re<_e.length?G(_e.slice(0,re)):G([..._e,...Array(re-_e.length).fill(!1)]);const ke=parseFloat(se||"0"),Ie=parseFloat(Y||"0"),ot=ve-ke-Ie;if(ot>0){const ut=(ot/re).toFixed(2),Xe=Array(re).fill("").map((dt,gt)=>V[gt]?K[gt]||"":ut);D(Xe)}else D(Array(re).fill(""))},Se=(re,_e)=>{const ke=[...K];ke[re]=_e;const Ie=[...V];Ie[re]=!0;const ot=parseFloat(se||"0"),ut=parseFloat(Y||"0"),Xe=ve-ot-ut;let dt=0;ke.forEach((mn,Vt)=>{(Vt===re||Ie[Vt])&&(dt+=parseFloat(mn||"0"))});const gt=Xe-dt,It=ke.slice(re+1).filter((mn,Vt)=>!Ie[re+1+Vt]).length;if(It>0&&gt>0){const mn=(gt/It).toFixed(2);for(let Vt=re+1;Vt<ke.length;Vt++)Ie[Vt]||(ke[Vt]=mn)}D(ke),G(Ie)},Ee=()=>{if(!m||!y||!S||!x){Ae({title:"Campos obrigatrios",description:"Por favor, preencha todos os campos do produto.",variant:"destructive"});return}if(A)Q(U.map(re=>re.id===A?{id:re.id,productRef:m,productName:y,purchaseValue:parseFloat(S),saleValue:parseFloat(x)}:re)),J(null),Ae({title:"Produto atualizado!",description:"O produto foi atualizado com sucesso."});else{const re={id:Date.now().toString(),productRef:m,productName:y,purchaseValue:parseFloat(S),saleValue:parseFloat(x)},_e=[...U,re];if(Q(_e),z==="installment"&&j>0){const ke=_e.reduce((gt,It)=>gt+It.saleValue,0),Ie=parseFloat(se||"0"),ot=parseFloat(Y||"0"),Xe=((ke-Ie-ot)/j).toFixed(2),dt=K.map((gt,It)=>V[It]?gt:Xe);D(dt)}Ae({title:"Produto adicionado!",description:"O produto foi adicionado  lista."})}v(""),b(""),k(""),E("")},Oe=re=>{v(re.productRef),b(re.productName),k(re.purchaseValue.toString()),E(re.saleValue.toString()),J(re.id)},ze=re=>{const _e=U.filter(ke=>ke.id!==re);if(Q(_e),z==="installment"&&j>0&&_e.length>0){const ke=_e.reduce((gt,It)=>gt+It.saleValue,0),Ie=parseFloat(se||"0"),ot=parseFloat(Y||"0"),Xe=((ke-Ie-ot)/j).toFixed(2),dt=K.map((gt,It)=>V[It]?gt:Xe);D(dt)}Ae({title:"Produto removido!",description:"O produto foi removido da lista."})},st=async re=>{if(re.preventDefault(),!d||!C||!N){Ae({title:"Campos obrigatrios",description:"Por favor, preencha o nome do cliente e as datas.",variant:"destructive"});return}if(U.length===0){Ae({title:"Nenhum produto",description:"Por favor, adicione pelo menos um produto  venda.",variant:"destructive"});return}if(z==="installment"&&K.some(ke=>!ke||parseFloat(ke)<=0)){Ae({title:"Valores de parcelas invlidos",description:"Por favor, preencha todos os valores das parcelas.",variant:"destructive"});return}const _e={id:e?.id||Date.now().toString(),customerName:d,purchaseDate:C,paymentDate:N,paymentMethod:z,installments:z==="installment"?j:void 0,installmentValues:z==="installment"?K.map(ke=>parseFloat(ke)):void 0,installmentDates:z==="installment"?u(N,j,W):void 0,installmentType:z==="installment"?W:void 0,advancePayment:se?parseFloat(se):void 0,discount:Y?parseFloat(Y):void 0,products:[...U]};try{e&&n?await n(_e):await r(_e);const ke=new Date,Ie=new Date(ke);Ie.setMonth(Ie.getMonth()+1),h(""),v(""),b(""),k(""),E(""),T(l(ke)),I(l(Ie)),M("pix"),q(1),D([""]),G([!1]),Z("mensal"),H(""),$(""),Q([]),J(null)}catch(ke){console.error("Erro ao salvar venda:",ke),Ae({title:"Erro ao salvar dados",description:"Ocorreu um erro ao salvar os dados. Verifique sua conexo e tente novamente.",variant:"destructive"})}};return p.jsxs($n,{className:"w-full max-w-[70%] mx-auto shadow-lg rounded-xl border",children:[p.jsx(Fa,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20 rounded-t-xl",children:p.jsx(Ua,{className:"text-xl md:text-2xl font-bold text-foreground",children:e?"Editar Venda":"Cadastro de Venda"})}),p.jsx(Jo,{className:"p-6",children:p.jsxs("form",{onSubmit:st,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(De,{htmlFor:"customerName",className:"text-foreground",children:"Nome do Cliente"}),p.jsx(mt,{id:"customerName",value:d,onChange:re=>h(re.target.value),className:"mt-1",placeholder:"Digite o nome do cliente"})]}),p.jsxs("div",{children:[p.jsxs(De,{htmlFor:"purchaseDate",className:"text-foreground flex items-center gap-2",children:[p.jsx(Su,{className:"w-4 h-4"}),"Data da Compra"]}),p.jsx(mt,{id:"purchaseDate",type:"date",value:C,onChange:re=>T(re.target.value),className:"mt-1"})]}),p.jsxs("div",{children:[p.jsxs(De,{htmlFor:"paymentDate",className:"text-foreground flex items-center gap-2",children:[p.jsx(Su,{className:"w-4 h-4"}),"Data de Pagamento / 1 Parcela"]}),p.jsx(mt,{id:"paymentDate",type:"date",value:N,onChange:re=>I(re.target.value),className:"mt-1"})]})]}),p.jsx("div",{className:"border-t border-border my-6"}),p.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Produtos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx(De,{htmlFor:"productRef",className:"text-foreground",children:"Referncia do Produto"}),p.jsx(mt,{id:"productRef",value:m,onChange:re=>v(re.target.value),className:"mt-1",placeholder:"REF-001"})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"productName",className:"text-foreground",children:"Nome do Produto"}),p.jsx(mt,{id:"productName",value:y,onChange:re=>b(re.target.value),className:"mt-1",placeholder:"Digite o nome do produto"})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"purchaseValue",className:"text-foreground",children:"Valor de Compra"}),p.jsx(mt,{id:"purchaseValue",type:"number",step:"0.01",value:S,onChange:re=>k(re.target.value),className:"mt-1",placeholder:"R$ 0,00"})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"saleValue",className:"text-foreground",children:"Valor de Venda"}),p.jsx(mt,{id:"saleValue",type:"number",step:"0.01",value:x,onChange:re=>E(re.target.value),className:"mt-1",placeholder:"R$ 0,00"})]})]}),S&&x&&p.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-accent/20 to-secondary/20 mb-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm text-muted-foreground",children:"Lucro deste produto:"}),p.jsxs("span",{className:`text-lg font-bold ${he>=0?"text-green-600":"text-red-600"}`,children:["R$ ",he.toFixed(2)]})]})}),p.jsx(ct,{type:"button",onClick:Ee,className:"w-full",variant:A?"default":"secondary",children:A?"Atualizar Produto":"Adicionar Produto"}),U.length>0&&p.jsxs("div",{className:"mt-6 space-y-3",children:[p.jsx("h4",{className:"font-semibold text-foreground",children:"Produtos Adicionados:"}),U.map(re=>{const _e=re.saleValue-re.purchaseValue;return p.jsx("div",{className:"p-4 rounded-lg bg-muted border border-border",children:p.jsxs("div",{className:"flex items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-foreground",children:re.productName}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ref: ",re.productRef]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Compra: "}),p.jsxs("span",{className:"font-semibold",children:["R$ ",re.purchaseValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Venda: "}),p.jsxs("span",{className:"font-semibold",children:["R$ ",re.saleValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Lucro: "}),p.jsxs("span",{className:`font-semibold ${_e>=0?"text-green-600":"text-red-600"}`,children:["R$ ",_e.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{type:"button",variant:"outline",size:"sm",onClick:()=>Oe(re),children:"Editar"}),p.jsx(ct,{type:"button",variant:"destructive",size:"sm",onClick:()=>ze(re.id),children:"Excluir"})]})]})},re.id)}),p.jsx("div",{className:"p-4 rounded-lg bg-gradient-to-r from-primary/20 to-accent/20 border-2 border-primary/30",children:p.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Compra"}),p.jsxs("p",{className:"text-xl font-bold text-foreground",children:["R$ ",be.toFixed(2)]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Venda"}),p.jsxs("p",{className:"text-xl font-bold text-foreground",children:["R$ ",ve.toFixed(2)]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Lucro Total"}),p.jsxs("p",{className:`text-xl font-bold ${oe>=0?"text-green-600":"text-red-600"}`,children:["R$ ",oe.toFixed(2)]})]})]})})]}),p.jsx("div",{className:"border-t border-border my-6"}),p.jsx("h3",{className:"text-xl font-semibold mb-4 text-foreground",children:"Forma de Pagamento"}),p.jsxs(Ra,{value:z,onValueChange:re=>M(re),children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[p.jsx(In,{value:"pix",id:"pix"}),p.jsx(De,{htmlFor:"pix",className:"cursor-pointer",children:"PIX /  Vista"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"installment",id:"installment"}),p.jsx(De,{htmlFor:"installment",className:"cursor-pointer",children:"Parcelado"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(De,{htmlFor:"advancePayment",className:"text-foreground",children:"Entrada / Adiantamento (Opcional)"}),p.jsx(mt,{id:"advancePayment",type:"number",step:"0.01",value:se,onChange:re=>{if(H(re.target.value),z==="installment"&&j>0&&ve>0){const _e=parseFloat(re.target.value||"0"),ke=parseFloat(Y||"0"),ot=((ve-_e-ke)/j).toFixed(2),ut=K.map((Xe,dt)=>V[dt]?Xe:ot);D(ut)}},className:"mt-1 max-w-xs",placeholder:"R$ 0,00"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Valor recebido antecipadamente, ser abatido do total"})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"discount",className:"text-foreground",children:"Desconto (Opcional)"}),p.jsx(mt,{id:"discount",type:"number",step:"0.01",value:Y,onChange:re=>{if($(re.target.value),z==="installment"&&j>0&&ve>0){const _e=parseFloat(se||"0"),ke=parseFloat(re.target.value||"0"),ot=((ve-_e-ke)/j).toFixed(2),ut=K.map((Xe,dt)=>V[dt]?Xe:ot);D(ut)}},className:"mt-1 max-w-xs",placeholder:"R$ 0,00"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Desconto que ser abatido do total"})]})]}),z==="installment"&&p.jsxs("div",{className:"mt-6 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(De,{htmlFor:"installmentNumber",children:"Nmero de Parcelas"}),p.jsx(mt,{id:"installmentNumber",type:"number",min:"1",max:"12",value:j,onChange:re=>fe(parseInt(re.target.value)||1),className:"mt-1"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Entre 1 e 12 parcelas"})]}),p.jsxs("div",{children:[p.jsx(De,{children:"Tipo de Parcelamento"}),p.jsxs(Ra,{value:W,onValueChange:re=>Z(re),className:"mt-2",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"mensal",id:"mensal"}),p.jsx(De,{htmlFor:"mensal",className:"cursor-pointer text-sm",children:"Mensal (30 dias)"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"quinzenal",id:"quinzenal"}),p.jsx(De,{htmlFor:"quinzenal",className:"cursor-pointer text-sm",children:"Quinzenal (15 dias)"})]})]})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(De,{children:"Valor de Cada Parcela"}),Array.from({length:j}).map((re,_e)=>p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"text-sm font-medium min-w-[80px]",children:["Parcela ",_e+1,":"]}),p.jsx(mt,{type:"number",step:"0.01",value:K[_e]||"",onChange:ke=>Se(_e,ke.target.value),placeholder:"R$ 0,00",className:"max-w-xs"})]},_e))]}),K.some(re=>re)&&p.jsxs("div",{className:"p-3 rounded-lg bg-muted",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total das Parcelas:"}),p.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["R$ ",we.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(ct,{type:"submit",className:"flex-1",size:"lg",children:e?"Atualizar Venda":"Cadastrar Venda"}),p.jsx(ct,{type:"button",variant:"outline",size:"lg",onClick:()=>{h(""),v(""),b(""),k(""),E(""),T(l(o)),I(l(a)),M("pix"),q(1),D([""]),G([!1]),Z("mensal"),H(""),Q([]),J(null)},children:"Limpar"})]})]})})]})};var hr=function(){return hr=Object.assign||function(e){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},hr.apply(this,arguments)};function Ls(r,e){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(r);a<o.length;a++)e.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(r,o[a])&&(n[o[a]]=r[o[a]]);return n}function Xb(r,e,n,o){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(v){try{m(o.next(v))}catch(y){u(y)}}function h(v){try{m(o.throw(v))}catch(y){u(y)}}function m(v){v.done?l(v.value):a(v.value).then(d,h)}m((o=o.apply(r,e||[])).next())})}function Zb(r,e,n){if(n||arguments.length===2)for(var o=0,a=e.length,l;o<a;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return r.concat(l||Array.prototype.slice.call(e))}const eS=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class nd extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class tS extends nd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hp extends nd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qp extends nd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Eu;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Eu||(Eu={}));class rS{constructor(e,{headers:n={},customFetch:o,region:a=Eu.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=eS(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Xb(this,arguments,void 0,function*(n,o={}){var a;let l,u;try{const{headers:d,method:h,body:m,signal:v,timeout:y}=o;let b={},{region:S}=o;S||(S=this.region);const k=new URL(`${this.url}/${n}`);S&&S!=="any"&&(b["x-region"]=S,k.searchParams.set("forceFunctionRegion",S));let x;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",x=m):typeof m=="string"?(b["Content-Type"]="text/plain",x=m):typeof FormData<"u"&&m instanceof FormData?x=m:(b["Content-Type"]="application/json",x=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?x=JSON.stringify(m):x=m;let E=v;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),v?(E=u.signal,v.addEventListener("abort",()=>u.abort())):E=u.signal);const C=yield this.fetch(k.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:x,signal:E}).catch(z=>{throw new tS(z)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new Hp(C);if(!C.ok)throw new qp(C);let N=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield C.json():N==="application/octet-stream"||N==="application/pdf"?I=yield C.blob():N==="text/event-stream"?I=C:N==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof qp||d instanceof Hp?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var nS=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},sS=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,d=null,h=null,m=l.status,v=l.statusText;if(l.ok){var y,b;if(n.method!=="HEAD"){var S;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const x=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),E=(b=l.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");x&&E&&E.length>1&&(h=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var k;const x=await l.text();try{u=JSON.parse(x),Array.isArray(u)&&l.status===404&&(d=[],u=null,m=200,v="OK")}catch{l.status===404&&x===""?(m=204,v="No Content"):u={message:x}}if(u&&n.isMaybeSingle&&(!(u==null||(k=u.details)===null||k===void 0)&&k.includes("0 rows"))&&(u=null,m=200,v="OK"),u&&n.shouldThrowOnError)throw new nS(u)}return{error:u,data:d,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var u;let d="";const h=l?.cause;if(h){var m,v,y,b;const k=(m=h?.message)!==null&&m!==void 0?m:"",x=(v=h?.code)!==null&&v!==void 0?v:"";d=`${(y=l?.name)!==null&&y!==void 0?y:"FetchError"}: ${l?.message}`,d+=`

Caused by: ${(b=h?.name)!==null&&b!==void 0?b:"Error"}: ${k}`,x&&(d+=` (${x})`),h?.stack&&(d+=`
${h.stack}`)}else{var S;d=(S=l?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,e)}returns(){return this}overrideTypes(){return this}},oS=class extends sS{select(r){let e=!1;const n=(r??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:o=!1,wal:a=!1,format:l="text"}={}){var u;const d=[r?"analyze":null,e?"verbose":null,n?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Kp=new RegExp("[,()]");var bs=class extends oS{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&Kp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(o=>typeof o=="string"&&Kp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${a}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},iS=class{constructor(r,{headers:e={},schema:n,fetch:o}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:n=!1,count:o}=e??{},a=n?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join(""),{url:d,headers:h}=this.cloneRequestState();return d.searchParams.set("select",u),o&&h.append("Prefer",`count=${o}`),new bs({method:a,url:d,headers:h,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var o;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(r)){const d=r.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",h.join(","))}}return new bs({method:a,url:l,headers:u,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}={}){var l;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&d.searchParams.set("on_conflict",e),o&&h.append("Prefer",`count=${o}`),a||h.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);d.searchParams.set("columns",v.join(","))}}return new bs({method:u,url:d,headers:h,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var n;const o="PATCH",{url:a,headers:l}=this.cloneRequestState();return e&&l.append("Prefer",`count=${e}`),new bs({method:o,url:a,headers:l,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE",{url:o,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new bs({method:n,url:o,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},aS=class Lg{constructor(e,{headers:n={},schema:o,fetch:a}={}){this.url=e,this.headers=new Headers(n),this.schemaName=o,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Lg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:o=!1,get:a=!1,count:l}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let m;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),y=o&&Object.values(n).some(v);y?(d="POST",m=n):o||a?(d=o?"HEAD":"GET",Object.entries(n).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{h.searchParams.append(S,k)})):(d="POST",m=n);const b=new Headers(this.headers);return y?b.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&b.set("Prefer",`count=${l}`),new bs({method:d,url:h,headers:b,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class lS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const o=n.versions;if(o&&o.node){const a=o.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cS="2.93.1",uS=`realtime-js/${cS}`,dS="1.0.0",Mg="2.0.0",Gp=Mg,ku=1e4,fS=1e3,hS=100;var sn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(sn||(sn={}));var lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(lt||(lt={}));var sr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(sr||(sr={}));var Cu;(function(r){r.websocket="websocket"})(Cu||(Cu={}));var An;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(An||(An={}));class pS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,o;const a=(o=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,o){var a,l;const u=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+y.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let k=new DataView(S),x=0;k.setUint8(x++,this.KINDS.userBroadcastPush),k.setUint8(x++,h.length),k.setUint8(x++,d.length),k.setUint8(x++,u.length),k.setUint8(x++,m.length),k.setUint8(x++,y.length),k.setUint8(x++,n),Array.from(h,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(d,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(u,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(m,C=>k.setUint8(x++,C.charCodeAt(0))),Array.from(y,C=>k.setUint8(x++,C.charCodeAt(0)));var E=new Uint8Array(S.byteLength+o.byteLength);return E.set(new Uint8Array(S),0),E.set(new Uint8Array(o),S.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return n(o)}if(typeof e=="string"){const o=JSON.parse(e),[a,l,u,d,h]=o;return n({join_ref:a,ref:l,topic:u,event:d,payload:h})}return n({})}_binaryDecode(e){const n=new DataView(e),o=n.getUint8(0),a=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,o){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=o.decode(e.slice(h,h+a));h=h+a;const v=o.decode(e.slice(h,h+l));h=h+l;const y=o.decode(e.slice(h,h+u));h=h+u;const b=e.slice(h,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(o.decode(b)):b,k={type:this.BROADCAST_EVENT,event:v,payload:S};return u>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>n.includes(o)))}}class Fg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ue||(Ue={}));const Jp=(r,e,n={})=>{var o;const a=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=mS(u,r,e,a),l),{}):{}},mS=(r,e,n,o)=>{const a=e.find(d=>d.name===r),l=a?.type,u=n[r];return l&&!o.includes(l)?Ug(l,u):Ru(u)},Ug=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return wS(e,n)}switch(r){case Ue.bool:return gS(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return vS(e);case Ue.json:case Ue.jsonb:return yS(e);case Ue.timestamp:return xS(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Ru(e);default:return Ru(e)}},Ru=r=>r,gS=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},vS=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},yS=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},wS=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,o=r[n];if(r[0]==="{"&&o==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Ug(e,d))}return r},xS=r=>typeof r=="string"?r.replace(" ","T"):r,zg=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ru{constructor(e,n,o={},a=ku){this.channel=e,this.event=n,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yp;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Yp||(Yp={}));class Oo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oo.syncState(this.state,a,l,u),this.pendingDiffs.forEach(h=>{this.state=Oo.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Oo.syncDiff(this.state,a,l,u),d())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,a){const l=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const y=l[m];if(y){const b=v.map(E=>E.presence_ref),S=y.map(E=>E.presence_ref),k=v.filter(E=>S.indexOf(E.presence_ref)<0),x=y.filter(E=>b.indexOf(E.presence_ref)<0);k.length>0&&(d[m]=k),x.length>0&&(h[m]=x)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},o,a)}static syncDiff(e,n,o,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const y=e[d].map(S=>S.presence_ref),b=v.filter(S=>y.indexOf(S.presence_ref)<0);e[d].unshift(...b)}o(d,v,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,a(d,m,h),m.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const a=e[o];return"metas"in a?n[o]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[o]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qp;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Qp||(Qp={}));var Io;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Io||(Io={}));var Pr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class ks{constructor(e,n={config:{}},o){var a,l;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ru(this,sr.join,this.params,this.timeout),this.rejoinTimer=new Fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Oo(this),this.broadcastEndpointURL=zg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Io.PRESENCE]&&this.bindings[Io.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Pr.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Pr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e?.(Pr.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,E=(k=x?.length)!==null&&k!==void 0?k:0,C=[];for(let T=0;T<E;T++){const N=x[T],{filter:{event:I,schema:z,table:M,filter:j}}=N,q=S&&S[T];if(q&&q.event===I&&ks.isFilterValueEqual(q.schema,z)&&ks.isFilterValueEqual(q.table,M)&&ks.isFilterValueEqual(q.filter,j))C.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),this.state=lt.errored,e?.(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Pr.SUBSCRIBED);return}}).receive("error",S=>{this.state=lt.errored,e?.(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===lt.joined&&e===Io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=o.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,n={}){var o,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new ru(this,sr.leave,{},e),o.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const a=new AbortController,l=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ru(this,e,n,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var a,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=sr;if(o&&[d,h,m,v].indexOf(u)>=0&&o!==this._joinRef())return;let b=this._onMessage(u,n,o);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var k,x,E;return((k=S.filter)===null||k===void 0?void 0:k.event)==="*"||((E=(x=S.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(S=>S.callback(b,o)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var k,x,E,C,T,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const I=S.id,z=(k=S.filter)===null||k===void 0?void 0:k.event;return I&&((x=n.ids)===null||x===void 0?void 0:x.includes(I))&&(z==="*"||z?.toLocaleLowerCase()===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const I=(T=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return I==="*"||I===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof b=="object"&&"ids"in b){const k=b.data,{schema:x,table:E,commit_timestamp:C,type:T,errors:N}=k;b=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:C,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(k))}S.callback(b,o)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:o};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&ks.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sr.close,{},e)}_onError(e){this._on(sr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jp(e.columns,e.old_record)),n}}const nu=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_S=[1e3,2e3,5e3,1e4],bS=1e4,SS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ES{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ku,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nu,this.ref=0,this.reconnectTimer=null,this.vsn=Gp,this.logger=nu,this.conn=null,this.sendBuffer=[],this.serializer=new pS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Cu.websocket}`,this.httpEndpoint=zg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case sn.connecting:return An.Connecting;case sn.open:return An.Open;case sn.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===o);if(a)return a;{const l=new ks(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:o,payload:a,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${o} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:a,payload:l,ref:u}=n,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${o} ${a} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===sn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===sn.open||this.conn.readyState===sn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(sr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${o}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([SS],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,o=!1;if(e)n=e,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:uS};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(sr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,a,l,u,d,h,m,v,y,b,S;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:ku,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:ca.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:nu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Gp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(k=>_S[k-1]||bS),this.vsn){case dS:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((k,x)=>x(JSON.stringify(k))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((k,x)=>x(JSON.parse(k)));break;case Mg:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Lo=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kS(r,e,n){const o=new URL(e,r);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&o.searchParams.set(a,l);return o.toString()}async function CS(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function RS(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:a,body:l,headers:u}){const d=kS(r.baseUrl,o,a),h=await CS(r.auth),m=await e(d,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const S=y?b:void 0,k=S?.error;throw new Lo(k?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:k?.type,icebergCode:k?.code,details:S})}return{status:m.status,headers:m.headers,data:b}}}}function ua(r){return r.join("")}var TS=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:ua(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ua(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ua(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ua(r.namespace)}`}),!0}catch(e){if(e instanceof Lo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof Lo&&n.status===409)return;throw n}}};function hs(r){return r.join("")}var NS=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof Lo&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof Lo&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},PS=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=RS({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new TS(this.client,e),this.tableOps=new NS(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Va=class extends Error{constructor(r,e="storage",n,o){super(r),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=o}};function Ba(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var da=class extends Va{constructor(r,e,n,o="storage"){super(r,o,e,n),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vg=class extends Va{constructor(r,e,n="storage"){super(r,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const jS=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),AS=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Tu=r=>{if(Array.isArray(r))return r.map(n=>Tu(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,o])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Tu(o)}),e},OS=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Mo(r){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(r)}function IS(r,e){if(Mo(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,e);if(Mo(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function DS(r){var e=IS(r,"string");return Mo(e)=="symbol"?e:e+""}function $S(r,e,n){return(e=DS(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Xp(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,o)}return n}function ye(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xp(Object(n),!0).forEach(function(o){$S(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}const Zp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},LS=async(r,e,n,o)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r,l=a.status||500;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||l+"";e(new da(Zp(u),l,d,o))}).catch(()=>{if(o==="vectors"){const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}else{const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}});else{const u=l+"";e(new da(a.statusText||`HTTP ${l} error`,l,u,o))}}else e(new Vg(Zp(r),r,o))},MS=(r,e,n,o)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||r==="HEAD"||!o?ye(ye({},a),n):(AS(o)?(a.headers=ye({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(o)):a.body=o,e?.duplex&&(a.duplex=e.duplex),ye(ye({},a),n))};async function Po(r,e,n,o,a,l,u){return new Promise((d,h)=>{r(n,MS(e,o,a,l)).then(m=>{if(!m.ok)throw m;if(o?.noResolveJson)return m;if(u==="vectors"){const v=m.headers.get("content-type");if(!v||!v.includes("application/json"))return{}}return m.json()}).then(m=>d(m)).catch(m=>LS(m,h,o,u))})}function FS(r="storage"){return{get:async(e,n,o,a)=>Po(e,"GET",n,o,a,void 0,r),post:async(e,n,o,a,l)=>Po(e,"POST",n,a,l,o,r),put:async(e,n,o,a,l)=>Po(e,"PUT",n,a,l,o,r),head:async(e,n,o,a)=>Po(e,"HEAD",n,ye(ye({},o),{},{noResolveJson:!0}),a,void 0,r),remove:async(e,n,o,a,l)=>Po(e,"DELETE",n,a,l,o,r)}}const US=FS("storage"),{get:Fo,post:qe,put:Nu,head:zS,remove:sd}=US;var Ms=class{constructor(r,e={},n,o="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.fetch=jS(n),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var e=this;try{return{data:await r(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}}},VS=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ba(e))return{data:null,error:e};throw e}}};let Bg;Bg=Symbol.toStringTag;var BS=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[Bg]="BlobDownloadBuilder",this.promise=null}asStream(){return new VS(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ba(e))return{data:null,error:e};throw e}}};const WS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},em={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HS=class extends Ms{constructor(r,e={},n,o){super(r,e,o,"storage"),this.bucketId=n}async uploadOrUpdate(r,e,n,o){var a=this;return a.handleOperation(async()=>{let l;const u=ye(ye({},em),o);let d=ye(ye({},a.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",a.encodeMetadata(h)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(h))):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=ye(ye({},d),o.headers));const m=a._removeEmptyFolders(e),v=a._getFinalPath(m),y=await(r=="PUT"?Nu:qe)(a.fetch,`${a.url}/object/${v}`,l,ye({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{path:m,id:y.Id,fullPath:y.Key}})}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,o){var a=this;const l=a._removeEmptyFolders(r),u=a._getFinalPath(l),d=new URL(a.url+`/object/upload/sign/${u}`);return d.searchParams.set("token",e),a.handleOperation(async()=>{let h;const m=ye({upsert:em.upsert},o),v=ye(ye({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType),{path:l,fullPath:(await Nu(a.fetch,d.toString(),h,{headers:v})).Key}})}async createSignedUploadUrl(r,e){var n=this;return n.handleOperation(async()=>{let o=n._getFinalPath(r);const a=ye({},n.headers);e?.upsert&&(a["x-upsert"]="true");const l=await qe(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(n.url+l.url),d=u.searchParams.get("token");if(!d)throw new Va("No token returned by API");return{signedUrl:u.toString(),path:r,token:d}})}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var o=this;return o.handleOperation(async()=>await qe(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers}))}async copy(r,e,n){var o=this;return o.handleOperation(async()=>({path:(await qe(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(r,e,n){var o=this;return o.handleOperation(async()=>{let a=o._getFinalPath(r),l=await qe(o.fetch,`${o.url}/object/sign/${a}`,ye({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:o.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${o.url}${l.signedURL}${u}`)}})}async createSignedUrls(r,e,n){var o=this;return o.handleOperation(async()=>{const a=await qe(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:r},{headers:o.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a.map(u=>ye(ye({},u),{},{signedUrl:u.signedURL?encodeURI(`${o.url}${u.signedURL}${l}`):null}))})}download(r,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(r),u=()=>Fo(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new BS(u,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);return e.handleOperation(async()=>Tu(await Fo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await zS(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Ba(o)&&o instanceof Vg){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}}getPublicUrl(r,e){const n=this._getFinalPath(r),o=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&o.push(a);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&o.push(u);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}async remove(r){var e=this;return e.handleOperation(async()=>await sd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}))}async list(r,e,n){var o=this;return o.handleOperation(async()=>{const a=ye(ye(ye({},WS),e),{},{prefix:r||""});return await qe(o.fetch,`${o.url}/object/list/${o.bucketId}`,a,{headers:o.headers},n)})}async listV2(r,e){var n=this;return n.handleOperation(async()=>{const o=ye({},r);return await qe(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},e)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const qS="2.93.1",Qo={"X-Client-Info":`storage-js/${qS}`};var KS=class extends Ms{constructor(r,e={},n,o){const a=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const l=a.href.replace(/\/$/,""),u=ye(ye({},Qo),e);super(l,u,n,"storage")}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(r);return await Fo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(r){var e=this;return e.handleOperation(async()=>await Fo(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}))}async createBucket(r,e={public:!1}){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(r,e){var n=this;return n.handleOperation(async()=>await Nu(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await sd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},GS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ye(ye({},Qo),e);super(o,a,n,"storage")}async createBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}))}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const o=n.toString(),a=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return await Fo(e.fetch,a,{headers:e.headers})})}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await sd(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}from(r){var e=this;if(!OS(r))throw new Va("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new PS({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(a,l){const u=a[l];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(a,d),error:null}}catch(h){if(o)throw h;return{data:null,error:h}}}}})}},JS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ye(ye({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async createIndex(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{})}async getIndex(r,e){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}))}async listIndexes(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}))}async deleteIndex(r,e){var n=this;return n.handleOperation(async()=>await qe(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{})}},YS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ye(ye({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async putVectors(r){var e=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{})}async getVectors(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}))}async listVectors(r){var e=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}))}async queryVectors(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}))}async deleteVectors(r){var e=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{})}},QS=class extends Ms{constructor(r,e={},n){const o=r.replace(/\/$/,""),a=ye(ye({},Qo),{},{"Content-Type":"application/json"},e);super(o,a,n,"vectors")}async createBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}async getBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}))}async listBuckets(r={}){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}},XS=class extends QS{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new ZS(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},ZS=class extends JS{constructor(r,e,n,o){super(r,e,o),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new eE(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},eE=class extends YS{constructor(r,e,n,o,a){super(r,e,a),this.vectorBucketName=n,this.indexName=o}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,ye(ye({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},tE=class extends KS{constructor(r,e={},n,o){super(r,e,n,o)}from(r){return new HS(this.url,this.headers,r,this.fetch)}get vectors(){return new XS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GS(this.url+"/iceberg",this.headers,this.fetch)}};const Wg="2.93.1",Ss=30*1e3,Pu=3,su=Pu*Ss,rE="http://localhost:9999",nE="supabase.auth.token",sE={"X-Client-Info":`gotrue-js/${Wg}`},ju="X-Supabase-Api-Version",Hg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iE=600*1e3;class Uo extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function de(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class aE extends Uo{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function lE(r){return de(r)&&r.name==="AuthApiError"}class On extends Uo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ir extends Uo{constructor(e,n,o,a){super(e,o,a),this.name=n,this.status=o}}class Ft extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ou(r){return de(r)&&r.name==="AuthSessionMissingError"}class ps extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ha extends Ir{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cE(r){return de(r)&&r.name==="AuthImplicitGrantRedirectError"}class tm extends Ir{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uE extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Au extends Ir{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function iu(r){return de(r)&&r.name==="AuthRetryableFetchError"}class rm extends Ir{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class Ou extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nm=` 	
\r=`.split(""),dE=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<nm.length;e+=1)r[nm[e].charCodeAt(0)]=-2;for(let e=0;e<Ta.length;e+=1)r[Ta[e].charCodeAt(0)]=e;return r})();function sm(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Ta[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(Ta[o]),e.queuedBits-=6}}function qg(r,e,n){const o=dE[r];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function om(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{pE(u,o,n)};for(let u=0;u<r.length;u+=1)qg(r.charCodeAt(u),a,l);return e.join("")}function fE(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function hE(r,e){for(let n=0;n<r.length;n+=1){let o=r.charCodeAt(n);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(r.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}fE(o,e)}}function pE(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Rs(r){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)qg(r.charCodeAt(a),n,o);return new Uint8Array(e)}function mE(r){const e=[];return hE(r,n=>e.push(n)),new Uint8Array(e)}function Dn(r){const e=[],n={queue:0,queuedBits:0},o=a=>{e.push(a)};return r.forEach(a=>sm(a,n,o)),sm(null,n,o),e.join("")}function gE(r){return Math.round(Date.now()/1e3)+r}function vE(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Kg=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function yE(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((o,a)=>{e[a]=o}),e}const Gg=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),wE=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Es=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Pn=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wt=async(r,e)=>{await r.removeItem(e)};class Wa{constructor(){this.promise=new Wa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Wa.promiseConstructor=Promise;function pa(r){const e=r.split(".");if(e.length!==3)throw new Ou("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!oE.test(e[o]))throw new Ou("JWT not in base64url format");return{header:JSON.parse(om(e[0])),payload:JSON.parse(om(e[1])),signature:Rs(e[2]),raw:{header:e[0],payload:e[1]}}}async function xE(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function _E(r,e){return new Promise((o,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){o(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function bE(r){return("0"+r.toString(16)).substr(-2)}function SE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(e),Array.from(e,bE).join("")}async function EE(r){const n=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(o);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function kE(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await EE(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(r,e,n=!1){const o=SE();let a=o;n&&(a+="/PASSWORD_RECOVERY"),await Es(r,`${e}-code-verifier`,a);const l=await kE(o);return[l,o===l?"plain":"s256"]}const CE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RE(r){const e=r.headers.get(ju);if(!e||!e.match(CE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TE(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function NE(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(r){if(!PE.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function au(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jE(r,e){return new Proxy(r,{get:(n,o,a)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,a)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,o,a)}})}function im(r){return JSON.parse(JSON.stringify(r))}const jn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),AE=[502,503,504];async function am(r){var e;if(!wE(r))throw new Au(jn(r),0);if(AE.includes(r.status))throw new Au(jn(r),r.status);let n;try{n=await r.json()}catch(l){throw new On(jn(l),l)}let o;const a=RE(r);if(a&&a.getTime()>=Hg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new rm(jn(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Ft}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new rm(jn(n),r.status,n.weak_password.reasons);throw new aE(jn(n),r.status||500,o)}const OE=(r,e,n,o)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),n))};async function ge(r,e,n,o){var a;const l=Object.assign({},o?.headers);l[ju]||(l[ju]=Hg["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const u=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await IE(r,e,n+d,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(h):{data:Object.assign({},h),error:null}}async function IE(r,e,n,o,a,l){const u=OE(e,o,a,l);let d;try{d=await r(n,Object.assign({},u))}catch(h){throw console.error(h),new Au(jn(h),0)}if(d.ok||await am(d),o?.noResolveJson)return d;try{return await d.json()}catch(h){await am(h)}}function rr(r){var e;let n=null;LE(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=gE(r.expires_in)));const o=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:o},error:null}}function lm(r){const e=rr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=r.weak_password),e}function on(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function DE(r){return{data:r,error:null}}function $E(r){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l}=r,u=Ls(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:o,redirect_to:a,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function cm(r){return r}function LE(r){return r.access_token&&r.refresh_token&&r.expires_in}const lu=["global","local","others"];class ME{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=Gg(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=lu[0]){if(lu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lu.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(de(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=Ls(e,["options"]),a=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$E,redirectTo:n?.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:on})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,a,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:cm});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);m[`${E}Page`]=x}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(de(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){gs(e);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:on})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gs(e);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){gs(e);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:on})}catch(o){if(de(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){gs(e.userId);try{const{data:n,error:o}=await ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:o}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gs(e.userId),gs(e.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,a,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:cm});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(k.split(";")[1].split("=")[1]);m[`${E}Page`]=x}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(de(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(de(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function um(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const vs={debug:!!(globalThis&&Kg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FE extends Jg{}async function UE(r,e,n){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await n()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new FE(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function VE(r){return parseInt(r,16)}function BE(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function WE(r){var e;const{chainId:n,domain:o,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:v,uri:y,version:b}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=Yg(r.address),k=v?`${v}://${o}`:o,x=r.statement?`${r.statement}
`:"",E=`${k} wants you to sign in with your Ethereum account:
${S}

${x}`;let C=`URI: ${y}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let T=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);T+=`
- ${N}`}C+=T}return`${E}
${C}`}class rt extends Error{constructor({message:e,code:n,cause:o,name:a}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=a??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Na extends rt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function HE({error:r,options:e}){var n,o,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new rt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Qg(u)){if(l.rp.id!==u)return new rt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function qE({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new rt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Qg(o)){if(n.rpId!==o)return new rt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class KE{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GE=new KE;function JE(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:o}=r,a=Ls(r,["challenge","user","excludeCredentials"]),l=Rs(e).buffer,u=Object.assign(Object.assign({},n),{id:Rs(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:u});if(o&&o.length>0){d.excludeCredentials=new Array(o.length);for(let h=0;h<o.length;h++){const m=o[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Rs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function YE(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,o=Ls(r,["challenge","allowCredentials"]),a=Rs(e).buffer,l=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Rs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function QE(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Dn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XE(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,o=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Dn(new Uint8Array(a.authenticatorData)),clientDataJSON:Dn(new Uint8Array(a.clientDataJSON)),signature:Dn(new Uint8Array(a.signature)),userHandle:a.userHandle?Dn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Qg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function dm(){var r,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ZE(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Na("Browser returned unexpected credential type",e)}:{data:null,error:new Na("Empty credential response",e)}}catch(e){return{data:null,error:HE({error:e,options:r})}}}async function ek(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Na("Browser returned unexpected credential type",e)}:{data:null,error:new Na("Empty credential response",e)}}catch(e){return{data:null,error:qE({error:e,options:r})}}}const tk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pa(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of r)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))o[l]=u;else if(n(u))o[l]=u;else if(e(u)){const d=o[l];e(d)?o[l]=Pa(d,u):o[l]=Pa(u)}else o[l]=u}return o}function nk(r,e){return Pa(tk,r,e||{})}function sk(r,e){return Pa(rk,r,e||{})}class ok{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:a},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const h=a??GE.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=nk(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await ZE({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=sk(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await ek(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn authentication")};try{if(!dm())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:a},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:o,credential_response:h.credential_response}})}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Uo("rpId is required for WebAuthn registration")};try{if(!dm())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:a},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:o,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return de(u)?{data:null,error:u}:{data:null,error:new On("Unexpected error in register",u)}}}}zE();const ik={url:rE,storageKey:nE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function fm(r,e,n){return await n()}const ys={};class zo{get jwks(){var e,n;return(n=(e=ys[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ys[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:e})}constructor(e){var n,o,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},ik),e);if(this.storageKey=l.storageKey,this.instanceID=(n=zo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new ME({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Gg(l.fetch),this.lock=l.lock||fm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&xt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=UE:this.lock=fm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ok(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Kg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=um(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=um(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(d){this._debug("#broadcastChannel","error",d)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wg}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},o="none";if(xt()&&(n=yE(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),xt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),cE(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new On("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,a;try{const l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:rr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,o,a;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let S=null,k=null;this.flowType==="pkce"&&([S,k]=await ms(this.storage,this.storageKey)),l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(n=b?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:k},xform:rr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=b?.data)!==null&&o!==void 0?o:{},channel:(a=b?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:rr})}else throw new fa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:lm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:lm})}else throw new fa("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){const l=new ps;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,o,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,a,l,u,d,h,m,v,y,b;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:x,wallet:E,statement:C,options:T}=e;let N;if(xt())if(typeof E=="object")N=E;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")N=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const I=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),z=await N.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Yg(z[0]);let j=(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!j){const K=await N.request({method:"eth_chainId"});j=VE(K)}const q={domain:I.host,address:M,statement:C,uri:I.href,version:"1",chainId:j,nonce:(a=T?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=T?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=WE(q),k=await N.request({method:"personal_sign",params:[BE(S),M]})}try{const{data:x,error:E}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:rr});if(E)throw E;if(!x||!x.session||!x.user){const C=new ps;return this._returnResult({data:{user:null,session:null},error:C})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:E})}catch(x){if(de(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var n,o,a,l,u,d,h,m,v,y,b,S;let k,x;if("message"in e)k=e.message,x=e.signature;else{const{chain:E,wallet:C,statement:T,options:N}=e;let I;if(xt())if(typeof C=="object")I=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))I=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const z=new URL((n=N?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const M=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),T?{statement:T}:null));let j;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")j=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)j=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)k=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${z.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(o=N?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=N?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(v=N?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const M=await I.signMessage(new TextEncoder().encode(k),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=M}}try{const{data:E,error:C}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Dn(x)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:rr});if(C)throw C;if(!E||!E.session||!E.user){const T=new ps;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(de(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new uE;const{data:l,error:u}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:rr});if(await wt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new ps;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:o,token:a,access_token:l,nonce:u}=e,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:rr}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new ps;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,o,a,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ms(this.storage,this.storageKey));const{error:y}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h?.data)!==null&&n!==void 0?n:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new fa("You must provide either an email or phone number.")}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,o;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:rr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,o,a,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ms(this.storage,this.storageKey));const m=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:DE});return!((l=m.data)===null||l===void 0)&&l.url&&xt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new Ft;const{error:a}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:a,options:l}=e,{error:u}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:o,type:a,options:l}=e,{data:u,error:d}=await ge(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new fa("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<su:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const u=await Pn(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=au()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=jE(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:on}):await this._useSession(async n=>{var o,a,l;const{data:u,error:d}=n;if(d)throw d;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:on})})}catch(n){if(de(n))return ou(n)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:a,error:l}=o;if(l)throw l;if(!a.session)throw new Ft;const u=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await ms(this.storage,this.storageKey));const{data:m,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:on});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(o){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const n=Date.now()/1e3;let o=n,a=!0,l=null;const{payload:u}=pa(e.access_token);if(u.exp&&(o=u.exp,a=o<=n),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(o=u.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new Ft;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xt())throw new ha("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ha(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ha("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tm("No code detected.");const{data:T,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new ha("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;h&&(b=parseInt(h));const S=b-v;S*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const k=b-y;v-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,b,v):v-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,b,v);const{data:x,error:E}=await this._getUser(l);if(E)throw E;const C={provider_token:o,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:b,refresh_token:u,token_type:m,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(o){if(de(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l&&!ou(l))return this._returnResult({error:l});const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(lE(d)&&(d.status===404||d.status===401||d.status===403)||ou(d)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=vE(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await ms(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:a}=await this._useSession(async l=>{var u,d,h,m,v;const{data:y,error:b}=l;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return xt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(de(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:d,token:h,access_token:m,nonce:v}=e,y=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:rr}),{data:b,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ps}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(a){if(await wt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)throw u;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await _E(async a=>(a>0&&await xE(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(a,l)=>{const u=200*Math.pow(2,a);return l&&iu(l)&&Date.now()+u-o<Ss})}catch(o){if(this._debug(n,"error",o),de(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),xt()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Pn(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Es(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:au()}else if(a&&!a.user&&!a.user){const u=await Pn(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await wt(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,a)):a.user=au()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<su;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${su}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),iu(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Wa;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new Ft;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),de(l)){const u={data:null,error:l};return iu(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,o=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=im(a);await Es(this.storage,this.storageKey,l)}else{const a=im(n);await Es(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Pu} ticks`),a<=Pu&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const a=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,u]=await ms(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);a.push(l.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QE(e.webauthn.credential_response):XE(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var o;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:JE(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:YE(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,o,a,l;if(e)try{const{payload:S}=pa(e);let k=null;S.aal&&(k=S.aal);let x=k;const{data:{user:E},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((o=(n=E?.factors)===null||n===void 0?void 0:n.filter(I=>I.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(x="aal2");const N=S.amr||[];return{data:{currentLevel:k,nextLevel:x,currentAuthenticationMethods:N},error:null}}catch(S){if(de(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=pa(u.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((l=(a=u.user.factors)===null||a===void 0?void 0:a.filter(S=>S.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const b=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ft});const u=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,n){try{return await this._useSession(async o=>{const{data:{session:a},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ft});const u=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&xt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;return o?this._returnResult({data:null,error:o}):n?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;return a?this._returnResult({data:null,error:a}):o?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(d=>d.kid===e);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(d=>d.kid===e),o&&this.jwks_cached_at+iE>a)return o;const{data:l,error:u}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,o=l.keys.find(d=>d.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:S,error:k}=await this.getSession();if(k||!S.session)return this._returnResult({data:null,error:k});o=S.session.access_token}const{header:a,payload:l,signature:u,raw:{header:d,payload:h}}=pa(o);n?.allowExpired||TE(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:l,header:a,signature:u},error:null}}const v=NE(a.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,mE(`${d}.${h}`)))throw new Ou("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(o){if(de(o))return this._returnResult({data:null,error:o});throw o}}}zo.nextInstanceID={};const ak=zo,lk="2.93.1";let jo="";typeof Deno<"u"?jo="deno":typeof document<"u"?jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jo="react-native":jo="node";function ck(){const r=globalThis.process;if(r&&r.platform){const e=r.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function uk(){const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node&&typeof window>"u")try{const n=globalThis.require;if(n)return n("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function dk(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return"node"}return null}function fk(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return e.node}return null}function hk(){const r={"X-Client-Info":`supabase-js-${jo}/${lk}`},e=ck();e&&(r["X-Supabase-Client-Platform"]=e);const n=uk();n&&(r["X-Supabase-Client-Platform-Version"]=n);const o=dk();o&&(r["X-Supabase-Client-Runtime"]=o);const a=fk();return a&&(r["X-Supabase-Client-Runtime-Version"]=a),r}const pk=hk(),mk={headers:pk},gk={schema:"public"},vk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yk={};function Vo(r){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(r)}function wk(r,e){if(Vo(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,e);if(Vo(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xk(r){var e=wk(r,"string");return Vo(e)=="symbol"?e:e+""}function _k(r,e,n){return(e=xk(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function hm(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,o)}return n}function Qe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hm(Object(n),!0).forEach(function(o){_k(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}const bk=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Sk=()=>Headers,Ek=(r,e,n)=>{const o=bk(n),a=Sk();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:r;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),o(l,Qe(Qe({},u),{},{headers:m}))}};function kk(r){return r.endsWith("/")?r:r+"/"}function Ck(r,e){var n,o;const{db:a,auth:l,realtime:u,global:d}=r,{db:h,auth:m,realtime:v,global:y}=e,b={db:Qe(Qe({},h),a),auth:Qe(Qe({},m),l),realtime:Qe(Qe({},v),u),storage:{},global:Qe(Qe(Qe({},y),d),{},{headers:Qe(Qe({},(n=y?.headers)!==null&&n!==void 0?n:{}),(o=d?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?b.accessToken=r.accessToken:delete b.accessToken,b}function Rk(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Tk=class extends ak{constructor(r){super(r)}},Nk=class{constructor(r,e,n){var o,a;this.supabaseUrl=r,this.supabaseKey=e;const l=Rk(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:gk,realtime:yk,auth:Qe(Qe({},vk),{},{storageKey:u}),global:mk},h=Ck(n??{},d);if(this.storageKey=(o=h.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=Ek(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new aS(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new tE(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new rS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:o}=await r.auth.getSession();return(e=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,storageKey:l,flowType:u,lock:d,debug:h,throwOnError:m},v,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tk({url:this.authUrl.href,headers:Qe(Qe({},b),v),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:o,userStorage:a,flowType:u,lock:d,debug:h,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ES(this.realtimeUrl.href,Qe(Qe({},r),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Pk=(r,e,n)=>new Nk(r,e,n);function jk(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}jk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ak="https://aaavxylbuwkyfpnzyzfx.supabase.co",Ok="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhYXZ4eWxidXdreWZwbnp5emZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MzgxOTAsImV4cCI6MjA4NTExNDE5MH0.vDL-hUDvKR58ijENlPwSTgHoAPuuvdlrBzZWo5Wo-Tw",Ye=Pk(Ak,Ok,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ik=Xu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Bo({className:r,variant:e,...n}){return p.jsx("div",{className:Le(Ik({variant:e}),r),...n})}var Ha="Collapsible",[Dk]=Or(Ha),[$k,od]=Dk(Ha),Xg=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,open:o,defaultOpen:a,disabled:l,onOpenChange:u,...d}=r,[h,m]=As({prop:o,defaultProp:a??!1,onChange:u,caller:Ha});return p.jsx($k,{scope:n,disabled:l,contentId:cn(),open:h,onOpenToggle:w.useCallback(()=>m(v=>!v),[m]),children:p.jsx(Ne.div,{"data-state":ad(h),"data-disabled":l?"":void 0,...d,ref:e})})});Xg.displayName=Ha;var Zg="CollapsibleTrigger",ev=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,...o}=r,a=od(Zg,n);return p.jsx(Ne.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ad(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...o,ref:e,onClick:Te(r.onClick,a.onOpenToggle)})});ev.displayName=Zg;var id="CollapsibleContent",tv=w.forwardRef((r,e)=>{const{forceMount:n,...o}=r,a=od(id,r.__scopeCollapsible);return p.jsx($s,{present:n||a.open,children:({present:l})=>p.jsx(Lk,{...o,ref:e,present:l})})});tv.displayName=id;var Lk=w.forwardRef((r,e)=>{const{__scopeCollapsible:n,present:o,children:a,...l}=r,u=od(id,n),[d,h]=w.useState(o),m=w.useRef(null),v=Me(e,m),y=w.useRef(0),b=y.current,S=w.useRef(0),k=S.current,x=u.open||d,E=w.useRef(x),C=w.useRef(void 0);return w.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),_t(()=>{const T=m.current;if(T){C.current=C.current||{transitionDuration:T.style.transitionDuration,animationName:T.style.animationName},T.style.transitionDuration="0s",T.style.animationName="none";const N=T.getBoundingClientRect();y.current=N.height,S.current=N.width,E.current||(T.style.transitionDuration=C.current.transitionDuration,T.style.animationName=C.current.animationName),h(o)}},[u.open,o]),p.jsx(Ne.div,{"data-state":ad(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!x,...l,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...r.style},children:x&&a})});function ad(r){return r?"open":"closed"}var Mk=Xg;const Iu=Mk,Du=ev,$u=tv;function Fk(r,e=globalThis?.document){const n=un(r);w.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[n,e])}var Uk="DismissableLayer",Lu="dismissableLayer.update",zk="dismissableLayer.pointerDownOutside",Vk="dismissableLayer.focusOutside",pm,rv=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=w.forwardRef((r,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...h}=r,m=w.useContext(rv),[v,y]=w.useState(null),b=v?.ownerDocument??globalThis?.document,[,S]=w.useState({}),k=Me(e,j=>y(j)),x=Array.from(m.layers),[E]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=x.indexOf(E),T=v?x.indexOf(v):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,I=T>=C,z=Hk(j=>{const q=j.target,K=[...m.branches].some(D=>D.contains(q));!I||K||(a?.(j),u?.(j),j.defaultPrevented||d?.())},b),M=qk(j=>{const q=j.target;[...m.branches].some(D=>D.contains(q))||(l?.(j),u?.(j),j.defaultPrevented||d?.())},b);return Fk(j=>{T===m.layers.size-1&&(o?.(j),!j.defaultPrevented&&d&&(j.preventDefault(),d()))},b),w.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(pm=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),mm(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=pm)}},[v,b,n,m]),w.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),mm())},[v,m]),w.useEffect(()=>{const j=()=>S({});return document.addEventListener(Lu,j),()=>document.removeEventListener(Lu,j)},[]),p.jsx(Ne.div,{...h,ref:k,style:{pointerEvents:N?I?"auto":"none":void 0,...r.style},onFocusCapture:Te(r.onFocusCapture,M.onFocusCapture),onBlurCapture:Te(r.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Te(r.onPointerDownCapture,z.onPointerDownCapture)})});ld.displayName=Uk;var Bk="DismissableLayerBranch",Wk=w.forwardRef((r,e)=>{const n=w.useContext(rv),o=w.useRef(null),a=Me(e,o);return w.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),p.jsx(Ne.div,{...r,ref:a})});Wk.displayName=Bk;function Hk(r,e=globalThis?.document){const n=un(r),o=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=d=>{if(d.target&&!o.current){let h=function(){nv(zk,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>o.current=!0}}function qk(r,e=globalThis?.document){const n=un(r),o=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!o.current&&nv(Vk,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function mm(){const r=new CustomEvent(Lu);document.dispatchEvent(r)}function nv(r,e,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(r,e,{once:!0}),o?rb(a,l):a.dispatchEvent(l)}var cu="focusScope.autoFocusOnMount",uu="focusScope.autoFocusOnUnmount",gm={bubbles:!1,cancelable:!0},Kk="FocusScope",cd=w.forwardRef((r,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=r,[d,h]=w.useState(null),m=un(a),v=un(l),y=w.useRef(null),b=Me(e,x=>h(x)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let x=function(N){if(S.paused||!d)return;const I=N.target;d.contains(I)?y.current=I:nn(y.current,{select:!0})},E=function(N){if(S.paused||!d)return;const I=N.relatedTarget;I!==null&&(d.contains(I)||nn(y.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const z of N)z.removedNodes.length>0&&nn(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const T=new MutationObserver(C);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),T.disconnect()}}},[o,d,S.paused]),w.useEffect(()=>{if(d){ym.add(S);const x=document.activeElement;if(!d.contains(x)){const C=new CustomEvent(cu,gm);d.addEventListener(cu,m),d.dispatchEvent(C),C.defaultPrevented||(Gk(Zk(sv(d)),{select:!0}),document.activeElement===x&&nn(d))}return()=>{d.removeEventListener(cu,m),setTimeout(()=>{const C=new CustomEvent(uu,gm);d.addEventListener(uu,v),d.dispatchEvent(C),C.defaultPrevented||nn(x??document.body,{select:!0}),d.removeEventListener(uu,v),ym.remove(S)},0)}}},[d,m,v,S]);const k=w.useCallback(x=>{if(!n&&!o||S.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(E&&C){const T=x.currentTarget,[N,I]=Jk(T);N&&I?!x.shiftKey&&C===I?(x.preventDefault(),n&&nn(N,{select:!0})):x.shiftKey&&C===N&&(x.preventDefault(),n&&nn(I,{select:!0})):C===T&&x.preventDefault()}},[n,o,S.paused]);return p.jsx(Ne.div,{tabIndex:-1,...u,ref:b,onKeyDown:k})});cd.displayName=Kk;function Gk(r,{select:e=!1}={}){const n=document.activeElement;for(const o of r)if(nn(o,{select:e}),document.activeElement!==n)return}function Jk(r){const e=sv(r),n=vm(e,r),o=vm(e.reverse(),r);return[n,o]}function sv(r){const e=[],n=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vm(r,e){for(const n of r)if(!Yk(n,{upTo:e}))return n}function Yk(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Qk(r){return r instanceof HTMLInputElement&&"select"in r}function nn(r,{select:e=!1}={}){if(r&&r.focus){const n=document.activeElement;r.focus({preventScroll:!0}),r!==n&&Qk(r)&&e&&r.select()}}var ym=Xk();function Xk(){let r=[];return{add(e){const n=r[0];e!==n&&n?.pause(),r=wm(r,e),r.unshift(e)},remove(e){r=wm(r,e),r[0]?.resume()}}}function wm(r,e){const n=[...r],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function Zk(r){return r.filter(e=>e.tagName!=="A")}var eC="Portal",ud=w.forwardRef((r,e)=>{const{container:n,...o}=r,[a,l]=w.useState(!1);_t(()=>l(!0),[]);const u=n||a&&globalThis?.document?.body;return u?hx.createPortal(p.jsx(Ne.div,{...o,ref:e}),u):null});ud.displayName=eC;var du=0;function ov(){w.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??xm()),document.body.insertAdjacentElement("beforeend",r[1]??xm()),du++,()=>{du===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),du--}},[])}function xm(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Sa="right-scroll-bar-position",Ea="width-before-scroll-bar",tC="with-scroll-bars-hidden",rC="--removed-body-scroll-bar-size";function fu(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function nC(r,e){var n=w.useState(function(){return{value:r,callback:e,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=e,n.facade}var sC=typeof window<"u"?w.useLayoutEffect:w.useEffect,_m=new WeakMap;function oC(r,e){var n=nC(null,function(o){return r.forEach(function(a){return fu(a,o)})});return sC(function(){var o=_m.get(n);if(o){var a=new Set(o),l=new Set(r),u=n.current;a.forEach(function(d){l.has(d)||fu(d,null)}),l.forEach(function(d){a.has(d)||fu(d,u)})}_m.set(n,r)},[r]),n}function iC(r){return r}function aC(r,e){e===void 0&&(e=iC);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:r},useMedium:function(l){var u=e(l,o);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(o=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){o=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(l),u=n}var h=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),n}}}};return a}function lC(r){r===void 0&&(r={});var e=aC(null);return e.options=hr({async:!0,ssr:!1},r),e}var iv=function(r){var e=r.sideCar,n=Ls(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,hr({},n))};iv.isSideCarExport=!0;function cC(r,e){return r.useMedium(e),iv}var av=lC(),hu=function(){},qa=w.forwardRef(function(r,e){var n=w.useRef(null),o=w.useState({onScrollCapture:hu,onWheelCapture:hu,onTouchMoveCapture:hu}),a=o[0],l=o[1],u=r.forwardProps,d=r.children,h=r.className,m=r.removeScrollBar,v=r.enabled,y=r.shards,b=r.sideCar,S=r.noRelative,k=r.noIsolation,x=r.inert,E=r.allowPinchZoom,C=r.as,T=C===void 0?"div":C,N=r.gapMode,I=Ls(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=b,M=oC([n,e]),j=hr(hr({},I),a);return w.createElement(w.Fragment,null,v&&w.createElement(z,{sideCar:av,removeScrollBar:m,shards:y,noRelative:S,noIsolation:k,inert:x,setCallbacks:l,allowPinchZoom:!!E,lockRef:n,gapMode:N}),u?w.cloneElement(w.Children.only(d),hr(hr({},j),{ref:M})):w.createElement(T,hr({},j,{className:h,ref:M}),d))});qa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qa.classNames={fullWidth:Ea,zeroRight:Sa};var uC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dC(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=uC();return e&&r.setAttribute("nonce",e),r}function fC(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function hC(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var pC=function(){var r=0,e=null;return{add:function(n){r==0&&(e=dC())&&(fC(e,n),hC(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mC=function(){var r=pC();return function(e,n){w.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&n])}},lv=function(){var r=mC(),e=function(n){var o=n.styles,a=n.dynamic;return r(o,a),null};return e},gC={left:0,top:0,right:0,gap:0},pu=function(r){return parseInt(r||"",10)||0},vC=function(r){var e=window.getComputedStyle(document.body),n=e[r==="padding"?"paddingLeft":"marginLeft"],o=e[r==="padding"?"paddingTop":"marginTop"],a=e[r==="padding"?"paddingRight":"marginRight"];return[pu(n),pu(o),pu(a)]},yC=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return gC;var e=vC(r),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},wC=lv(),Ts="data-scroll-locked",xC=function(r,e,n,o){var a=r.left,l=r.top,u=r.right,d=r.gap;return n===void 0&&(n="margin"),`
  .`.concat(tC,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Ts,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sa,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Ea,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Sa," .").concat(Sa,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Ea," .").concat(Ea,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Ts,`] {
    `).concat(rC,": ").concat(d,`px;
  }
`)},bm=function(){var r=parseInt(document.body.getAttribute(Ts)||"0",10);return isFinite(r)?r:0},_C=function(){w.useEffect(function(){return document.body.setAttribute(Ts,(bm()+1).toString()),function(){var r=bm()-1;r<=0?document.body.removeAttribute(Ts):document.body.setAttribute(Ts,r.toString())}},[])},bC=function(r){var e=r.noRelative,n=r.noImportant,o=r.gapMode,a=o===void 0?"margin":o;_C();var l=w.useMemo(function(){return yC(a)},[a]);return w.createElement(wC,{styles:xC(l,!e,a,n?"":"!important")})},Mu=!1;if(typeof window<"u")try{var ma=Object.defineProperty({},"passive",{get:function(){return Mu=!0,!0}});window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Mu=!1}var ws=Mu?{passive:!1}:!1,SC=function(r){return r.tagName==="TEXTAREA"},cv=function(r,e){if(!(r instanceof Element))return!1;var n=window.getComputedStyle(r);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SC(r)&&n[e]==="visible")},EC=function(r){return cv(r,"overflowY")},kC=function(r){return cv(r,"overflowX")},Sm=function(r,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=uv(r,o);if(a){var l=dv(r,o),u=l[1],d=l[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},CC=function(r){var e=r.scrollTop,n=r.scrollHeight,o=r.clientHeight;return[e,n,o]},RC=function(r){var e=r.scrollLeft,n=r.scrollWidth,o=r.clientWidth;return[e,n,o]},uv=function(r,e){return r==="v"?EC(e):kC(e)},dv=function(r,e){return r==="v"?CC(e):RC(e)},TC=function(r,e){return r==="h"&&e==="rtl"?-1:1},NC=function(r,e,n,o,a){var l=TC(r,window.getComputedStyle(e).direction),u=l*o,d=n.target,h=e.contains(d),m=!1,v=u>0,y=0,b=0;do{if(!d)break;var S=dv(r,d),k=S[0],x=S[1],E=S[2],C=x-E-l*k;(k||C)&&uv(r,d)&&(y+=C,b+=k);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(m=!0),m},ga=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Em=function(r){return[r.deltaX,r.deltaY]},km=function(r){return r&&"current"in r?r.current:r},PC=function(r,e){return r[0]===e[0]&&r[1]===e[1]},jC=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},AC=0,xs=[];function OC(r){var e=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),a=w.useState(AC++)[0],l=w.useState(lv)[0],u=w.useRef(r);w.useEffect(function(){u.current=r},[r]),w.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(a));var x=Zb([r.lockRef.current],(r.shards||[]).map(km),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[r.inert,r.lockRef.current,r.shards]);var d=w.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var C=ga(x),T=n.current,N="deltaX"in x?x.deltaX:T[0]-C[0],I="deltaY"in x?x.deltaY:T[1]-C[1],z,M=x.target,j=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in x&&j==="h"&&M.type==="range")return!1;var q=Sm(j,M);if(!q)return!0;if(q?z=j:(z=j==="v"?"h":"v",q=Sm(j,M)),!q)return!1;if(!o.current&&"changedTouches"in x&&(N||I)&&(o.current=z),!z)return!0;var K=o.current||z;return NC(K,E,x,K==="h"?N:I)},[]),h=w.useCallback(function(x){var E=x;if(!(!xs.length||xs[xs.length-1]!==l)){var C="deltaY"in E?Em(E):ga(E),T=e.current.filter(function(z){return z.name===E.type&&(z.target===E.target||E.target===z.shadowParent)&&PC(z.delta,C)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var N=(u.current.shards||[]).map(km).filter(Boolean).filter(function(z){return z.contains(E.target)}),I=N.length>0?d(E,N[0]):!u.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),m=w.useCallback(function(x,E,C,T){var N={name:x,delta:E,target:C,should:T,shadowParent:IC(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(I){return I!==N})},1)},[]),v=w.useCallback(function(x){n.current=ga(x),o.current=void 0},[]),y=w.useCallback(function(x){m(x.type,Em(x),x.target,d(x,r.lockRef.current))},[]),b=w.useCallback(function(x){m(x.type,ga(x),x.target,d(x,r.lockRef.current))},[]);w.useEffect(function(){return xs.push(l),r.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,ws),document.addEventListener("touchmove",h,ws),document.addEventListener("touchstart",v,ws),function(){xs=xs.filter(function(x){return x!==l}),document.removeEventListener("wheel",h,ws),document.removeEventListener("touchmove",h,ws),document.removeEventListener("touchstart",v,ws)}},[]);var S=r.removeScrollBar,k=r.inert;return w.createElement(w.Fragment,null,k?w.createElement(l,{styles:jC(a)}):null,S?w.createElement(bC,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function IC(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const DC=cC(av,OC);var dd=w.forwardRef(function(r,e){return w.createElement(qa,hr({},r,{ref:e,sideCar:DC}))});dd.classNames=qa.classNames;var $C=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},_s=new WeakMap,va=new WeakMap,ya={},mu=0,fv=function(r){return r&&(r.host||fv(r.parentNode))},LC=function(r,e){return e.map(function(n){if(r.contains(n))return n;var o=fv(n);return o&&r.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",r,". Doing nothing"),null)}).filter(function(n){return!!n})},MC=function(r,e,n,o){var a=LC(e,Array.isArray(r)?r:[r]);ya[n]||(ya[n]=new WeakMap);var l=ya[n],u=[],d=new Set,h=new Set(a),m=function(y){!y||d.has(y)||(d.add(y),m(y.parentNode))};a.forEach(m);var v=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(d.has(b))v(b);else try{var S=b.getAttribute(o),k=S!==null&&S!=="false",x=(_s.get(b)||0)+1,E=(l.get(b)||0)+1;_s.set(b,x),l.set(b,E),u.push(b),x===1&&k&&va.set(b,!0),E===1&&b.setAttribute(n,"true"),k||b.setAttribute(o,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return v(e),d.clear(),mu++,function(){u.forEach(function(y){var b=_s.get(y)-1,S=l.get(y)-1;_s.set(y,b),l.set(y,S),b||(va.has(y)||y.removeAttribute(o),va.delete(y)),S||y.removeAttribute(n)}),mu--,mu||(_s=new WeakMap,_s=new WeakMap,va=new WeakMap,ya={})}},hv=function(r,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(r)?r:[r]),a=$C(r);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),MC(o,a,n,"aria-hidden")):function(){return null}},Ka="Dialog",[pv,mv]=Or(Ka),[FC,ar]=pv(Ka),gv=r=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:a,onOpenChange:l,modal:u=!0}=r,d=w.useRef(null),h=w.useRef(null),[m,v]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Ka});return p.jsx(FC,{scope:e,triggerRef:d,contentRef:h,contentId:cn(),titleId:cn(),descriptionId:cn(),open:m,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(y=>!y),[v]),modal:u,children:n})};gv.displayName=Ka;var vv="DialogTrigger",yv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(vv,n),l=Me(e,a.triggerRef);return p.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pd(a.open),...o,ref:l,onClick:Te(r.onClick,a.onOpenToggle)})});yv.displayName=vv;var fd="DialogPortal",[UC,wv]=pv(fd,{forceMount:void 0}),xv=r=>{const{__scopeDialog:e,forceMount:n,children:o,container:a}=r,l=ar(fd,e);return p.jsx(UC,{scope:e,forceMount:n,children:w.Children.map(o,u=>p.jsx($s,{present:n||l.open,children:p.jsx(ud,{asChild:!0,container:a,children:u})}))})};xv.displayName=fd;var ja="DialogOverlay",_v=w.forwardRef((r,e)=>{const n=wv(ja,r.__scopeDialog),{forceMount:o=n.forceMount,...a}=r,l=ar(ja,r.__scopeDialog);return l.modal?p.jsx($s,{present:o||l.open,children:p.jsx(VC,{...a,ref:e})}):null});_v.displayName=ja;var zC=js("DialogOverlay.RemoveScroll"),VC=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(ja,n);return p.jsx(dd,{as:zC,allowPinchZoom:!0,shards:[a.contentRef],children:p.jsx(Ne.div,{"data-state":pd(a.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Ln="DialogContent",bv=w.forwardRef((r,e)=>{const n=wv(Ln,r.__scopeDialog),{forceMount:o=n.forceMount,...a}=r,l=ar(Ln,r.__scopeDialog);return p.jsx($s,{present:o||l.open,children:l.modal?p.jsx(BC,{...a,ref:e}):p.jsx(WC,{...a,ref:e})})});bv.displayName=Ln;var BC=w.forwardRef((r,e)=>{const n=ar(Ln,r.__scopeDialog),o=w.useRef(null),a=Me(e,n.contentRef,o);return w.useEffect(()=>{const l=o.current;if(l)return hv(l)},[]),p.jsx(Sv,{...r,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(r.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Te(r.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&l.preventDefault()}),onFocusOutside:Te(r.onFocusOutside,l=>l.preventDefault())})}),WC=w.forwardRef((r,e)=>{const n=ar(Ln,r.__scopeDialog),o=w.useRef(!1),a=w.useRef(!1);return p.jsx(Sv,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||n.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{r.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Sv=w.forwardRef((r,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=r,d=ar(Ln,n),h=w.useRef(null),m=Me(e,h);return ov(),p.jsxs(p.Fragment,{children:[p.jsx(cd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:p.jsx(ld,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":pd(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(qC,{titleId:d.titleId}),p.jsx(GC,{contentRef:h,descriptionId:d.descriptionId})]})]})}),hd="DialogTitle",Ev=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(hd,n);return p.jsx(Ne.h2,{id:a.titleId,...o,ref:e})});Ev.displayName=hd;var kv="DialogDescription",Cv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(kv,n);return p.jsx(Ne.p,{id:a.descriptionId,...o,ref:e})});Cv.displayName=kv;var Rv="DialogClose",Tv=w.forwardRef((r,e)=>{const{__scopeDialog:n,...o}=r,a=ar(Rv,n);return p.jsx(Ne.button,{type:"button",...o,ref:e,onClick:Te(r.onClick,()=>a.onOpenChange(!1))})});Tv.displayName=Rv;function pd(r){return r?"open":"closed"}var Nv="DialogTitleWarning",[HC,Pv]=ob(Nv,{contentName:Ln,titleName:hd,docsSlug:"dialog"}),qC=({titleId:r})=>{const e=Pv(Nv),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{r&&(document.getElementById(r)||console.error(n))},[n,r]),null},KC="DialogDescriptionWarning",GC=({contentRef:r,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pv(KC).contentName}}.`;return w.useEffect(()=>{const a=r.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(o))},[o,r,e]),null},JC=gv,YC=yv,QC=xv,XC=_v,ZC=bv,eR=Ev,tR=Cv,jv=Tv,Av="AlertDialog",[rR]=Or(Av,[mv]),Dr=mv(),Ov=r=>{const{__scopeAlertDialog:e,...n}=r,o=Dr(e);return p.jsx(JC,{...o,...n,modal:!0})};Ov.displayName=Av;var nR="AlertDialogTrigger",Iv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(YC,{...a,...o,ref:e})});Iv.displayName=nR;var sR="AlertDialogPortal",Dv=r=>{const{__scopeAlertDialog:e,...n}=r,o=Dr(e);return p.jsx(QC,{...o,...n})};Dv.displayName=sR;var oR="AlertDialogOverlay",$v=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(XC,{...a,...o,ref:e})});$v.displayName=oR;var Ns="AlertDialogContent",[iR,aR]=rR(Ns),lR=Q_("AlertDialogContent"),Lv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,children:o,...a}=r,l=Dr(n),u=w.useRef(null),d=Me(e,u),h=w.useRef(null);return p.jsx(HC,{contentName:Ns,titleName:Mv,docsSlug:"alert-dialog",children:p.jsx(iR,{scope:n,cancelRef:h,children:p.jsxs(ZC,{role:"alertdialog",...l,...a,ref:d,onOpenAutoFocus:Te(a.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[p.jsx(lR,{children:o}),p.jsx(uR,{contentRef:u})]})})})});Lv.displayName=Ns;var Mv="AlertDialogTitle",Fv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(eR,{...a,...o,ref:e})});Fv.displayName=Mv;var Uv="AlertDialogDescription",zv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(tR,{...a,...o,ref:e})});zv.displayName=Uv;var cR="AlertDialogAction",Vv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,a=Dr(n);return p.jsx(jv,{...a,...o,ref:e})});Vv.displayName=cR;var Bv="AlertDialogCancel",Wv=w.forwardRef((r,e)=>{const{__scopeAlertDialog:n,...o}=r,{cancelRef:a}=aR(Bv,n),l=Dr(n),u=Me(e,a);return p.jsx(jv,{...l,...o,ref:u})});Wv.displayName=Bv;var uR=({contentRef:r})=>{const e=`\`${Ns}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ns}\` by passing a \`${Uv}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ns}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,r]),null},dR=Ov,fR=Iv,hR=Dv,Hv=$v,qv=Lv,Kv=Vv,Gv=Wv,Jv=Fv,Yv=zv;const Qv=dR,Xv=fR,pR=hR,Zv=w.forwardRef(({className:r,...e},n)=>p.jsx(Hv,{className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...e,ref:n}));Zv.displayName=Hv.displayName;const md=w.forwardRef(({className:r,...e},n)=>p.jsxs(pR,{children:[p.jsx(Zv,{}),p.jsx(qv,{ref:n,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...e})]}));md.displayName=qv.displayName;const gd=({className:r,...e})=>p.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",r),...e});gd.displayName="AlertDialogHeader";const vd=({className:r,...e})=>p.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...e});vd.displayName="AlertDialogFooter";const yd=w.forwardRef(({className:r,...e},n)=>p.jsx(Jv,{ref:n,className:Le("text-lg font-semibold",r),...e}));yd.displayName=Jv.displayName;const wd=w.forwardRef(({className:r,...e},n)=>p.jsx(Yv,{ref:n,className:Le("text-sm text-muted-foreground",r),...e}));wd.displayName=Yv.displayName;const xd=w.forwardRef(({className:r,...e},n)=>p.jsx(Kv,{ref:n,className:Le(Zu(),r),...e}));xd.displayName=Kv.displayName;const _d=w.forwardRef(({className:r,...e},n)=>p.jsx(Gv,{ref:n,className:Le(Zu({variant:"outline"}),"mt-2 sm:mt-0",r),...e}));_d.displayName=Gv.displayName;const mR=({sales:r,onDeleteSale:e,onEditSale:n,onUpdateSale:o,selectedMonth:a})=>r.length===0?p.jsx($n,{className:"w-full shadow-lg rounded-xl border",children:p.jsxs("div",{className:"p-8 text-center",children:[p.jsx("p",{className:"text-muted-foreground text-lg",children:"Nenhuma venda cadastrada ainda."}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Adicione sua primeira venda usando o formulrio acima."})]})}):p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Vendas Cadastradas"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.sort((l,u)=>{const d=v=>{if(v.paymentMethod!=="installment"||!v.installmentDates||v.installmentDates.length===0)return!1;const y=new Date;return v.installmentDates.every(b=>b!==null&&new Date(b)<y)},h=d(l),m=d(u);if(h!==m)return h?1:-1;if(l.paymentMethod==="installment"&&u.paymentMethod==="installment"){const v=new Date,y=(l.installmentDates||[]).filter(S=>!S||new Date(S)>v).length,b=(u.installmentDates||[]).filter(S=>!S||new Date(S)>v).length;if(y!==b)return b-y}return new Date(u.paymentDate).getTime()-new Date(l.paymentDate).getTime()}).map(l=>{const u=l.paymentMethod==="installment"&&Array.isArray(l.installmentDates)&&l.installmentDates.length>0&&l.installmentDates.every(y=>y!==null&&new Date(y)<new Date),d=l.products.reduce((y,b)=>y+b.purchaseValue,0),h=l.products.reduce((y,b)=>y+b.saleValue,0),m=h-d;l.paymentMethod==="installment"&&l.installmentValues&&l.installmentValues[0];const v=(()=>{if(l.paymentMethod==="pix"){if(a==="total")return h;const y=new Date(l.paymentDate);return`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}`===a?h:0}if(l.paymentMethod==="installment"&&l.installmentValues&&l.installmentDates){if(a==="total"){const b=new Date,S=l.installmentDates.findIndex(x=>!x||new Date(x)>b),k=S===-1?l.installmentValues.length-1:S;return l.installmentValues[k]??0}const y=l.installmentDates.findIndex(b=>{if(!b)return!1;const S=new Date(b);return`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}`===a});return y===-1?0:l.installmentValues[y]??0}return 0})();return p.jsx($n,{className:`w-full shadow-md hover:shadow-lg transition-shadow border ${u?"opacity-75 grayscale":""}`,children:p.jsxs("div",{className:"p-4 relative",children:[u&&p.jsx("div",{className:"absolute -rotate-12 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-500 text-2xl font-bold border-2 border-red-500 rounded px-2 py-1 z-10",children:"QUITADO"}),p.jsxs("div",{className:"flex items-start justify-between w-full mb-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:l.customerName}),p.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const[y,b,S]=(l.purchaseDate||"").split("-");return S&&b&&y?`${S}/${b}/${y}`:""})()})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-sm text-muted-foreground",children:"Total (descontos aplicados)"}),p.jsxs("div",{className:"text-lg font-bold",children:["R$ ",(h-(l.discount||0)).toFixed(2)]})]})]})}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{variant:"outline",size:"icon",onClick:()=>n(l),title:"Editar venda",children:p.jsx(Dg,{className:"h-4 w-4"})}),p.jsxs(Qv,{children:[p.jsx(Xv,{asChild:!0,children:p.jsx(ct,{variant:"outline",size:"icon",title:"Excluir venda",children:p.jsx($g,{className:"h-4 w-4 text-destructive"})})}),p.jsxs(md,{children:[p.jsxs(gd,{children:[p.jsx(yd,{children:"Confirmar excluso"}),p.jsxs(wd,{children:["Tem certeza que deseja excluir esta venda?",l.paymentMethod==="installment"&&p.jsx("span",{className:"block mt-2 font-semibold text-foreground",children:"Ateno: Todas as parcelas desta venda sero excludas."})]})]}),p.jsxs(vd,{children:[p.jsx(_d,{children:"Cancelar"}),p.jsx(xd,{onClick:()=>e(l.id),children:"Confirmar"})]})]})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Bo,{variant:l.paymentMethod==="pix"?"default":"outline",children:l.paymentMethod==="pix"?"PIX":`${l.installments}x ${l.installmentType==="quinzenal"?"Quinzenal":"Mensal"}`})}),l.paymentMethod==="installment"&&p.jsx("span",{className:"text-sm text-muted-foreground",children:(()=>{if(!Array.isArray(l.installmentDates))return`0/${l.installments} parcelas`;const y=new Date;return`${l.installmentDates.filter(S=>!S||new Date(S)>y).length}/${l.installments} parcelas`})()})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[p.jsx(Bb,{className:"w-5 h-5 text-primary mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor Total de Compra"}),p.jsxs("p",{className:"text-lg font-semibold text-foreground",children:["R$ ",d.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[p.jsx(Hb,{className:"w-5 h-5 text-green-600 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Lucro Total"}),p.jsxs("p",{className:`text-lg font-semibold ${m>=0?"text-green-600":"text-red-600"}`,children:["R$ ",m.toFixed(2)]})]})]}),p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-primary/10",children:[p.jsx(Su,{className:"w-5 h-5 text-primary mt-1"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Parcela do Ms"}),p.jsxs("p",{className:"text-lg font-bold text-foreground",children:["R$ ",v.toFixed(2)]})]})]})]}),l.paymentMethod==="installment"&&l.installmentValues&&p.jsxs(Iu,{children:[p.jsx(Du,{asChild:!0,children:p.jsx(ct,{variant:"outline",className:"w-full",children:"Ver Parcelas"})}),p.jsx($u,{className:"mt-4",children:p.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.installmentValues.map((y,b)=>{const S=l.installmentDates?.[b],k=S!=null&&new Date(S)<new Date;return p.jsxs("div",{className:`p-3 flex items-center justify-between ${b!==l.installmentValues.length-1?"border-b":""} bg-muted/30`,children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium text-sm",children:["Parcela ",b+1,"/",l.installments]}),S&&p.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(S).toLocaleDateString("pt-BR")})]}),p.jsxs("div",{className:"text-right flex items-center gap-2",children:[p.jsxs("p",{className:"font-semibold",children:["R$ ",y.toFixed(2)]}),k&&p.jsx(Bo,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-600",children:"Pago"}),p.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[p.jsx(ct,{variant:"outline",size:"sm",onClick:async()=>{const x=Array.isArray(l.installmentDates)?[...l.installmentDates]:Array(l.installmentValues.length).fill(null);x[b]=new Date().toISOString().split("T")[0],typeof o=="function"&&await o({id:l.id,installmentDates:x})},title:"Marcar como Pago",children:p.jsx(Ig,{className:"h-4 w-4"})}),p.jsx(ct,{variant:"ghost",size:"sm",onClick:async()=>{const x=Array.isArray(l.installmentDates)?[...l.installmentDates]:Array(l.installmentValues.length).fill(null);x[b]=null,typeof o=="function"&&await o({id:l.id,installmentDates:x})},title:"Reverter pagamento",children:p.jsx(Wb,{className:"h-4 w-4"})})]})]})]},b)})})})]}),p.jsxs(Iu,{className:"mt-4",children:[p.jsx(Du,{asChild:!0,children:p.jsx(ct,{variant:"outline",className:"w-full",children:"Ver Produtos"})}),p.jsx($u,{className:"mt-4",children:p.jsx("div",{className:"space-y-2",children:l.products.map(y=>{const b=y.saleValue-y.purchaseValue;return p.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-border",children:p.jsxs("div",{className:"flex justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"font-medium text-foreground",children:y.productName}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ref: ",y.productRef]})]}),p.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Compra"}),p.jsxs("p",{className:"font-medium text-foreground",children:["R$ ",y.purchaseValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Venda"}),p.jsxs("p",{className:"font-medium text-foreground",children:["R$ ",y.saleValue.toFixed(2)]})]}),p.jsxs("div",{className:"text-right min-w-[100px]",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:"Lucro"}),p.jsxs("p",{className:`font-medium ${b>=0?"text-green-600":"text-red-600"}`,children:["R$ ",b.toFixed(2)]})]})]})]})},y.id)})})})]})]})},l.id)})})]}),ey="/assets/ellas-logo-CIBEQLUu.jpeg";function Cm(r,[e,n]){return Math.min(n,Math.max(e,r))}const gR=["top","right","bottom","left"],dn=Math.min,Ut=Math.max,Aa=Math.round,wa=Math.floor,gr=r=>({x:r,y:r}),vR={left:"right",right:"left",bottom:"top",top:"bottom"},yR={start:"end",end:"start"};function Fu(r,e,n){return Ut(r,dn(e,n))}function jr(r,e){return typeof r=="function"?r(e):r}function Ar(r){return r.split("-")[0]}function Fs(r){return r.split("-")[1]}function bd(r){return r==="x"?"y":"x"}function Sd(r){return r==="y"?"height":"width"}const wR=new Set(["top","bottom"]);function mr(r){return wR.has(Ar(r))?"y":"x"}function Ed(r){return bd(mr(r))}function xR(r,e,n){n===void 0&&(n=!1);const o=Fs(r),a=Ed(r),l=Sd(a);let u=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Oa(u)),[u,Oa(u)]}function _R(r){const e=Oa(r);return[Uu(r),e,Uu(e)]}function Uu(r){return r.replace(/start|end/g,e=>yR[e])}const Rm=["left","right"],Tm=["right","left"],bR=["top","bottom"],SR=["bottom","top"];function ER(r,e,n){switch(r){case"top":case"bottom":return n?e?Tm:Rm:e?Rm:Tm;case"left":case"right":return e?bR:SR;default:return[]}}function kR(r,e,n,o){const a=Fs(r);let l=ER(Ar(r),n==="start",o);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Uu)))),l}function Oa(r){return r.replace(/left|right|bottom|top/g,e=>vR[e])}function CR(r){return{top:0,right:0,bottom:0,left:0,...r}}function ty(r){return typeof r!="number"?CR(r):{top:r,right:r,bottom:r,left:r}}function Ia(r){const{x:e,y:n,width:o,height:a}=r;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function Nm(r,e,n){let{reference:o,floating:a}=r;const l=mr(e),u=Ed(e),d=Sd(u),h=Ar(e),m=l==="y",v=o.x+o.width/2-a.width/2,y=o.y+o.height/2-a.height/2,b=o[d]/2-a[d]/2;let S;switch(h){case"top":S={x:v,y:o.y-a.height};break;case"bottom":S={x:v,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y};break;case"left":S={x:o.x-a.width,y};break;default:S={x:o.x,y:o.y}}switch(Fs(e)){case"start":S[u]-=b*(n&&m?-1:1);break;case"end":S[u]+=b*(n&&m?-1:1);break}return S}const RR=async(r,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,d=l.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:v,y}=Nm(m,o,h),b=o,S={},k=0;for(let x=0;x<d.length;x++){const{name:E,fn:C}=d[x],{x:T,y:N,data:I,reset:z}=await C({x:v,y,initialPlacement:o,placement:b,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});v=T??v,y=N??y,S={...S,[E]:{...S[E],...I}},z&&k<=50&&(k++,typeof z=="object"&&(z.placement&&(b=z.placement),z.rects&&(m=z.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):z.rects),{x:v,y}=Nm(m,b,h)),x=-1)}return{x:v,y,placement:b,strategy:a,middlewareData:S}};async function Wo(r,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:u,elements:d,strategy:h}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:S=0}=jr(e,r),k=ty(S),E=d[b?y==="floating"?"reference":"floating":y],C=Ia(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(E)))==null||n?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:h})),T=y==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),I=await(l.isElement==null?void 0:l.isElement(N))?await(l.getScale==null?void 0:l.getScale(N))||{x:1,y:1}:{x:1,y:1},z=Ia(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:N,strategy:h}):T);return{top:(C.top-z.top+k.top)/I.y,bottom:(z.bottom-C.bottom+k.bottom)/I.y,left:(C.left-z.left+k.left)/I.x,right:(z.right-C.right+k.right)/I.x}}const TR=r=>({name:"arrow",options:r,async fn(e){const{x:n,y:o,placement:a,rects:l,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:v=0}=jr(r,e)||{};if(m==null)return{};const y=ty(v),b={x:n,y:o},S=Ed(a),k=Sd(S),x=await u.getDimensions(m),E=S==="y",C=E?"top":"left",T=E?"bottom":"right",N=E?"clientHeight":"clientWidth",I=l.reference[k]+l.reference[S]-b[S]-l.floating[k],z=b[S]-l.reference[S],M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let j=M?M[N]:0;(!j||!await(u.isElement==null?void 0:u.isElement(M)))&&(j=d.floating[N]||l.floating[k]);const q=I/2-z/2,K=j/2-x[k]/2-1,D=dn(y[C],K),V=dn(y[T],K),G=D,W=j-x[k]-V,Z=j/2-x[k]/2+q,se=Fu(G,Z,W),H=!h.arrow&&Fs(a)!=null&&Z!==se&&l.reference[k]/2-(Z<G?D:V)-x[k]/2<0,Y=H?Z<G?Z-G:Z-W:0;return{[S]:b[S]+Y,data:{[S]:se,centerOffset:Z-se-Y,...H&&{alignmentOffset:Y}},reset:H}}}),NR=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:x=!0,...E}=jr(r,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const C=Ar(a),T=mr(d),N=Ar(d)===d,I=await(h.isRTL==null?void 0:h.isRTL(m.floating)),z=b||(N||!x?[Oa(d)]:_R(d)),M=k!=="none";!b&&M&&z.push(...kR(d,x,k,I));const j=[d,...z],q=await Wo(e,E),K=[];let D=((o=l.flip)==null?void 0:o.overflows)||[];if(v&&K.push(q[C]),y){const Z=xR(a,u,I);K.push(q[Z[0]],q[Z[1]])}if(D=[...D,{placement:a,overflows:K}],!K.every(Z=>Z<=0)){var V,G;const Z=(((V=l.flip)==null?void 0:V.index)||0)+1,se=j[Z];if(se&&(!(y==="alignment"?T!==mr(se):!1)||D.every($=>$.overflows[0]>0&&mr($.placement)===T)))return{data:{index:Z,overflows:D},reset:{placement:se}};let H=(G=D.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:G.placement;if(!H)switch(S){case"bestFit":{var W;const Y=(W=D.filter($=>{if(M){const U=mr($.placement);return U===T||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:W[0];Y&&(H=Y);break}case"initialPlacement":H=d;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Pm(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function jm(r){return gR.some(e=>r[e]>=0)}const PR=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...a}=jr(r,e);switch(o){case"referenceHidden":{const l=await Wo(e,{...a,elementContext:"reference"}),u=Pm(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:jm(u)}}}case"escaped":{const l=await Wo(e,{...a,altBoundary:!0}),u=Pm(l,n.floating);return{data:{escapedOffsets:u,escaped:jm(u)}}}default:return{}}}}},ry=new Set(["left","top"]);async function jR(r,e){const{placement:n,platform:o,elements:a}=r,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Ar(n),d=Fs(n),h=mr(n)==="y",m=ry.has(u)?-1:1,v=l&&h?-1:1,y=jr(e,r);let{mainAxis:b,crossAxis:S,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(S=d==="end"?k*-1:k),h?{x:S*v,y:b*m}:{x:b*m,y:S*v}}const AR=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var n,o;const{x:a,y:l,placement:u,middlewareData:d}=e,h=await jR(e,r);return u===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:u}}}}},OR=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:E=>{let{x:C,y:T}=E;return{x:C,y:T}}},...h}=jr(r,e),m={x:n,y:o},v=await Wo(e,h),y=mr(Ar(a)),b=bd(y);let S=m[b],k=m[y];if(l){const E=b==="y"?"top":"left",C=b==="y"?"bottom":"right",T=S+v[E],N=S-v[C];S=Fu(T,S,N)}if(u){const E=y==="y"?"top":"left",C=y==="y"?"bottom":"right",T=k+v[E],N=k-v[C];k=Fu(T,k,N)}const x=d.fn({...e,[b]:S,[y]:k});return{...x,data:{x:x.x-n,y:x.y-o,enabled:{[b]:l,[y]:u}}}}}},IR=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:n,y:o,placement:a,rects:l,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=jr(r,e),v={x:n,y:o},y=mr(a),b=bd(y);let S=v[b],k=v[y];const x=jr(d,e),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(h){const N=b==="y"?"height":"width",I=l.reference[b]-l.floating[N]+E.mainAxis,z=l.reference[b]+l.reference[N]-E.mainAxis;S<I?S=I:S>z&&(S=z)}if(m){var C,T;const N=b==="y"?"width":"height",I=ry.has(Ar(a)),z=l.reference[y]-l.floating[N]+(I&&((C=u.offset)==null?void 0:C[y])||0)+(I?0:E.crossAxis),M=l.reference[y]+l.reference[N]+(I?0:((T=u.offset)==null?void 0:T[y])||0)-(I?E.crossAxis:0);k<z?k=z:k>M&&(k=M)}return{[b]:S,[y]:k}}}},DR=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var n,o;const{placement:a,rects:l,platform:u,elements:d}=e,{apply:h=()=>{},...m}=jr(r,e),v=await Wo(e,m),y=Ar(a),b=Fs(a),S=mr(a)==="y",{width:k,height:x}=l.floating;let E,C;y==="top"||y==="bottom"?(E=y,C=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=y,E=b==="end"?"top":"bottom");const T=x-v.top-v.bottom,N=k-v.left-v.right,I=dn(x-v[E],T),z=dn(k-v[C],N),M=!e.middlewareData.shift;let j=I,q=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(q=N),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(j=T),M&&!b){const D=Ut(v.left,0),V=Ut(v.right,0),G=Ut(v.top,0),W=Ut(v.bottom,0);S?q=k-2*(D!==0||V!==0?D+V:Ut(v.left,v.right)):j=x-2*(G!==0||W!==0?G+W:Ut(v.top,v.bottom))}await h({...e,availableWidth:q,availableHeight:j});const K=await u.getDimensions(d.floating);return k!==K.width||x!==K.height?{reset:{rects:!0}}:{}}}};function Ga(){return typeof window<"u"}function Us(r){return ny(r)?(r.nodeName||"").toLowerCase():"#document"}function zt(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function wr(r){var e;return(e=(ny(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function ny(r){return Ga()?r instanceof Node||r instanceof zt(r).Node:!1}function or(r){return Ga()?r instanceof Element||r instanceof zt(r).Element:!1}function vr(r){return Ga()?r instanceof HTMLElement||r instanceof zt(r).HTMLElement:!1}function Am(r){return!Ga()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof zt(r).ShadowRoot}const $R=new Set(["inline","contents"]);function Xo(r){const{overflow:e,overflowX:n,overflowY:o,display:a}=ir(r);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!$R.has(a)}const LR=new Set(["table","td","th"]);function MR(r){return LR.has(Us(r))}const FR=[":popover-open",":modal"];function Ja(r){return FR.some(e=>{try{return r.matches(e)}catch{return!1}})}const UR=["transform","translate","scale","rotate","perspective"],zR=["transform","translate","scale","rotate","perspective","filter"],VR=["paint","layout","strict","content"];function kd(r){const e=Cd(),n=or(r)?ir(r):r;return UR.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zR.some(o=>(n.willChange||"").includes(o))||VR.some(o=>(n.contain||"").includes(o))}function BR(r){let e=fn(r);for(;vr(e)&&!Os(e);){if(kd(e))return e;if(Ja(e))return null;e=fn(e)}return null}function Cd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WR=new Set(["html","body","#document"]);function Os(r){return WR.has(Us(r))}function ir(r){return zt(r).getComputedStyle(r)}function Ya(r){return or(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function fn(r){if(Us(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Am(r)&&r.host||wr(r);return Am(e)?e.host:e}function sy(r){const e=fn(r);return Os(e)?r.ownerDocument?r.ownerDocument.body:r.body:vr(e)&&Xo(e)?e:sy(e)}function Ho(r,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=sy(r),l=a===((o=r.ownerDocument)==null?void 0:o.body),u=zt(a);if(l){const d=zu(u);return e.concat(u,u.visualViewport||[],Xo(a)?a:[],d&&n?Ho(d):[])}return e.concat(a,Ho(a,[],n))}function zu(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function oy(r){const e=ir(r);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=vr(r),l=a?r.offsetWidth:n,u=a?r.offsetHeight:o,d=Aa(n)!==l||Aa(o)!==u;return d&&(n=l,o=u),{width:n,height:o,$:d}}function Rd(r){return or(r)?r:r.contextElement}function Ps(r){const e=Rd(r);if(!vr(e))return gr(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=oy(e);let u=(l?Aa(n.width):n.width)/o,d=(l?Aa(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const HR=gr(0);function iy(r){const e=zt(r);return!Cd()||!e.visualViewport?HR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qR(r,e,n){return e===void 0&&(e=!1),!n||e&&n!==zt(r)?!1:e}function Mn(r,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=r.getBoundingClientRect(),l=Rd(r);let u=gr(1);e&&(o?or(o)&&(u=Ps(o)):u=Ps(r));const d=qR(l,n,o)?iy(l):gr(0);let h=(a.left+d.x)/u.x,m=(a.top+d.y)/u.y,v=a.width/u.x,y=a.height/u.y;if(l){const b=zt(l),S=o&&or(o)?zt(o):o;let k=b,x=zu(k);for(;x&&o&&S!==k;){const E=Ps(x),C=x.getBoundingClientRect(),T=ir(x),N=C.left+(x.clientLeft+parseFloat(T.paddingLeft))*E.x,I=C.top+(x.clientTop+parseFloat(T.paddingTop))*E.y;h*=E.x,m*=E.y,v*=E.x,y*=E.y,h+=N,m+=I,k=zt(x),x=zu(k)}}return Ia({width:v,height:y,x:h,y:m})}function Td(r,e){const n=Ya(r).scrollLeft;return e?e.left+n:Mn(wr(r)).left+n}function ay(r,e,n){n===void 0&&(n=!1);const o=r.getBoundingClientRect(),a=o.left+e.scrollLeft-(n?0:Td(r,o)),l=o.top+e.scrollTop;return{x:a,y:l}}function KR(r){let{elements:e,rect:n,offsetParent:o,strategy:a}=r;const l=a==="fixed",u=wr(o),d=e?Ja(e.floating):!1;if(o===u||d&&l)return n;let h={scrollLeft:0,scrollTop:0},m=gr(1);const v=gr(0),y=vr(o);if((y||!y&&!l)&&((Us(o)!=="body"||Xo(u))&&(h=Ya(o)),vr(o))){const S=Mn(o);m=Ps(o),v.x=S.x+o.clientLeft,v.y=S.y+o.clientTop}const b=u&&!y&&!l?ay(u,h,!0):gr(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+v.x+b.x,y:n.y*m.y-h.scrollTop*m.y+v.y+b.y}}function GR(r){return Array.from(r.getClientRects())}function JR(r){const e=wr(r),n=Ya(r),o=r.ownerDocument.body,a=Ut(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=Ut(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let u=-n.scrollLeft+Td(r);const d=-n.scrollTop;return ir(o).direction==="rtl"&&(u+=Ut(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:u,y:d}}function YR(r,e){const n=zt(r),o=wr(r),a=n.visualViewport;let l=o.clientWidth,u=o.clientHeight,d=0,h=0;if(a){l=a.width,u=a.height;const m=Cd();(!m||m&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:l,height:u,x:d,y:h}}const QR=new Set(["absolute","fixed"]);function XR(r,e){const n=Mn(r,!0,e==="fixed"),o=n.top+r.clientTop,a=n.left+r.clientLeft,l=vr(r)?Ps(r):gr(1),u=r.clientWidth*l.x,d=r.clientHeight*l.y,h=a*l.x,m=o*l.y;return{width:u,height:d,x:h,y:m}}function Om(r,e,n){let o;if(e==="viewport")o=YR(r,n);else if(e==="document")o=JR(wr(r));else if(or(e))o=XR(e,n);else{const a=iy(r);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ia(o)}function ly(r,e){const n=fn(r);return n===e||!or(n)||Os(n)?!1:ir(n).position==="fixed"||ly(n,e)}function ZR(r,e){const n=e.get(r);if(n)return n;let o=Ho(r,[],!1).filter(d=>or(d)&&Us(d)!=="body"),a=null;const l=ir(r).position==="fixed";let u=l?fn(r):r;for(;or(u)&&!Os(u);){const d=ir(u),h=kd(u);!h&&d.position==="fixed"&&(a=null),(l?!h&&!a:!h&&d.position==="static"&&!!a&&QR.has(a.position)||Xo(u)&&!h&&ly(r,u))?o=o.filter(v=>v!==u):a=d,u=fn(u)}return e.set(r,o),o}function e1(r){let{element:e,boundary:n,rootBoundary:o,strategy:a}=r;const u=[...n==="clippingAncestors"?Ja(e)?[]:ZR(e,this._c):[].concat(n),o],d=u[0],h=u.reduce((m,v)=>{const y=Om(e,v,a);return m.top=Ut(y.top,m.top),m.right=dn(y.right,m.right),m.bottom=dn(y.bottom,m.bottom),m.left=Ut(y.left,m.left),m},Om(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function t1(r){const{width:e,height:n}=oy(r);return{width:e,height:n}}function r1(r,e,n){const o=vr(e),a=wr(e),l=n==="fixed",u=Mn(r,!0,l,e);let d={scrollLeft:0,scrollTop:0};const h=gr(0);function m(){h.x=Td(a)}if(o||!o&&!l)if((Us(e)!=="body"||Xo(a))&&(d=Ya(e)),o){const S=Mn(e,!0,l,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();l&&!o&&a&&m();const v=a&&!o&&!l?ay(a,d):gr(0),y=u.left+d.scrollLeft-h.x-v.x,b=u.top+d.scrollTop-h.y-v.y;return{x:y,y:b,width:u.width,height:u.height}}function gu(r){return ir(r).position==="static"}function Im(r,e){if(!vr(r)||ir(r).position==="fixed")return null;if(e)return e(r);let n=r.offsetParent;return wr(r)===n&&(n=n.ownerDocument.body),n}function cy(r,e){const n=zt(r);if(Ja(r))return n;if(!vr(r)){let a=fn(r);for(;a&&!Os(a);){if(or(a)&&!gu(a))return a;a=fn(a)}return n}let o=Im(r,e);for(;o&&MR(o)&&gu(o);)o=Im(o,e);return o&&Os(o)&&gu(o)&&!kd(o)?n:o||BR(r)||n}const n1=async function(r){const e=this.getOffsetParent||cy,n=this.getDimensions,o=await n(r.floating);return{reference:r1(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function s1(r){return ir(r).direction==="rtl"}const o1={convertOffsetParentRelativeRectToViewportRelativeRect:KR,getDocumentElement:wr,getClippingRect:e1,getOffsetParent:cy,getElementRects:n1,getClientRects:GR,getDimensions:t1,getScale:Ps,isElement:or,isRTL:s1};function uy(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function i1(r,e){let n=null,o;const a=wr(r);function l(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),l();const m=r.getBoundingClientRect(),{left:v,top:y,width:b,height:S}=m;if(d||e(),!b||!S)return;const k=wa(y),x=wa(a.clientWidth-(v+b)),E=wa(a.clientHeight-(y+S)),C=wa(v),N={rootMargin:-k+"px "+-x+"px "+-E+"px "+-C+"px",threshold:Ut(0,dn(1,h))||1};let I=!0;function z(M){const j=M[0].intersectionRatio;if(j!==h){if(!I)return u();j?u(!1,j):o=setTimeout(()=>{u(!1,1e-7)},1e3)}j===1&&!uy(m,r.getBoundingClientRect())&&u(),I=!1}try{n=new IntersectionObserver(z,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(z,N)}n.observe(r)}return u(!0),l}function a1(r,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,m=Rd(r),v=a||l?[...m?Ho(m):[],...Ho(e)]:[];v.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),l&&C.addEventListener("resize",n)});const y=m&&d?i1(m,n):null;let b=-1,S=null;u&&(S=new ResizeObserver(C=>{let[T]=C;T&&T.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(e)})),n()}),m&&!h&&S.observe(m),S.observe(e));let k,x=h?Mn(r):null;h&&E();function E(){const C=Mn(r);x&&!uy(x,C)&&n(),x=C,k=requestAnimationFrame(E)}return n(),()=>{var C;v.forEach(T=>{a&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),y?.(),(C=S)==null||C.disconnect(),S=null,h&&cancelAnimationFrame(k)}}const l1=AR,c1=OR,u1=NR,d1=DR,f1=PR,Dm=TR,h1=IR,p1=(r,e,n)=>{const o=new Map,a={platform:o1,...n},l={...a.platform,_c:o};return RR(r,e,{...a,platform:l})};var m1=typeof document<"u",g1=function(){},ka=m1?w.useLayoutEffect:g1;function Da(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let n,o,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Da(r[o],e[o]))return!1;return!0}if(a=Object.keys(r),n=a.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&r.$$typeof)&&!Da(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function dy(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function $m(r,e){const n=dy(r);return Math.round(e*n)/n}function vu(r){const e=w.useRef(r);return ka(()=>{e.current=r}),e}function v1(r){r===void 0&&(r={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=r,[v,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(o);Da(b,o)||S(o);const[k,x]=w.useState(null),[E,C]=w.useState(null),T=w.useCallback($=>{$!==M.current&&(M.current=$,x($))},[]),N=w.useCallback($=>{$!==j.current&&(j.current=$,C($))},[]),I=l||k,z=u||E,M=w.useRef(null),j=w.useRef(null),q=w.useRef(v),K=h!=null,D=vu(h),V=vu(a),G=vu(m),W=w.useCallback(()=>{if(!M.current||!j.current)return;const $={placement:e,strategy:n,middleware:b};V.current&&($.platform=V.current),p1(M.current,j.current,$).then(U=>{const Q={...U,isPositioned:G.current!==!1};Z.current&&!Da(q.current,Q)&&(q.current=Q,qo.flushSync(()=>{y(Q)}))})},[b,e,n,V,G]);ka(()=>{m===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[m]);const Z=w.useRef(!1);ka(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ka(()=>{if(I&&(M.current=I),z&&(j.current=z),I&&z){if(D.current)return D.current(I,z,W);W()}},[I,z,W,D,K]);const se=w.useMemo(()=>({reference:M,floating:j,setReference:T,setFloating:N}),[T,N]),H=w.useMemo(()=>({reference:I,floating:z}),[I,z]),Y=w.useMemo(()=>{const $={position:n,left:0,top:0};if(!H.floating)return $;const U=$m(H.floating,v.x),Q=$m(H.floating,v.y);return d?{...$,transform:"translate("+U+"px, "+Q+"px)",...dy(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Q}},[n,d,H.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:W,refs:se,elements:H,floatingStyles:Y}),[v,W,se,H,Y])}const y1=r=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:o,padding:a}=typeof r=="function"?r(n):r;return o&&e(o)?o.current!=null?Dm({element:o.current,padding:a}).fn(n):{}:o?Dm({element:o,padding:a}).fn(n):{}}}},w1=(r,e)=>({...l1(r),options:[r,e]}),x1=(r,e)=>({...c1(r),options:[r,e]}),_1=(r,e)=>({...h1(r),options:[r,e]}),b1=(r,e)=>({...u1(r),options:[r,e]}),S1=(r,e)=>({...d1(r),options:[r,e]}),E1=(r,e)=>({...f1(r),options:[r,e]}),k1=(r,e)=>({...y1(r),options:[r,e]});var C1="Arrow",fy=w.forwardRef((r,e)=>{const{children:n,width:o=10,height:a=5,...l}=r;return p.jsx(Ne.svg,{...l,ref:e,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});fy.displayName=C1;var R1=fy,Nd="Popper",[hy,py]=Or(Nd),[T1,my]=hy(Nd),gy=r=>{const{__scopePopper:e,children:n}=r,[o,a]=w.useState(null);return p.jsx(T1,{scope:e,anchor:o,onAnchorChange:a,children:n})};gy.displayName=Nd;var vy="PopperAnchor",yy=w.forwardRef((r,e)=>{const{__scopePopper:n,virtualRef:o,...a}=r,l=my(vy,n),u=w.useRef(null),d=Me(e,u);return w.useEffect(()=>{l.onAnchorChange(o?.current||u.current)}),o?null:p.jsx(Ne.div,{...a,ref:d})});yy.displayName=vy;var Pd="PopperContent",[N1,P1]=hy(Pd),wy=w.forwardRef((r,e)=>{const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:k,...x}=r,E=my(Pd,n),[C,T]=w.useState(null),N=Me(e,oe=>T(oe)),[I,z]=w.useState(null),M=vg(I),j=M?.width??0,q=M?.height??0,K=o+(l!=="center"?"-"+l:""),D=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(m)?m:[m],G=V.length>0,W={padding:D,boundary:V.filter(A1),altBoundary:G},{refs:Z,floatingStyles:se,placement:H,isPositioned:Y,middlewareData:$}=v1({strategy:"fixed",placement:K,whileElementsMounted:(...oe)=>a1(...oe,{animationFrame:S==="always"}),elements:{reference:E.anchor},middleware:[w1({mainAxis:a+q,alignmentAxis:u}),h&&x1({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?_1():void 0,...W}),h&&b1({...W}),S1({...W,apply:({elements:oe,rects:fe,availableWidth:Se,availableHeight:Ee})=>{const{width:Oe,height:ze}=fe.reference,st=oe.floating.style;st.setProperty("--radix-popper-available-width",`${Se}px`),st.setProperty("--radix-popper-available-height",`${Ee}px`),st.setProperty("--radix-popper-anchor-width",`${Oe}px`),st.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),I&&k1({element:I,padding:d}),O1({arrowWidth:j,arrowHeight:q}),b&&E1({strategy:"referenceHidden",...W})]}),[U,Q]=by(H),A=un(k);_t(()=>{Y&&A?.()},[Y,A]);const J=$.arrow?.x,he=$.arrow?.y,we=$.arrow?.centerOffset!==0,[be,ve]=w.useState();return _t(()=>{C&&ve(window.getComputedStyle(C).zIndex)},[C]),p.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:Y?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:p.jsx(N1,{scope:n,placedSide:U,onArrowChange:z,arrowX:J,arrowY:he,shouldHideArrow:we,children:p.jsx(Ne.div,{"data-side":U,"data-align":Q,...x,ref:N,style:{...x.style,animation:Y?void 0:"none"}})})})});wy.displayName=Pd;var xy="PopperArrow",j1={top:"bottom",right:"left",bottom:"top",left:"right"},_y=w.forwardRef(function(e,n){const{__scopePopper:o,...a}=e,l=P1(xy,o),u=j1[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(R1,{...a,ref:n,style:{...a.style,display:"block"}})})});_y.displayName=xy;function A1(r){return r!==null}var O1=r=>({name:"transformOrigin",options:r,fn(e){const{placement:n,rects:o,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,d=u?0:r.arrowWidth,h=u?0:r.arrowHeight,[m,v]=by(n),y={start:"0%",center:"50%",end:"100%"}[v],b=(a.arrow?.x??0)+d/2,S=(a.arrow?.y??0)+h/2;let k="",x="";return m==="bottom"?(k=u?y:`${b}px`,x=`${-h}px`):m==="top"?(k=u?y:`${b}px`,x=`${o.floating.height+h}px`):m==="right"?(k=`${-h}px`,x=u?y:`${S}px`):m==="left"&&(k=`${o.floating.width+h}px`,x=u?y:`${S}px`),{data:{x:k,y:x}}}});function by(r){const[e,n="center"]=r.split("-");return[e,n]}var I1=gy,D1=yy,$1=wy,L1=_y,Sy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M1="VisuallyHidden",F1=w.forwardRef((r,e)=>p.jsx(Ne.span,{...r,ref:e,style:{...Sy,...r.style}}));F1.displayName=M1;var U1=[" ","Enter","ArrowUp","ArrowDown"],z1=[" ","Enter"],Fn="Select",[Qa,Xa,V1]=ug(Fn),[zs]=Or(Fn,[V1,py]),Za=py(),[B1,hn]=zs(Fn),[W1,H1]=zs(Fn),Ey=r=>{const{__scopeSelect:e,children:n,open:o,defaultOpen:a,onOpenChange:l,value:u,defaultValue:d,onValueChange:h,dir:m,name:v,autoComplete:y,disabled:b,required:S,form:k}=r,x=Za(e),[E,C]=w.useState(null),[T,N]=w.useState(null),[I,z]=w.useState(!1),M=ed(m),[j,q]=As({prop:o,defaultProp:a??!1,onChange:l,caller:Fn}),[K,D]=As({prop:u,defaultProp:d,onChange:h,caller:Fn}),V=w.useRef(null),G=E?k||!!E.closest("form"):!0,[W,Z]=w.useState(new Set),se=Array.from(W).map(H=>H.props.value).join(";");return p.jsx(I1,{...x,children:p.jsxs(B1,{required:S,scope:e,trigger:E,onTriggerChange:C,valueNode:T,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:z,contentId:cn(),value:K,onValueChange:D,open:j,onOpenChange:q,dir:M,triggerPointerDownPosRef:V,disabled:b,children:[p.jsx(Qa.Provider,{scope:e,children:p.jsx(W1,{scope:r.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{Z(Y=>new Set(Y).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{Z(Y=>{const $=new Set(Y);return $.delete(H),$})},[]),children:n})}),G?p.jsxs(Gy,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:y,value:K,onChange:H=>D(H.target.value),disabled:b,form:k,children:[K===void 0?p.jsx("option",{value:""}):null,Array.from(W)]},se):null]})})};Ey.displayName=Fn;var ky="SelectTrigger",Cy=w.forwardRef((r,e)=>{const{__scopeSelect:n,disabled:o=!1,...a}=r,l=Za(n),u=hn(ky,n),d=u.disabled||o,h=Me(e,u.onTriggerChange),m=Xa(n),v=w.useRef("touch"),[y,b,S]=Yy(x=>{const E=m().filter(N=>!N.disabled),C=E.find(N=>N.value===u.value),T=Qy(E,x,C);T!==void 0&&u.onValueChange(T.value)}),k=x=>{d||(u.onOpenChange(!0),S()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return p.jsx(D1,{asChild:!0,...l,children:p.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Jy(u.value)?"":void 0,...a,ref:h,onClick:Te(a.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&k(x)}),onPointerDown:Te(a.onPointerDown,x=>{v.current=x.pointerType;const E=x.target;E.hasPointerCapture(x.pointerId)&&E.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(k(x),x.preventDefault())}),onKeyDown:Te(a.onKeyDown,x=>{const E=y.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&b(x.key),!(E&&x.key===" ")&&U1.includes(x.key)&&(k(),x.preventDefault())})})})});Cy.displayName=ky;var Ry="SelectValue",Ty=w.forwardRef((r,e)=>{const{__scopeSelect:n,className:o,style:a,children:l,placeholder:u="",...d}=r,h=hn(Ry,n),{onValueNodeHasChildrenChange:m}=h,v=l!==void 0,y=Me(e,h.onValueNodeChange);return _t(()=>{m(v)},[m,v]),p.jsx(Ne.span,{...d,ref:y,style:{pointerEvents:"none"},children:Jy(h.value)?p.jsx(p.Fragment,{children:u}):l})});Ty.displayName=Ry;var q1="SelectIcon",Ny=w.forwardRef((r,e)=>{const{__scopeSelect:n,children:o,...a}=r;return p.jsx(Ne.span,{"aria-hidden":!0,...a,ref:e,children:o||""})});Ny.displayName=q1;var K1="SelectPortal",Py=r=>p.jsx(ud,{asChild:!0,...r});Py.displayName=K1;var Un="SelectContent",jy=w.forwardRef((r,e)=>{const n=hn(Un,r.__scopeSelect),[o,a]=w.useState();if(_t(()=>{a(new DocumentFragment)},[]),!n.open){const l=o;return l?qo.createPortal(p.jsx(Ay,{scope:r.__scopeSelect,children:p.jsx(Qa.Slot,{scope:r.__scopeSelect,children:p.jsx("div",{children:r.children})})}),l):null}return p.jsx(Oy,{...r,ref:e})});jy.displayName=Un;var nr=10,[Ay,pn]=zs(Un),G1="SelectContentImpl",J1=js("SelectContent.RemoveScroll"),Oy=w.forwardRef((r,e)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:S,sticky:k,hideWhenDetached:x,avoidCollisions:E,...C}=r,T=hn(Un,n),[N,I]=w.useState(null),[z,M]=w.useState(null),j=Me(e,oe=>I(oe)),[q,K]=w.useState(null),[D,V]=w.useState(null),G=Xa(n),[W,Z]=w.useState(!1),se=w.useRef(!1);w.useEffect(()=>{if(N)return hv(N)},[N]),ov();const H=w.useCallback(oe=>{const[fe,...Se]=G().map(ze=>ze.ref.current),[Ee]=Se.slice(-1),Oe=document.activeElement;for(const ze of oe)if(ze===Oe||(ze?.scrollIntoView({block:"nearest"}),ze===fe&&z&&(z.scrollTop=0),ze===Ee&&z&&(z.scrollTop=z.scrollHeight),ze?.focus(),document.activeElement!==Oe))return},[G,z]),Y=w.useCallback(()=>H([q,N]),[H,q,N]);w.useEffect(()=>{W&&Y()},[W,Y]);const{onOpenChange:$,triggerPointerDownPosRef:U}=T;w.useEffect(()=>{if(N){let oe={x:0,y:0};const fe=Ee=>{oe={x:Math.abs(Math.round(Ee.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(U.current?.y??0))}},Se=Ee=>{oe.x<=10&&oe.y<=10?Ee.preventDefault():N.contains(Ee.target)||$(!1),document.removeEventListener("pointermove",fe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[N,$,U]),w.useEffect(()=>{const oe=()=>$(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[$]);const[Q,A]=Yy(oe=>{const fe=G().filter(Oe=>!Oe.disabled),Se=fe.find(Oe=>Oe.ref.current===document.activeElement),Ee=Qy(fe,oe,Se);Ee&&setTimeout(()=>Ee.ref.current.focus())}),J=w.useCallback((oe,fe,Se)=>{const Ee=!se.current&&!Se;(T.value!==void 0&&T.value===fe||Ee)&&(K(oe),Ee&&(se.current=!0))},[T.value]),he=w.useCallback(()=>N?.focus(),[N]),we=w.useCallback((oe,fe,Se)=>{const Ee=!se.current&&!Se;(T.value!==void 0&&T.value===fe||Ee)&&V(oe)},[T.value]),be=o==="popper"?Vu:Iy,ve=be===Vu?{side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:S,sticky:k,hideWhenDetached:x,avoidCollisions:E}:{};return p.jsx(Ay,{scope:n,content:N,viewport:z,onViewportChange:M,itemRefCallback:J,selectedItem:q,onItemLeave:he,itemTextRefCallback:we,focusSelectedItem:Y,selectedItemText:D,position:o,isPositioned:W,searchRef:Q,children:p.jsx(dd,{as:J1,allowPinchZoom:!0,children:p.jsx(cd,{asChild:!0,trapped:T.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Te(a,oe=>{T.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:p.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:p.jsx(be,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:oe=>oe.preventDefault(),...C,...ve,onPlaced:()=>Z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Te(C.onKeyDown,oe=>{const fe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!fe&&oe.key.length===1&&A(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ee=G().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Oe=oe.target,ze=Ee.indexOf(Oe);Ee=Ee.slice(ze+1)}setTimeout(()=>H(Ee)),oe.preventDefault()}})})})})})})});Oy.displayName=G1;var Y1="SelectItemAlignedPosition",Iy=w.forwardRef((r,e)=>{const{__scopeSelect:n,onPlaced:o,...a}=r,l=hn(Un,n),u=pn(Un,n),[d,h]=w.useState(null),[m,v]=w.useState(null),y=Me(e,j=>v(j)),b=Xa(n),S=w.useRef(!1),k=w.useRef(!0),{viewport:x,selectedItem:E,selectedItemText:C,focusSelectedItem:T}=u,N=w.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&m&&x&&E&&C){const j=l.trigger.getBoundingClientRect(),q=m.getBoundingClientRect(),K=l.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(l.dir!=="rtl"){const Oe=D.left-q.left,ze=K.left-Oe,st=j.left-ze,re=j.width+st,_e=Math.max(re,q.width),ke=window.innerWidth-nr,Ie=Cm(ze,[nr,Math.max(nr,ke-_e)]);d.style.minWidth=re+"px",d.style.left=Ie+"px"}else{const Oe=q.right-D.right,ze=window.innerWidth-K.right-Oe,st=window.innerWidth-j.right-ze,re=j.width+st,_e=Math.max(re,q.width),ke=window.innerWidth-nr,Ie=Cm(ze,[nr,Math.max(nr,ke-_e)]);d.style.minWidth=re+"px",d.style.right=Ie+"px"}const V=b(),G=window.innerHeight-nr*2,W=x.scrollHeight,Z=window.getComputedStyle(m),se=parseInt(Z.borderTopWidth,10),H=parseInt(Z.paddingTop,10),Y=parseInt(Z.borderBottomWidth,10),$=parseInt(Z.paddingBottom,10),U=se+H+W+$+Y,Q=Math.min(E.offsetHeight*5,U),A=window.getComputedStyle(x),J=parseInt(A.paddingTop,10),he=parseInt(A.paddingBottom,10),we=j.top+j.height/2-nr,be=G-we,ve=E.offsetHeight/2,oe=E.offsetTop+ve,fe=se+H+oe,Se=U-fe;if(fe<=we){const Oe=V.length>0&&E===V[V.length-1].ref.current;d.style.bottom="0px";const ze=m.clientHeight-x.offsetTop-x.offsetHeight,st=Math.max(be,ve+(Oe?he:0)+ze+Y),re=fe+st;d.style.height=re+"px"}else{const Oe=V.length>0&&E===V[0].ref.current;d.style.top="0px";const st=Math.max(we,se+x.offsetTop+(Oe?J:0)+ve)+Se;d.style.height=st+"px",x.scrollTop=fe-we+x.offsetTop}d.style.margin=`${nr}px 0`,d.style.minHeight=Q+"px",d.style.maxHeight=G+"px",o?.(),requestAnimationFrame(()=>S.current=!0)}},[b,l.trigger,l.valueNode,d,m,x,E,C,l.dir,o]);_t(()=>N(),[N]);const[I,z]=w.useState();_t(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const M=w.useCallback(j=>{j&&k.current===!0&&(N(),T?.(),k.current=!1)},[N,T]);return p.jsx(X1,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:M,children:p.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:p.jsx(Ne.div,{...a,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Iy.displayName=Y1;var Q1="SelectPopperPosition",Vu=w.forwardRef((r,e)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=nr,...l}=r,u=Za(n);return p.jsx($1,{...u,...l,ref:e,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vu.displayName=Q1;var[X1,jd]=zs(Un,{}),Bu="SelectViewport",Dy=w.forwardRef((r,e)=>{const{__scopeSelect:n,nonce:o,...a}=r,l=pn(Bu,n),u=jd(Bu,n),d=Me(e,l.onViewportChange),h=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(Qa.Slot,{scope:n,children:p.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Te(a.onScroll,m=>{const v=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b?.current&&y){const S=Math.abs(h.current-v.scrollTop);if(S>0){const k=window.innerHeight-nr*2,x=parseFloat(y.style.minHeight),E=parseFloat(y.style.height),C=Math.max(x,E);if(C<k){const T=C+S,N=Math.min(k,T),I=T-N;y.style.height=N+"px",y.style.bottom==="0px"&&(v.scrollTop=I>0?I:0,y.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});Dy.displayName=Bu;var $y="SelectGroup",[Z1,eT]=zs($y),tT=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=cn();return p.jsx(Z1,{scope:n,id:a,children:p.jsx(Ne.div,{role:"group","aria-labelledby":a,...o,ref:e})})});tT.displayName=$y;var Ly="SelectLabel",My=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=eT(Ly,n);return p.jsx(Ne.div,{id:a.id,...o,ref:e})});My.displayName=Ly;var $a="SelectItem",[rT,Fy]=zs($a),Uy=w.forwardRef((r,e)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l,...u}=r,d=hn($a,n),h=pn($a,n),m=d.value===o,[v,y]=w.useState(l??""),[b,S]=w.useState(!1),k=Me(e,T=>h.itemRefCallback?.(T,o,a)),x=cn(),E=w.useRef("touch"),C=()=>{a||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(rT,{scope:n,value:o,disabled:a,textId:x,isSelected:m,onItemTextChange:w.useCallback(T=>{y(N=>N||(T?.textContent??"").trim())},[]),children:p.jsx(Qa.ItemSlot,{scope:n,value:o,disabled:a,textValue:v,children:p.jsx(Ne.div,{role:"option","aria-labelledby":x,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:k,onFocus:Te(u.onFocus,()=>S(!0)),onBlur:Te(u.onBlur,()=>S(!1)),onClick:Te(u.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:Te(u.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:Te(u.onPointerDown,T=>{E.current=T.pointerType}),onPointerMove:Te(u.onPointerMove,T=>{E.current=T.pointerType,a?h.onItemLeave?.():E.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(u.onPointerLeave,T=>{T.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Te(u.onKeyDown,T=>{h.searchRef?.current!==""&&T.key===" "||(z1.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});Uy.displayName=$a;var Ao="SelectItemText",zy=w.forwardRef((r,e)=>{const{__scopeSelect:n,className:o,style:a,...l}=r,u=hn(Ao,n),d=pn(Ao,n),h=Fy(Ao,n),m=H1(Ao,n),[v,y]=w.useState(null),b=Me(e,C=>y(C),h.onItemTextChange,C=>d.itemTextRefCallback?.(C,h.value,h.disabled)),S=v?.textContent,k=w.useMemo(()=>p.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:x,onNativeOptionRemove:E}=m;return _t(()=>(x(k),()=>E(k)),[x,E,k]),p.jsxs(p.Fragment,{children:[p.jsx(Ne.span,{id:h.textId,...l,ref:b}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qo.createPortal(l.children,u.valueNode):null]})});zy.displayName=Ao;var Vy="SelectItemIndicator",By=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r;return Fy(Vy,n).isSelected?p.jsx(Ne.span,{"aria-hidden":!0,...o,ref:e}):null});By.displayName=Vy;var Wu="SelectScrollUpButton",Wy=w.forwardRef((r,e)=>{const n=pn(Wu,r.__scopeSelect),o=jd(Wu,r.__scopeSelect),[a,l]=w.useState(!1),u=Me(e,o.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;l(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?p.jsx(qy,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});Wy.displayName=Wu;var Hu="SelectScrollDownButton",Hy=w.forwardRef((r,e)=>{const n=pn(Hu,r.__scopeSelect),o=jd(Hu,r.__scopeSelect),[a,l]=w.useState(!1),u=Me(e,o.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<m;l(v)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?p.jsx(qy,{...r,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});Hy.displayName=Hu;var qy=w.forwardRef((r,e)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=r,l=pn("SelectScrollButton",n),u=w.useRef(null),d=Xa(n),h=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),_t(()=>{d().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),p.jsx(Ne.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Te(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Te(a.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Te(a.onPointerLeave,()=>{h()})})}),nT="SelectSeparator",Ky=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r;return p.jsx(Ne.div,{"aria-hidden":!0,...o,ref:e})});Ky.displayName=nT;var qu="SelectArrow",sT=w.forwardRef((r,e)=>{const{__scopeSelect:n,...o}=r,a=Za(n),l=hn(qu,n),u=pn(qu,n);return l.open&&u.position==="popper"?p.jsx(L1,{...a,...o,ref:e}):null});sT.displayName=qu;var oT="SelectBubbleInput",Gy=w.forwardRef(({__scopeSelect:r,value:e,...n},o)=>{const a=w.useRef(null),l=Me(o,a),u=yg(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&v){const y=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(y)}},[u,e]),p.jsx(Ne.select,{...n,style:{...Sy,...n.style},ref:l,defaultValue:e})});Gy.displayName=oT;function Jy(r){return r===""||r===void 0}function Yy(r){const e=un(r),n=w.useRef(""),o=w.useRef(0),a=w.useCallback(u=>{const d=n.current+u;e(d),(function h(m){n.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),l=w.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,l]}function Qy(r,e,n){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=n?r.indexOf(n):-1;let u=iT(r,Math.max(l,0));a.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function iT(r,e){return r.map((n,o)=>r[(e+o)%r.length])}var aT=Ey,Xy=Cy,lT=Ty,cT=Ny,uT=Py,Zy=jy,dT=Dy,ew=My,tw=Uy,fT=zy,hT=By,rw=Wy,nw=Hy,sw=Ky;const Ad=aT,Od=lT,el=w.forwardRef(({className:r,children:e,...n},o)=>p.jsxs(Xy,{ref:o,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[e,p.jsx(cT,{asChild:!0,children:p.jsx(rd,{className:"h-4 w-4 opacity-50"})})]}));el.displayName=Xy.displayName;const ow=w.forwardRef(({className:r,...e},n)=>p.jsx(rw,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",r),...e,children:p.jsx(zb,{className:"h-4 w-4"})}));ow.displayName=rw.displayName;const iw=w.forwardRef(({className:r,...e},n)=>p.jsx(nw,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",r),...e,children:p.jsx(rd,{className:"h-4 w-4"})}));iw.displayName=nw.displayName;const tl=w.forwardRef(({className:r,children:e,position:n="popper",...o},a)=>p.jsx(uT,{children:p.jsxs(Zy,{ref:a,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[p.jsx(ow,{}),p.jsx(dT,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(iw,{})]})}));tl.displayName=Zy.displayName;const pT=w.forwardRef(({className:r,...e},n)=>p.jsx(ew,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...e}));pT.displayName=ew.displayName;const pr=w.forwardRef(({className:r,children:e,...n},o)=>p.jsxs(tw,{ref:o,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(hT,{children:p.jsx(Ig,{className:"h-4 w-4"})})}),p.jsx(fT,{children:e})]}));pr.displayName=tw.displayName;const mT=w.forwardRef(({className:r,...e},n)=>p.jsx(sw,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",r),...e}));mT.displayName=sw.displayName;const xa=5,gT=1e3,vT=3e4;async function La(r,e="Supabase operation"){let n=null;for(let o=1;o<=xa;o++)try{return console.log(`[${e}] Tentativa ${o}/${xa}`),await r()}catch(a){if(n=a,console.error(`[${e}] Erro na tentativa ${o}:`,a),o<xa){const l=Math.min(gT*Math.pow(2,o-1),vT),u=Math.random()*l*.1,d=l+u;console.log(`[${e}] Aguardando ${Math.round(d)}ms antes da prxima tentativa...`),await new Promise(h=>setTimeout(h,d))}}throw new Error(`[${e}] Falha aps ${xa} tentativas: ${n?.message}`)}const yT=()=>{const[r,e]=w.useState([]),[n,o]=w.useState([]),[a,l]=w.useState("connecting"),u=D=>D.map(V=>({id:V.id,customerName:V.customer_name,purchaseDate:V.purchase_date,paymentDate:V.payment_date,paymentMethod:V.payment_method,installments:V.installments,installmentValues:Array.isArray(V.installment_values)?V.installment_values:[],installmentDates:Array.isArray(V.installment_dates)?V.installment_dates:[],installmentType:V.installment_type,advancePayment:V.advance_payment,discount:0,products:V.products?V.products.map(G=>({id:G.id,productRef:G.product_ref,productName:G.product_name,purchaseValue:G.purchase_value,saleValue:G.sale_value})):[]}));w.useEffect(()=>{(async()=>{try{l("connecting"),console.log("Iniciando carregamento de vendas...");const V=await La(async()=>{const{data:W,error:Z}=await Ye.from("sales").select("*, products (*)").order("created_at",{ascending:!1});if(Z)throw new Error(`Erro ao buscar vendas: ${Z.message}`);return W||[]},"Carregamento de vendas");let G=u(V);console.log("Vendas carregadas com sucesso:",G.length),e(G),l("connected")}catch(V){console.error("Erro ao carregar vendas:",V),l("error"),Ae({title:"Erro ao carregar vendas",description:V instanceof Error?V.message:"Houve um erro ao carregar as vendas do banco de dados.",variant:"destructive"})}})()},[]),w.useEffect(()=>{(async()=>{try{const G=(await La(async()=>{const{data:W,error:Z}=await Ye.from("expenses").select("*").order("created_at",{ascending:!1});if(Z)throw new Error(`Erro ao buscar despesas: ${Z.message}`);return W||[]},"Carregamento de despesas")).map(W=>({id:W.id,descricao:W.descricao,categoria:W.categoria,data:W.data,valorTotal:W.valor_total,formaPagamento:W.forma_pagamento,parcelas:W.parcelas,parcelaAtual:W.parcela_atual,mesReferencia:W.mes_referencia,observacao:W.observacao}));console.log("Despesas carregadas com sucesso:",G.length),o(G)}catch(V){console.error("Erro ao carregar despesas:",V)}})()},[]),w.useEffect(()=>{let D=null,V=null,G=!0;const W=async()=>{if(G)try{D=Ye.channel("realtime-sales").on("postgres_changes",{event:"*",schema:"public",table:"sales"},async Z=>{try{const se=Z.new?.id||Z.old?.id;if(!se)return;const{data:H,error:Y}=await Ye.from("sales").select("*, products (*)").eq("id",se).single();if(Y){console.error("Realtime fetch error:",Y),l("error");return}const $={id:H.id,customerName:H.customer_name,purchaseDate:H.purchase_date,paymentDate:H.payment_date,paymentMethod:H.payment_method,installments:H.installments,installmentValues:Array.isArray(H.installment_values)?H.installment_values:[],installmentDates:Array.isArray(H.installment_dates)?H.installment_dates:[],installmentType:H.installment_type,advancePayment:H.advance_payment,discount:0,products:H.products?H.products.map(U=>({id:U.id,productRef:U.product_ref,productName:U.product_name,purchaseValue:U.purchase_value,saleValue:U.sale_value})):[]};e(U=>U.find(A=>A.id===$.id)?U.map(A=>A.id===$.id?$:A):[$,...U]),l("connected"),Ae({title:"Dados sincronizados",description:"Atualizao em tempo real aplicada."})}catch(se){console.error("Erro no realtime sales:",se),l("error")}}).on("postgres_changes",{event:"*",schema:"public",table:"products"},async Z=>{try{const se=Z.new?.sale_id||Z.old?.sale_id;if(!se)return;const{data:H,error:Y}=await Ye.from("sales").select("*, products (*)").eq("id",se).single();if(Y){console.error("Realtime fetch error (products):",Y),l("error");return}const $={id:H.id,customerName:H.customer_name,purchaseDate:H.purchase_date,paymentDate:H.payment_date,paymentMethod:H.payment_method,installments:H.installments,installmentValues:Array.isArray(H.installment_values)?H.installment_values:[],installmentDates:Array.isArray(H.installment_dates)?H.installment_dates:[],installmentType:H.installment_type,advancePayment:H.advance_payment,discount:0,products:H.products?H.products.map(U=>({id:U.id,productRef:U.product_ref,productName:U.product_name,purchaseValue:U.purchase_value,saleValue:U.sale_value})):[]};e(U=>U.map(Q=>Q.id===$.id?$:Q)),l("connected"),Ae({title:"Produtos sincronizados",description:"Atualizao em tempo real aplicada."})}catch(se){console.error("Erro no realtime products:",se),l("error")}}).on("postgres_changes",{event:"*",schema:"public",table:"produtos"},async Z=>{try{const se=Z.new?.id_da_venda||Z.old?.id_da_venda;if(!se)return;const{data:H,error:Y}=await Ye.from("sales").select("*, products (*)").eq("id",se).single();if(Y){console.error("Realtime fetch error (produtos):",Y),l("error");return}const $={id:H.id,customerName:H.customer_name,purchaseDate:H.purchase_date,paymentDate:H.payment_date,paymentMethod:H.payment_method,installments:H.installments,installmentValues:Array.isArray(H.installment_values)?H.installment_values:[],installmentDates:Array.isArray(H.installment_dates)?H.installment_dates:[],installmentType:H.installment_type,advancePayment:H.advance_payment,discount:0,products:H.products?H.products.map(U=>({id:U.id,productRef:U.product_ref,productName:U.product_name,purchaseValue:U.purchase_value,saleValue:U.sale_value})):[]};e(U=>U.map(Q=>Q.id===$.id?$:Q)),l("connected"),Ae({title:"Produtos sincronizados",description:"Atualizao em tempo real aplicada (produtos)."})}catch(se){console.error("Erro no realtime produtos:",se),l("error")}}).subscribe(Z=>{console.log("[Realtime] Status:",Z),Z==="SUBSCRIBED"?l("connected"):(Z==="CHANNEL_ERROR"||Z==="TIMED_OUT")&&(l("error"),V&&clearInterval(V),V=setInterval(()=>{console.log("[Realtime] Tentando reconectar..."),W()},5e3))})}catch(Z){console.error("[Realtime] Erro ao setup:",Z),l("error")}};return W(),()=>{G=!1,V&&clearInterval(V),D&&Ye.removeChannel(D)}},[]);const[d,h]=w.useState("total"),[m,v]=w.useState(null),[y,b]=w.useState(""),S=async D=>{console.log(" handleSaleAdded CHAMADO com dados:",D),console.log(" Estado atual de sales:",r.length,"vendas");const V=`tmp-${Date.now()}`,G={...D,id:V};console.log(" Adicionando venda temporria no estado:",G),e(W=>[G,...W]),v(null);try{console.log(" Tentando inserir venda no Supabase...");const{data:W,error:Z}=await Ye.from("sales").insert({customer_name:D.customerName,purchase_date:D.purchaseDate,payment_date:D.paymentDate,payment_method:D.paymentMethod,installments:D.installments,installment_values:D.installmentValues,installment_dates:D.installmentDates,installment_type:D.installmentType,advance_payment:D.advancePayment}).select().single();if(Z)throw console.error(" Erro ao inserir venda:",Z),e(Y=>Y.filter($=>$.id!==V)),Z;const se=W.id;console.log(" Sale inserted with ID:",se);const H={...D,id:se};if(console.log(" Substituindo venda temporria pela persistida:",H),e(Y=>Y.map($=>$.id===V?H:$)),D.products&&D.products.length>0){const Y=D.products.map(U=>({sale_id:se,product_ref:U.productRef,product_name:U.productName,purchase_value:U.purchaseValue,sale_value:U.saleValue}));console.log(" Inserting products:",Y);const{error:$}=await Ye.from("products").insert(Y);if($)console.error(" Error inserting products:",$),Ae({title:"Produtos no salvos",description:"A venda foi criada, mas houve erro ao salvar os produtos.",variant:"destructive"});else{console.log(" Products inserted successfully");try{const{data:U,error:Q}=await Ye.from("sales").select("*, products (*)").eq("id",se).single();if(Q)console.error(" Error fetching sale with products after insert:",Q);else if(U){const A={id:U.id,customerName:U.customer_name,purchaseDate:U.purchase_date,paymentDate:U.payment_date,paymentMethod:U.payment_method,installments:U.installments,installmentValues:Array.isArray(U.installment_values)?U.installment_values:[],installmentDates:Array.isArray(U.installment_dates)?U.installment_dates:[],installmentType:U.installment_type,advancePayment:U.advance_payment,discount:0,products:U.products?U.products.map(J=>({id:J.id,productRef:J.product_ref,productName:J.product_name,purchaseValue:J.purchase_value,saleValue:J.sale_value})):[]};e(J=>J.map(he=>he.id===se?A:he))}}catch(U){console.error("Erro ao buscar venda com produtos aps insero:",U)}}}console.log(" Processo completo, mostrando toast de sucesso"),Ae({title:"Venda salva!",description:"A venda foi salva com sucesso no banco de dados."})}catch(W){console.error(" Erro geral em handleSaleAdded:",W),Ae({title:"Erro ao salvar venda",description:"Houve um erro ao salvar a venda.",variant:"destructive"})}},k=async D=>{try{console.log(" Atualizando venda (payload recebido):",D);const V=r.find(Y=>Y.id===D.id);if(!V)throw console.error(" Venda no encontrada localmente:",D.id),new Error("Venda no encontrada localmente");if(D.installmentDates!==void 0&&D.customerName===void 0&&D.purchaseDate===void 0&&D.paymentDate===void 0&&D.paymentMethod===void 0&&D.installments===void 0&&D.installmentValues===void 0&&D.advancePayment===void 0&&D.discount===void 0&&D.products===void 0){console.log(" Atualizao apenas de installment_dates");const{data:Y,error:$}=await Ye.from("sales").update({installment_dates:D.installmentDates??null}).eq("id",D.id).select().single();if($)throw console.error(" Erro ao atualizar installment_dates:",$),$;console.log(" Linha de venda atualizada (retorno):",Y),e(U=>U.map(Q=>Q.id===D.id?{...Q,installmentDates:D.installmentDates}:Q)),Ae({title:"Parcelas atualizadas",description:"Datas de parcelas atualizadas com sucesso."});return}const W={...V,...D};console.log(" Dados mesclados para update:",W);let{data:Z,error:se}=await Ye.from("sales").update({customer_name:W.customerName,purchase_date:W.purchaseDate,payment_date:W.paymentDate,payment_method:W.paymentMethod,installments:W.installments??null,installment_values:W.installmentValues??null,installment_dates:W.installmentDates??null,installment_type:W.installmentType??null,advance_payment:W.advancePayment??null,discount:W.discount??null}).eq("id",W.id).select().single();if(se){const Y=String(se?.message??""),$=String(se?.hint??""),U=String(se?.details??""),Q=`${Y} ${$} ${U}`.toLowerCase();if(Q.includes("discount")&&(Q.includes("column")||Q.includes("schema"))){console.warn(" Coluna discount ausente no banco. Tentando update sem discount...");const{data:A,error:J}=await Ye.from("sales").update({customer_name:W.customerName,purchase_date:W.purchaseDate,payment_date:W.paymentDate,payment_method:W.paymentMethod,installments:W.installments??null,installment_values:W.installmentValues??null,installment_dates:W.installmentDates??null,installment_type:W.installmentType??null,advance_payment:W.advancePayment??null}).eq("id",W.id).select().single();if(J)throw console.error(" Erro ao atualizar venda (fallback sem discount) tambm falhou:",J),J;Z=A,se=null,delete W.discount}else throw console.error(" Erro ao atualizar venda:",se),se}console.log(" Venda atualizada no banco (retorno):",Z),console.log(" Deletando produtos atuais da venda:",W.id);const{error:H}=await Ye.from("products").delete().eq("sale_id",W.id);if(H){console.error(" Erro ao deletar produtos:",H);const Y=String(H?.message??"").toLowerCase();Y.includes("relation")&&Y.includes("products")&&Y.includes("does not exist")?Ae({title:"Tabela de produtos ausente",description:"Venda atualizada, mas tabela products no existe no banco.",variant:"destructive"}):Ae({title:"Erro ao atualizar produtos",description:"Venda atualizada, mas falhou ao atualizar produtos.",variant:"destructive"})}if(W.products&&W.products.length>0){const Y=W.products.map(U=>({sale_id:W.id,product_ref:U.productRef,product_name:U.productName,purchase_value:U.purchaseValue,sale_value:U.saleValue}));console.log(" Inserindo novos produtos:",Y);const{error:$}=await Ye.from("products").insert(Y);if($){console.error(" Erro ao inserir novos produtos:",$);const U=String($?.message??"").toLowerCase();U.includes("relation")&&U.includes("products")&&U.includes("does not exist")?Ae({title:"Tabela de produtos ausente",description:"Venda atualizada, mas tabela products no existe no banco.",variant:"destructive"}):Ae({title:"Produtos no atualizados",description:"Venda atualizada, mas houve erro ao salvar produtos.",variant:"destructive"})}}e(Y=>Y.map($=>$.id===W.id?W:$)),v(null),console.log(" Atualizao concluda com sucesso para venda:",W.id),Ae({title:"Venda atualizada!",description:"A venda foi atualizada com sucesso."})}catch(V){console.error(" Erro ao atualizar venda no Supabase:",V),Ae({title:"Erro ao atualizar venda",description:"Houve um erro ao atualizar a venda. Verifique o console para mais detalhes.",variant:"destructive"}),v(null)}},x=D=>{v(D),window.scrollTo({top:0,behavior:"smooth"})},E=async D=>{try{const{error:V}=await Ye.from("sales").delete().eq("id",D);if(V)throw console.error("Error deleting sale from Supabase:",V),V;e(G=>G.filter(W=>W.id!==D)),Ae({title:"Venda removida!",description:"A venda foi excluda com sucesso."})}catch(V){console.error("Error deleting sale from Supabase:",V),Ae({title:"Erro ao excluir venda",description:"Houve um erro ao excluir a venda. Verifique o console para mais detalhes.",variant:"destructive"})}},C=D=>d==="total"?D:D.filter(V=>{if(V.paymentMethod==="pix"){const G=new Date(V.paymentDate);return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`===d}else if(V.paymentMethod==="installment"&&V.installmentDates)return V.installmentDates.some(G=>{const W=new Date(G);return`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`===d});return!1});console.log(" DEBUG FILTROS:"),console.log("- sales.length:",r.length),console.log("- selectedMonth:",d),console.log("- searchTerm:",y);const T=C(r);console.log("- aps filterSalesByMonth:",T.length);const N=T.filter(D=>D.customerName.toLowerCase().includes(y.toLowerCase()));console.log("- aps filtro de busca:",N.length),console.log("- filteredSales:",N);const I=Array.from(new Set(r.flatMap(D=>{if(D.paymentMethod==="pix"){const V=new Date(D.paymentDate);return[`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`]}else if(D.installmentDates)return D.installmentDates.map(V=>{const G=new Date(V);return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`});return[]}))).sort(),z=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],M=D=>{const[V,G]=D.split("-");return`${z[parseInt(G)-1]} ${V}`},j=N.reduce((D,V)=>{if(d==="total"){const G=V.products.reduce((W,Z)=>W+(Z.saleValue-Z.purchaseValue),0);return D+G}if(V.paymentMethod==="pix"){const G=new Date(V.paymentDate);if(`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`===d){const Z=V.products.reduce((se,H)=>se+(H.saleValue-H.purchaseValue),0);return D+Z}return D}if(V.paymentMethod==="installment"&&V.installmentValues&&V.installmentDates){const G=V.products.reduce((Y,$)=>Y+$.saleValue,0),W=V.products.reduce((Y,$)=>Y+$.purchaseValue,0),Z=V.installmentValues.reduce((Y,$,U)=>{const Q=V.installmentDates?.[U];if(!Q)return Y;const A=new Date(Q);if(`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}`!==d)return Y;if(G>0){const he=$*(W/G);Y+=$-he}else Y+=0;return Y},0),H=V.installmentValues.reduce((Y,$)=>Y+$,0)>0?(V.discount||0)*(Z/(G-W)):0;return D+Z-H}return D},0),q=N.reduce((D,V)=>{if(d==="total"){const G=V.products.reduce((W,Z)=>W+Z.saleValue,0)-(V.discount||0);return D+G}if(V.paymentMethod==="pix"){const G=new Date(V.paymentDate);if(`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`===d){const Z=V.products.reduce((se,H)=>se+H.saleValue,0)-(V.discount||0);return D+Z}return D}if(V.paymentMethod==="installment"&&V.installmentValues&&V.installmentDates){const G=V.installmentValues.reduce((W,Z,se)=>{const H=V.installmentDates?.[se];if(!H)return W;const Y=new Date(H);return`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}`===d?W+Z:W},0);return D+G}return D},0),K=n.reduce((D,V)=>{if(d==="total")return D+V.valorTotal;const G=new Date(V.data).toLocaleString("pt-BR",{month:"long"}).replace(/^./,Z=>Z.toUpperCase())+" "+new Date(V.data).getFullYear(),W=M(d);return G===W?D+V.valorTotal:D},0);return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-secondary/20",children:[p.jsx("header",{className:"bg-card/70 backdrop-blur-md border-b border-border/40 shadow-[var(--shadow-card)] sticky top-0 z-50 backdrop-saturate-110",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:ey,alt:"Ellas Concept",className:"h-12 md:h-16 w-auto"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Controle de Vendas"}),p.jsx("p",{className:"text-sm text-muted-foreground hidden md:block",children:"Gesto elegante e eficiente"})]})]}),p.jsxs("nav",{className:"flex gap-2 items-center",children:[p.jsx(Bo,{variant:a==="connected"?"default":"outline",className:a==="connected"?"bg-emerald-600 text-white":a==="error"?"border-red-600 text-red-600":"",children:a==="connected"?"Conectado":a==="error"?"Offline":"Conectando..."}),p.jsx(ct,{variant:"outline",asChild:!0,children:p.jsx(Qm,{to:"/a-pagar",children:"A Pagar"})})]})]})})}),p.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.length>0&&p.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[p.jsxs("div",{className:"max-w-xs",children:[p.jsx(De,{htmlFor:"month-filter",className:"text-foreground mb-2 block",children:"Filtrar por ms"}),p.jsxs(Ad,{value:d,onValueChange:h,children:[p.jsx(el,{id:"month-filter",className:"bg-card",children:p.jsx(Od,{placeholder:"Selecione o ms"})}),p.jsxs(tl,{children:[p.jsx(pr,{value:"total",children:"Total (Todos os meses)"}),I.map(D=>p.jsx(pr,{value:D,children:M(D)},D))]})]})]}),p.jsxs("div",{className:"flex-1 max-w-xs relative",children:[p.jsx(De,{htmlFor:"search",className:"text-foreground mb-2 block",children:"Buscar"}),p.jsxs("div",{className:"relative",children:[p.jsx(mt,{id:"search",className:"pl-8",value:y,onChange:D=>b(D.target.value)}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})]})]})]}),r.length>0&&p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-8 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-fuchsia-50 dark:from-violet-950/30 dark:to-fuchsia-950/30 p-6 rounded-2xl shadow-lg border border-violet-100/50 dark:border-violet-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsx("p",{className:"text-sm font-semibold text-violet-700 dark:text-violet-300 mb-2 group-hover:text-violet-800 transition-colors",children:"Total de Vendas"}),p.jsx("p",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 to-fuchsia-600 bg-clip-text text-transparent",children:N.length})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 p-6 rounded-2xl shadow-lg border border-blue-100/50 dark:border-blue-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2 group-hover:text-blue-800 transition-colors",children:["Total a receber",p.jsx("br",{}),p.jsxs("span",{className:"text-xs opacity-75",children:["(",d==="total"?"Todos os meses":M(d),")"]})]}),p.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["R$ ",q.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 dark:from-rose-950/30 dark:to-red-950/30 p-6 rounded-2xl shadow-lg border border-rose-100/50 dark:border-rose-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-sm font-semibold text-rose-700 dark:text-rose-300 mb-2 group-hover:text-rose-800 transition-colors",children:["Total a Pagar",p.jsx("br",{}),p.jsxs("span",{className:"text-xs opacity-75",children:["(",d==="total"?"Todos os meses":M(d),")"]})]}),p.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 to-red-600 bg-clip-text text-transparent",children:["R$ ",K.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-950/30 dark:to-teal-950/30 p-6 rounded-2xl shadow-lg border border-emerald-100/50 dark:border-emerald-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsx("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-2 group-hover:text-emerald-800 transition-colors",children:"Lucro Total"}),p.jsxs("p",{className:`text-3xl font-bold ${j>=0?"bg-gradient-to-r from-emerald-600 to-teal-600":"bg-gradient-to-r from-rose-600 to-red-600"} bg-clip-text text-transparent`,children:["R$ ",j.toFixed(2)]})]})]}),r.length>0&&d!=="total"&&p.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:p.jsx("div",{className:`p-6 rounded-xl shadow-lg border-2 transition-all ${q>=K?"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-400 dark:border-green-600":"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-400 dark:border-red-600"}`,children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:`text-sm font-semibold mb-2 ${q>=K?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:q>=K?" Receitas cobrem as despesas":" Receitas no cobrem as despesas"}),p.jsxs("div",{className:"flex items-center justify-center gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs opacity-75",children:"Diferena"}),p.jsxs("p",{className:`text-3xl font-bold ${q>=K?"text-green-600":"text-red-600"}`,children:["R$ ",Math.abs(q-K).toFixed(2)]})]}),q>=K&&p.jsx("div",{className:"text-green-600 dark:text-green-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),q<K&&p.jsx("div",{className:"text-red-600 dark:text-red-400",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),p.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]})]})})}),p.jsx("div",{className:"mb-8",children:p.jsx(Qb,{onSaleAdded:S,editingSale:m,onSaleUpdated:k})}),p.jsx(mR,{sales:N,onDeleteSale:E,onEditSale:x,onUpdateSale:k,selectedMonth:d})]}),p.jsx("footer",{className:"mt-16 py-6 border-t border-border bg-card/50",children:p.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:p.jsx("p",{children:" 2025 Ellas Concept - Sistema de Controle de Vendas"})})})]})},aw=w.forwardRef(({className:r,...e},n)=>p.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:n,...e}));aw.displayName="Textarea";const wT=({onExpenseAdded:r,editingExpense:e,onExpenseUpdated:n})=>{const[o,a]=w.useState(""),[l,u]=w.useState("Estoque"),[d,h]=w.useState(new Date().toISOString().split("T")[0]),[m,v]=w.useState(""),[y,b]=w.useState("PIX"),[S,k]=w.useState("2"),[x,E]=w.useState(""),C=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];w.useEffect(()=>{e&&(a(e.descricao),u(e.categoria),h(e.data),v(e.valorTotal.toString()),b(e.formaPagamento),e.parcelas&&k(e.parcelas.toString()),E(e.observacao||""))},[e]);const T=(z,M,j)=>{const q=crypto.randomUUID(),K=z/M,D=new Date(j);D.setMonth(D.getMonth()+1);const V=[];for(let G=0;G<M;G++){const W=new Date(D);W.setMonth(D.getMonth()+G);const Z=`${C[W.getMonth()]} ${W.getFullYear()}`;V.push({id:`${Date.now()}-${G}-${Math.random()}`,grupo_id:q,descricao:o,categoria:l,data:W.toISOString().split("T")[0],valorTotal:K,formaPagamento:"Parcelado",parcelas:M,parcelaAtual:G+1,mesReferencia:Z,observacao:x})}return V},N=z=>{if(z.preventDefault(),!o.trim()){Ae({title:"Erro",description:"Por favor, preencha a descrio da despesa.",variant:"destructive"});return}if(!m||parseFloat(m)<=0){Ae({title:"Erro",description:"Por favor, informe um valor vlido.",variant:"destructive"});return}const M=parseFloat(m);if(e){if(e.formaPagamento==="Parcelado"&&e.grupo_id){const j={...e,descricao:o,categoria:l,data:d,valorTotal:M,observacao:x};n?.([j])}else{const j={...e,descricao:o,categoria:l,data:d,valorTotal:M,observacao:x};n?.([j])}Ae({title:"Despesa atualizada!",description:"A despesa foi atualizada com sucesso."}),I()}else{if(y==="PIX"){const j=new Date(d),q=new Date(j);q.setMonth(j.getMonth()+1);const K=`${C[q.getMonth()]} ${q.getFullYear()}`,D={id:`${Date.now()}-${Math.random()}`,grupo_id:crypto.randomUUID(),descricao:o,categoria:l,data:d,valorTotal:M,formaPagamento:"PIX",mesReferencia:K,observacao:x};r([D]),Ae({title:"Despesa registrada!",description:"PIX registrado com sucesso."})}else{const j=parseInt(S);if(j<1||j>12){Ae({title:"Erro",description:"O nmero de parcelas deve estar entre 1 e 12.",variant:"destructive"});return}const q=T(M,j,d);r(q),Ae({title:"Despesa parcelada registrada!",description:`${j} parcelas de R$ ${(M/j).toFixed(2)} criadas.`})}I()}},I=()=>{a(""),u("Estoque"),h(new Date().toISOString().split("T")[0]),v(""),b("PIX"),k("2"),E("")};return p.jsxs($n,{className:"w-full shadow-lg rounded-xl border",children:[p.jsx(Fa,{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 rounded-t-xl",children:p.jsx(Ua,{className:"text-xl md:text-2xl font-bold text-foreground",children:e?"Editar Despesa":"Registrar Nova Despesa"})}),p.jsx(Jo,{className:"p-6",children:p.jsxs("form",{onSubmit:N,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(De,{htmlFor:"descricao",children:"Descrio da Despesa *"}),p.jsx(mt,{id:"descricao",value:o,onChange:z=>a(z.target.value),placeholder:"Ex: Compra de embalagens",required:!0})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"categoria",children:"Categoria *"}),p.jsxs(Ad,{value:l,onValueChange:z=>u(z),children:[p.jsx(el,{id:"categoria",children:p.jsx(Od,{})}),p.jsxs(tl,{children:[p.jsx(pr,{value:"Estoque",children:"Estoque"}),p.jsx(pr,{value:"Embalagens",children:"Embalagens"}),p.jsx(pr,{value:"Fornecedor",children:"Fornecedor"}),p.jsx(pr,{value:"Despesa Operacional",children:"Despesa Operacional"}),p.jsx(pr,{value:"Outros",children:"Outros"})]})]})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"data",children:"Data da Despesa *"}),p.jsx(mt,{id:"data",type:"date",value:d,onChange:z=>h(z.target.value),required:!0})]}),p.jsxs("div",{children:[p.jsx(De,{htmlFor:"valorTotal",children:"Valor Total (R$) *"}),p.jsx(mt,{id:"valorTotal",type:"number",step:"0.01",min:"0.01",value:m,onChange:z=>v(z.target.value),placeholder:"0.00",required:!0})]}),!e&&p.jsxs("div",{children:[p.jsx(De,{children:"Forma de Pagamento *"}),p.jsxs(Ra,{value:y,onValueChange:z=>b(z),children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"PIX",id:"pix"}),p.jsx(De,{htmlFor:"pix",className:"font-normal cursor-pointer",children:"PIX ( vista)"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(In,{value:"Parcelado",id:"parcelado"}),p.jsx(De,{htmlFor:"parcelado",className:"font-normal cursor-pointer",children:"Parcelado"})]})]})]}),!e&&y==="Parcelado"&&p.jsxs("div",{children:[p.jsx(De,{htmlFor:"parcelas",children:"Quantidade de Parcelas *"}),p.jsx(mt,{id:"parcelas",type:"number",min:"1",max:"12",value:S,onChange:z=>k(z.target.value),required:!0}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Entre 1 e 12 parcelas"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(De,{htmlFor:"observacao",children:"Observao (opcional)"}),p.jsx(aw,{id:"observacao",value:x,onChange:z=>E(z.target.value),placeholder:"Informaes adicionais...",rows:3})]})]}),p.jsxs("div",{className:"flex gap-2 pt-4",children:[p.jsx(ct,{type:"submit",className:"flex-1",children:e?"Atualizar Despesa":"Registrar Despesa"}),p.jsx(ct,{type:"button",variant:"outline",onClick:I,children:e?"Cancelar Edio":"Limpar"})]})]})})]})},xT=({expense:r,installments:e,isPaid:n=!1,onEdit:o,onDelete:a,getCategoryBadge:l,formatCurrency:u,formatDate:d})=>{const[h,m]=w.useState(!1),v=r.formaPagamento==="Parcelado"&&e&&e.length>1,y=r.formaPagamento==="Parcelado"&&r.parcelas&&r.parcelas>1?r.valorTotal*r.parcelas:r.valorTotal,b=r.valorTotal,S=n,k=Array.isArray(e)&&e.length>0?e.map(E=>new Date(E.data)).reduce((E,C)=>C<E?C:E,new Date(e[0].data)).toLocaleDateString("pt-BR"):d(r.data);return p.jsxs($n,{className:`w-full shadow-md hover:shadow-lg transition-shadow border ${S?"opacity-75 grayscale":""}`,children:[p.jsxs(Fa,{className:"pb-3 relative",children:[S&&p.jsx("div",{className:"absolute -rotate-12 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-500 text-2xl font-bold border-2 border-red-500 rounded px-2 py-1 z-10",children:"QUITADO"}),p.jsxs("div",{className:"flex items-start justify-between w-full",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx(Ua,{className:"text-lg font-semibold",children:r.descricao}),p.jsx(og,{className:"text-sm",children:k})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-lg font-bold",children:[u(y)," ",r.formaPagamento==="Parcelado"&&p.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"(Total)"})]}),r.formaPagamento==="Parcelado"&&p.jsxs("div",{className:"text-sm text-muted-foreground",children:[u(b)," (",r.mesReferencia,")"]})]})]}),p.jsx("div",{className:"mt-2",children:l(r.categoria)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ct,{variant:"outline",size:"icon",onClick:()=>o(r),title:"Editar despesa",children:p.jsx(Dg,{className:"h-4 w-4"})}),p.jsxs(Qv,{children:[p.jsx(Xv,{asChild:!0,children:p.jsx(ct,{variant:"outline",size:"icon",title:"Excluir despesa",children:p.jsx($g,{className:"h-4 w-4 text-destructive"})})}),p.jsxs(md,{children:[p.jsxs(gd,{children:[p.jsx(yd,{children:"Confirmar excluso"}),p.jsxs(wd,{children:["Tem certeza que deseja excluir esta despesa?",r.formaPagamento==="Parcelado"&&p.jsxs("span",{className:"block mt-2 font-semibold text-destructive",children:[" ATENO: Todas as ",r.parcelas," parcelas desta compra sero excludas permanentemente."]})]})]}),p.jsxs(vd,{children:[p.jsx(_d,{children:"Cancelar"}),p.jsx(xd,{onClick:()=>a(r.grupo_id||r.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})]})]})]})]}),p.jsxs(Jo,{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Bo,{variant:r.formaPagamento==="PIX"?"default":"outline",children:r.formaPagamento}),r.formaPagamento==="Parcelado"&&p.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.parcelaAtual||1,"/",r.parcelas," parcelas"]})]}),r.observacao&&(()=>{const x=r.observacao.replace(/\s*pago_em[:=]\s*\d{4}-\d{2}-\d{2}\s*/g," ").trim();return x?p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Observao"}),p.jsx("p",{className:"text-sm",children:x})]}):null})(),v&&p.jsxs(Iu,{open:h,onOpenChange:m,children:[p.jsx(Du,{asChild:!0,children:p.jsx("div",{className:"w-full",children:p.jsxs(ct,{variant:"outline",className:"w-full mt-2",onClick:()=>m(x=>!x),children:[p.jsx("span",{className:"flex-1 text-left",children:"VER MAIS"}),p.jsx(rd,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})})}),p.jsx($u,{className:"mt-3 space-y-2",children:p.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.sort((x,E)=>(x.parcelaAtual||0)-(E.parcelaAtual||0)).map((x,E)=>p.jsxs("div",{className:`p-3 flex items-center justify-between ${E!==e.length-1?"border-b":""} bg-muted/30`,children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium text-sm",children:["Parcela ",x.parcelaAtual,"/",x.parcelas]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:x.mesReferencia})]}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:"font-semibold",children:u(x.valorTotal)})})]},x.id))})})]})]})]})},_T=({expenses:r,onEditExpense:e,onDeleteExpense:n})=>{const o=m=>{const y={Estoque:{variant:"default",className:"bg-blue-500 hover:bg-blue-600"},Embalagens:{variant:"default",className:"bg-green-500 hover:bg-green-600"},Fornecedor:{variant:"default",className:"bg-purple-500 hover:bg-purple-600"},"Despesa Operacional":{variant:"default",className:"bg-orange-500 hover:bg-orange-600"},Outros:{variant:"secondary",className:""}}[m];return p.jsx(Bo,{variant:y.variant,className:y.className,children:m})},a=m=>m.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),l=m=>new Date(m).toLocaleDateString("pt-BR"),u=m=>{if(m.length===0||m[0].formaPagamento==="PIX")return!1;const v=new Date;return v.setHours(0,0,0,0),m.every(y=>{const b=new Date(y.data);return b.setHours(0,0,0,0),b<v})},d=r.reduce((m,v)=>{const y=v.grupo_id||v.id;return m[y]||(m[y]=[]),m[y].push(v),m},{}),h=Object.values(d).sort((m,v)=>{const y=u(m),b=u(v);if(y!==b)return y?1:-1;const S=Math.max(...m.map(x=>new Date(x.data).getTime()));return Math.max(...v.map(x=>new Date(x.data).getTime()))-S});return r.length===0?p.jsx($n,{className:"w-full shadow-lg rounded-xl border",children:p.jsx(Jo,{className:"p-8 text-center",children:p.jsx("p",{className:"text-muted-foreground",children:"Nenhuma despesa registrada neste perodo."})})}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(m=>{const v=m[0],y=m.length>1,b=u(m);return p.jsx(xT,{expense:v,installments:y?m:void 0,isPaid:b,onEdit:e,onDelete:n,getCategoryBadge:o,formatCurrency:a,formatDate:l},v.id)})})},bT=()=>{const[r,e]=w.useState([]),[n,o]=w.useState("TODOS"),[a,l]=w.useState(null),[u,d]=w.useState(""),[h,m]=w.useState([]);w.useEffect(()=>{(async()=>{try{const q=(await La(async()=>{const{data:K,error:D}=await Ye.from("sales").select("*, products (*)").order("created_at",{ascending:!1});if(D)throw new Error(`Erro ao buscar vendas: ${D.message}`);return K||[]},"Carregamento de vendas (APagar)")).map(K=>({id:K.id,customerName:K.customer_name,purchaseDate:K.purchase_date,paymentDate:K.payment_date,paymentMethod:K.payment_method,installments:K.installments,installmentValues:Array.isArray(K.installment_values)?K.installment_values:[],installmentDates:Array.isArray(K.installment_dates)?K.installment_dates:[],advancePayment:K.advance_payment,discount:0,products:K.products?K.products.map(D=>({id:D.id,productRef:D.product_ref,productName:D.product_name,purchaseValue:D.purchase_value,saleValue:D.sale_value})):[]}));m(q)}catch(j){console.error("Erro ao carregar vendas:",j)}})()},[]),w.useEffect(()=>{(async()=>{try{const q=(await La(async()=>{const{data:K,error:D}=await Ye.from("expenses").select("*").order("created_at",{ascending:!1});if(D)throw new Error(`Erro ao buscar despesas: ${D.message}`);return K||[]},"Carregamento de despesas (APagar)")).map(K=>({id:K.id,grupo_id:K.grupo_id,descricao:K.descricao,categoria:K.categoria,data:K.data,valorTotal:K.valor_total,formaPagamento:K.forma_pagamento,parcelas:K.parcelas,parcelaAtual:K.parcela_atual,mesReferencia:K.mes_referencia,observacao:K.observacao}));e(q)}catch(j){console.error("Erro ao carregar despesas:",j)}})()},[]);const v=async M=>{try{for(const j of M){const{data:q,error:K}=await Ye.from("expenses").insert({descricao:j.descricao,categoria:j.categoria,data:j.data,valor_total:j.valorTotal,forma_pagamento:j.formaPagamento,parcelas:j.parcelas??null,parcela_atual:j.parcelaAtual??null,mes_referencia:j.mesReferencia,observacao:j.observacao??null,grupo_id:j.grupo_id}).select("id").single();if(K)throw K;const D={...j,id:q.id};e(V=>[...V,D])}}catch(j){console.error("Error inserting expenses to Supabase:",j),e(q=>[...q,...M])}},y=async M=>{try{for(const j of M){const{error:q}=await Ye.from("expenses").update({descricao:j.descricao,categoria:j.categoria,data:j.data,valor_total:j.valorTotal,observacao:j.observacao??null}).eq("id",j.id);if(q)throw q}e(j=>j.map(q=>M.find(D=>D.id===q.id)||q)),l(null)}catch(j){console.error("Error updating expense in Supabase:",j)}},b=M=>{l(M),window.scrollTo({top:0,behavior:"smooth"})},S=async M=>{try{const{error:j}=await Ye.from("expenses").delete().eq("grupo_id",M);if(j)throw j;e(r.filter(q=>q.grupo_id!==M)),Ae({title:"Despesa excluda!",description:"Todas as parcelas foram removidas com sucesso."})}catch(j){console.error("Error deleting expense group from Supabase:",j),Ae({title:"Erro ao excluir",description:"Ocorreu um erro ao excluir a despesa.",variant:"destructive"})}},k=r.filter(M=>n==="TODOS"||M.mesReferencia===n).filter(M=>{if(!u)return!0;const j=u.toLowerCase(),q=M.descricao.toLowerCase().includes(j),K=M.valorTotal.toString().includes(u);return q||K}),x=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=Array.from(new Set(r.map(M=>M.mesReferencia))).sort((M,j)=>{const[q,K]=M.split(" "),[D,V]=j.split(" "),G=new Date(`${K}-${String(x.indexOf(q)+1).padStart(2,"0")}-01`),W=new Date(`${V}-${String(x.indexOf(D)+1).padStart(2,"0")}-01`);return G.getTime()-W.getTime()}),C=k.reduce((M,j)=>M+j.valorTotal,0);r.reduce((M,j)=>M+j.valorTotal,0);const T=h.reduce((M,j)=>{if(n==="TODOS")return j.paymentMethod==="pix"?M+j.products.reduce((q,K)=>q+K.saleValue,0):j.installmentValues?M+j.installmentValues.reduce((q,K)=>q+K,0):M;if(j.paymentMethod==="pix"){if(new Date(j.paymentDate).toLocaleString("pt-BR",{month:"long"}).replace(/^./,K=>K.toUpperCase())+" "+new Date(j.paymentDate).getFullYear()===n)return M+j.products.reduce((K,D)=>K+D.saleValue,0)}else if(j.installmentDates&&j.installmentValues){const q=j.installmentDates.findIndex(K=>new Date(K).toLocaleString("pt-BR",{month:"long"}).replace(/^./,V=>V.toUpperCase())+" "+new Date(K).getFullYear()===n);if(q>=0&&j.installmentValues[q])return M+j.installmentValues[q]}return M},0),N=k.reduce((M,j)=>(M[j.categoria]=(M[j.categoria]||0)+j.valorTotal,M),{}),[I,z]=Object.entries(N).sort(([,M],[,j])=>j-M)[0]||["Nenhuma",0];return r.length>0&&[...r].sort((M,j)=>new Date(j.data).getTime()-new Date(M.data).getTime())[0],p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("header",{className:"bg-card/70 backdrop-blur-md border-b border-border/40 shadow-md sticky top-0 z-50 backdrop-saturate-110",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("img",{src:ey,alt:"Ellas Concept",className:"h-12 md:h-16 w-auto rounded-lg"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent",children:"A Pagar"}),p.jsx("p",{className:"text-sm text-muted-foreground hidden md:block",children:"Controle de compras e despesas mensais"})]})]}),p.jsx("nav",{className:"flex gap-2",children:p.jsx(ct,{variant:"outline",asChild:!0,children:p.jsx(Qm,{to:"/",children:"Vendas"})})})]})})}),p.jsxs("main",{className:"container mx-auto px-4 py-6",children:[p.jsxs("div",{className:"mb-6 flex gap-4 items-end",children:[p.jsxs("div",{className:"max-w-xs",children:[p.jsx(De,{htmlFor:"month-filter",children:"Filtrar por ms"}),p.jsxs(Ad,{value:n,onValueChange:o,children:[p.jsx(el,{id:"month-filter",children:p.jsx(Od,{placeholder:"Selecione o ms"})}),p.jsxs(tl,{children:[p.jsx(pr,{value:"TODOS",children:"TODOS"}),E.map(M=>p.jsx(pr,{value:M,children:M},M))]})]})]}),p.jsxs("div",{className:"flex-1 max-w-xs relative",children:[p.jsx(De,{htmlFor:"search",children:"Buscar"}),p.jsxs("div",{className:"relative",children:[p.jsx(mt,{id:"search",className:"pl-8",value:u,onChange:M=>d(M.target.value)}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-muted-foreground",children:[p.jsx("circle",{cx:"11",cy:"11",r:"8"}),p.jsx("path",{d:"m21 21-4.3-4.3"})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-2xl mx-auto mb-6",children:[p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30 p-4 rounded-xl shadow-lg border border-blue-100 dark:border-blue-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-blue-600 dark:text-blue-300 mb-1 group-hover:text-blue-700 transition-colors font-bold text-lg",children:["Total a receber",p.jsx("br",{}),p.jsxs("span",{className:"text-[10px] opacity-75",children:["(",n==="TODOS"?"Todos os meses":n,")"]})]}),p.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:["R$ ",T.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 dark:from-rose-950/30 dark:to-red-950/30 p-4 rounded-xl shadow-lg border border-rose-100 dark:border-rose-800/30 text-center group hover:scale-105 transition-transform",children:[p.jsxs("p",{className:"text-rose-600 dark:text-rose-300 mb-1 group-hover:text-rose-700 transition-colors text-lg font-bold",children:["Total a Pagar",p.jsx("br",{}),p.jsxs("span",{className:"text-[10px] opacity-75",children:["(",n==="TODOS"?"Todos os meses":n,")"]})]}),p.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-rose-600 to-red-600 bg-clip-text text-transparent",children:["R$ ",C.toFixed(2)]})]})]}),n!=="TODOS"&&p.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:p.jsx("div",{className:`p-6 rounded-xl shadow-lg border-2 transition-all ${T>=C?"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-400 dark:border-green-600":"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30 border-red-400 dark:border-red-600"}`,children:p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:`text-sm font-semibold mb-2 ${T>=C?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:T>=C?" Receitas cobrem as despesas":" Receitas no cobrem as despesas"}),p.jsxs("div",{className:"flex items-center justify-center gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs opacity-75",children:"Diferena"}),p.jsxs("p",{className:`text-3xl font-bold ${T>=C?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["R$ ",Math.abs(T-C).toFixed(2)]})]}),p.jsxs("div",{className:"text-xs opacity-75",children:[p.jsx("div",{children:T>=C?"de saldo positivo":"de dficit"}),p.jsx("div",{className:"mt-1 font-semibold",children:T>0?`(${((T-C)/T*100).toFixed(1)}%)`:""})]})]})]})})}),p.jsx("div",{className:"mb-8 max-w-[70%] mx-auto",children:p.jsx(wT,{onExpenseAdded:v,editingExpense:a,onExpenseUpdated:y})}),p.jsx(_T,{expenses:k,onEditExpense:b,onDeleteExpense:S})]})]})},ST=()=>{const r=Go();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",r.pathname)},[r.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};function ET(){w.useEffect(()=>{const r=async()=>{try{await Ye.from("sales").select("id").limit(1),console.log("[Heartbeat]  Ping ao Supabase enviado com sucesso")}catch(n){console.error("[Heartbeat]  Erro ao fazer ping:",n)}};r();const e=setInterval(r,300*1e3);return()=>clearInterval(e)},[])}const kT=()=>(ET(),p.jsx(f_,{children:p.jsxs(o_,{children:[p.jsx(_a,{path:"/",element:p.jsx(yT,{})}),p.jsx(_a,{path:"/a-pagar",element:p.jsx(bT,{})}),p.jsx(_a,{path:"*",element:p.jsx(ST,{})})]})})),CT=fx.createRoot(document.getElementById("root"));CT.render(p.jsx(Nr.StrictMode,{children:p.jsx(kT,{})}));
